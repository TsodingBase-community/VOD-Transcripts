start,end,text
800,6160," i hope we're live looks like we're live hello everyone and welcome to yet another"
6160,12560," azutin session let's make a little bit of an announcement and officially start the stream"
12560,19120," as usual as we usually do uh let's wait for the discord of course let's do red circle uh"
19120,27760," thank you discord uh live on uh twitch and what are we doing today on twitch"
27760,35600," adot television website today we are generating assembly with php that's what we're doing today"
35600,42560," so let me give the link to uh the twitch channel where we're doing all of the shenanigans and let"
42560,48080," me ping everyone who's interested in being pinked and there we go the stream has officially started"
48080,57520," so today is uh the second episode of a c.php essentially the april fools joke that i did"
57520,64640," on uh april 1st right so the initial idea was to actually write uh some like implement a small"
64640,71840," subset of c in php that actually compiles down to assembly but unfortunately i ran out of time so i"
71840,78240," settled on uh compiling to python right so because it was just like easier right so we've got an ast"
78240,86160," and that ast was easy to just translate one to one to uh to python right but that's not really satisfying"
86160,91920," if you know what i mean it's not really satisfying i initially wanted to do assembly so i decided to do"
91920,98560," a second stream where we're going to implement the assembly backend for our compiler right so that's"
98560,103680," going to be the idea for today's stream so essentially uh we have a simple hello world in here"
103680,111040," right so we have a couple of like more examples because strager actually uh contributed some"
111040,114640," optimizations and stuff like that thank you so much strager for contributing to this project"
114640,121280," right so and we were compiling that to python right so and our goal for today is going to be actually"
121280,127920," compile this specific subset of c to assembly right so that's that's basically the idea let's take a look"
127920,137040," look at what we have already so i'm gonna go to uh to this entire thing uh c.php uh right and i'm gonna"
137040,142240," take a look so what's the status of this thing okay let's fetch the other stuff because we have some stuff"
142240,148560," uh you know committed hello hello everyone welcome welcome welcome so we've got a couple of subs i think"
148560,157680," i need to acknowledge them i'm pretty sure i have to acknowledge them so uh oh danny silvia oh dan is"
157680,162080," silly i don't know how to pronounce your nickname i'm really sorry but thank you so much for twitch prime"
162080,167360," compotec dot thank you so much for t1 subscription with the message hello happy coding hello come project"
167360,173760," to you too thank you thank you for t1 subscription azura akumori i hope i pronounced your nickname correct"
173760,181040," thank you so much for twitch prime with the message 10 month epic php club sodden hyper yes indeed we are"
181040,188400," finally epic php club and fang chi with a tier one subscription for 46 months holy with the message"
188400,197120," ayaya ayaya ayaya thank you so much for a tier one subscription ayaya indeed ayaya indeed all right so"
197120,203120," uh let's take a look at what we got right so we have this low c example and uh let's actually start"
204320,211520," uh c dot php compiler right so we have to provide uh an example and as you can see it actually generates"
211520,217600," uh this entire thing so i think i didn't merge whatever i actually fetched right so uh let me do"
217600,224480," git merge uh origin master that we call so now we're talking because uh we have a slightly different"
224480,229600," example in here as you can see we have more things in here uh right so if we run this entire thing"
229600,237360," as you can see we have uh the python code we can redirect that code to hello dot py i'm pretty sure"
237360,242880," you can't see in this mist right so let me quickly put something behind my camera i forgot to do that"
242880,249360," again but we should put that into my to-do list so i don't forget to do that right before the stream"
249360,256320," right so and now i can see the same thing you cannot see isn't that poggers holy"
256320,262960," shit okay so i redirected this to a separate thing and now i can do python 3 hello.py and as you can see"
262960,269600," it prints exactly what it's supposed to print uh we can even compare this entire stuff with an actual c"
269600,277280," compiler right so we can do something like this and uh no main this is because it is called hello"
278160,286160," that's why right and you can see uh that it's actually identical behavior absolutely identical"
286160,290000," behavior isn't that poggers that's insane holy"
290000,304160," so anyway um yesu yesu yesu so that's basically what we have in here so let's go ahead and see what we can"
304160,312480," extend and how exactly we can extend uh this entire thing right so we have a little bit of a code from"
312480,319440," striker thank you so much for committing this code uh so i suppose it would be nice to somehow maybe have"
319440,326640," a special flag for different targets if you know what i mean right so um essentially we only accept the"
327520,332880," the file path right we only accept the file path but it would be nice if we could do something like"
332880,342160," php c.php right we could provide hello.c and then we could do something like target and we could specify"
342160,348720," uh something like python 3 right python 3. or in our case i want to be able to use assembly"
348720,355520," right uh but assembly is actually very vague thing right what does assembly even mean right so because"
355520,362880," we assembly is not a particular language by the way there is this uh wild wide belief that assembly is"
362880,368560," somehow a very specific concrete language it's actually not it's a family of different languages"
368560,375040," right so you you have different kind of kinds of dialects of assembly depending on the on the cpu you use"
375040,381200," right so in my in my case i'm using x86 64. right what's interesting is that in the specific target"
381200,388640," for this compiler uh just knowing the specific architecture is not enough because uh usually"
388640,394160," the programs do not exist in a vacuum right so sometimes they do but usually if you want to"
394160,400400," have anything useful you need to interact with an operating system right and depending on an operating"
400400,407280," system you interact with it differently right so well i mean you can generally say that you issue syscalls"
407280,413920," but depending on operating system you issue syscalls differently they use different registers to denote"
413920,419600," the the specific syscall they use different numbers and so on and so forth so if you have a"
419600,425280," program that is written for linux it won't be able to interact with uh windows right because the"
425280,429760," windows just won't understand these kind of syscalls they're trying to communicate and vice versa"
429760,435920," well i mean these days uh due to wsl i think windows will be able to do that but that's besides the"
435920,441920," point so what i'm saying is that uh knowing architecture of the cpu is not enough you also need"
441920,450080," to know the operating system you are operating on right so i suppose one of them uh one of the"
450080,457120," targets that we're going to add is going to be exit 60 64 linux but what's interesting is that it's also not"
457120,461680," enough right because what we're going to be generating we're going to be generating assembly"
461680,469520," text for an external assembly tool to assemble this entire stuff you know what i mean right so and there"
469520,474960," are different kinds of assemblies with different syntaxes so you even though you're writing uh you know"
474960,482800," your program for linux on x86 64 uh processor uh you may write it differently depending on the assembly you're"
482800,489600," using right so what exactly you're using are you using nasm or using fuzzm or you're using gnu assembly"
489600,496320," which is like uh s or something i think it's called gas right and they have different syntaxes even though"
496320,503120," you're writing for the same operating system for uh the same architecture depending on the compiler the"
503120,512640," syntax is going to be different right so it's it's insane it's bananas uh right so what we have to say"
512640,520080," so usually i prefer to use something like fuzzm right because it's probably the smallest assembly out"
520080,527360," there uh it's very minimalistic and it actually does precisely what i want and furthermore it's um"
527360,535120," self-hosted yes fuzzm or flat assembly assembler is actually self-hosted it's written in itself"
535680,542000," it's actually super cool right so i think you can find it on github right so there is a uh you know"
542000,549200," some uh versions on github uh it's kind of i hope that's what it is this is the official what is this"
549200,557040," one and what is it why is it higher than the official one what the what kind of search engine optimization"
557040,563440," hackery is that this is not supposed to be on the top this is not the creator the creator as far as"
563440,568880," you know this is the creator luckily the creator just has more stars right so there is no scamming in here"
568880,574400," i don't know who that is uh but the actual creator is is them right i remember that they"
574400,580000," their nickname i don't know how to pronounce this nickname but i kind of remember the shape of the nickname if you know what i mean"
580000,588640," uh thomas grishtar i hope i don't see their name correctly so yeah this is the thing and this thing"
588640,593920," is written in itself right so which is kind of cool and that's what we're going to be using today right"
593920,601520," so we're going to add additional target which is going to be basically phasm x86 64 linux right so so"
601520,608720," we're going to have two uh platforms the first one is going to be python 3 just python 3 and the second"
608720,615760," platform is going to be phasm x86 64 linux what's funny is that this might not be enough as well"
615760,621200," because depending on the version of the linux there are slight differences in the sys calls"
621200,629040," so it might worth mentioning for what version of linux you're writing your program is it 2.6 we're not"
629040,636640," going to go there right so we're not going to be using anything um except since such sys calls as"
637440,645760," sys write to write some text into a standard output and sys exit to just uh you know successfully exit"
645760,654640," out of your program and i didn't think these sys calls changed ever right so yeah so i didn't think"
654640,661760," they changed that much across different versions of the kernel if you know what i mean so to basically"
661760,668800," combat the problem of you know incompatible c schools and stuff like that uh linux distro developers came"
668800,674800," up with this concept of libc i'm not sure who came up with that but essentially uh libc is supposed to"
674800,680320," be this sort of like a compatibility layer that basically helps you to adapt your program to different"
680320,685600," versions of the kernel so you never have to think about compatibility between different versions but it"
685600,693120," didn't really work as expected as usual because quite often the linux distro developers like to"
693120,700240," recompile their libc so it's not uh abi compatible with existing programs anymore and you have a problem"
700240,704400," worse than compatibility with uh sys calls of different versions of linux"
704400,711520," and by the way linux star was himself actually complained about that specifically it's just like"
711520,719600," we're working our ass off to not break any of the user code and those goddamn distro developers just"
719600,728240," recompile everything however they want breaking everything so it's just like it is more reliable"
728240,736400," to just write without libc than with libc right because you have less chance of actually your program"
736400,744880," breaking you know it's actually kind of fun if you think about it anyway uh so uh i think we've got"
744880,752000," another sub i forgot to acknowledge that uh thank you so much hanuka max i hope i pronounced your name"
752000,758480," correctly thank you so much for a tier one subscription thank you thank you thank you uh welcome to our epic a php"
758480,760560," club a bhp club"
760560,773040," syscalls are pretty stable so i actually yeah i actually have this interesting thought um"
773040,784720," if you write uh program in assembly x86 64 assembly without using libc and only relying on the uh linux"
784720,791920," syscalls your program is going to very likely work on any distribution of linux very likely it's going"
791920,796240," to work on pretty much any distribution of linux because it doesn't depend on libc so there's less"
796240,804320," surface of uh like uh less surface of problems right uh because a majority of the problems with uh"
804320,810960," different distros is in libc so it's going to work on uh linux it is going to work on freebsd because there"
810960,819360," is compatibility layer for linux in freebsd right it is going to work on windows because there is wsl"
819360,830480," so by just writing a program without libc and calling linux's calls directly you already writing"
830480,839120," more cross-platform code than using vpc just think about that holy it's gonna work on"
839120,845520," three operating system is it going to work on mac os so as far as i know mac os is freebsd right so"
845520,852000," does it inherit the freebsd compatibility layer with linux i just don't know like i never used mac os"
852000,861840," so if it does that means it will also work on mac os so i mean it's it's all uh under condition that"
861840,867440," you're not using something like very very weird that might not work between different compatibility"
867440,873280," layers and between different versions of the linux and stuff like that uh so yeah"
873280,878960," it's kind of interesting and what's funny is that nobody's thinking about that right so"
878960,886160," i think uh by the way i'm not saying that we have to write our programs like that from now on that's not"
886160,892560," what i'm saying what i'm saying is that we have to stop as a software development community we have to"
892560,899840," stop and ponder do we really understand how cross platform ability work because this example kind of"
899840,910560," shows that we really don't right i'm just saying right just just throwing that out there um so anyways so"
910560,916960," we've got some uh some more subs um thank you so much trey weston for twitch prime subscription thank"
916960,923120," you thank you thank you uh qband3 thank you so much for uh twitch publication ntx hacker thank you so much"
923120,929040," for 100 bits with the message i love you i love you too a random viewer in the chat i love you too"
929040,939920," all righty so uh we need to introduce some flags all right we need to introduce some flags for the"
940960,947200," for uh different platforms right so let's actually define something similar to how i defined"
947200,954800," enumerations in here you know so we can define uh something like um how can i call that"
954800,963840," target python3 right so this is going to be target python3 uh right and essentially this just creates a"
963840,969600," constant right this just creates a constant in here that they can use uh to refer to different things"
969600,976160," right though we can actually make it equal to the actual string that the user is supposed to provide"
976160,983600," right so the actual string so then we can compare this instead so uh then i want to do target"
983600,996000," phasm x86 64 64 linux right and it's going to be equal to phasm x86 x64 linux there we go"
996000,1003120," so this is what we're going to have right so essentially what i want to do now uh i want to"
1003120,1010560," uh parse the command line arguments so as far as i know in pearl and bash there is uh an operator called"
1010560,1017680," shift is there something like shift in php let's actually find out let's actually google it up i know"
1017680,1024960," that in 2023 it's kind of a you know embarrassing to use google instead of chat gpt but it is what it"
1024960,1032000," is and it isn't what it isn't i don't have a choice uh right so uh php shift let's find out"
1035680,1042560," there is a ray shift okay that's pretty cool isn't that cool i think it's pretty cool why i keep saying"
1042560,1050560," that uh so you actually pass it by by a reference it's actually actually kind of cool uh php has like"
1050560,1058960," references right so because i can i keep seeing this uh ampersand over and over again and i suppose this is"
1058960,1067200," like a pointer right so this is the first scripting language i've seen that has pointers maybe pearl"
1067200,1074560," also has something like that but it's kind of interesting right um so anyway so what do we have"
1074560,1082000," in here we just do array and it basically uh pops out like you you have array of fruits right and you"
1082000,1086480," just pop out the fruit out of that and what it's supposed to do it's supposed to actually pop uh"
1086480,1091920," pop out and orange let's actually find out uh let me put this thing in here and of course here i'm"
1091920,1098320," going to do exit with 69 69 and what i want to do in here is just like run this entire thing and see"
1098320,1105680," uh if it will actually print an orange right so uh input is not provided which is kind of interesting"
1105680,1115840," right so do i check for the input uh in here uh right so i think i'm checking yeah i'm checking"
1115840,1121920," for the input actually up there so i wanted to actually move it in here uh there we go so that"
1121920,1129200," should be fine there we go so as you can see we have uh orange right and i should probably try to print"
1129200,1135120," uh the fruit i just want to see the fruit okay can i print the fruit i can print the fruit but it's"
1135120,1141040," going to be printed without any uh new line print underscore r i'd never heard about this function"
1141040,1146720," before but this sounds like something interesting if you know what i mean can i just like do string"
1146720,1154320," interpolation like in in bash for some reason emacs is super slow for me yeah i cannot do that"
1154320,1162960," unfortunately so i probably have to do some some shite like that uh fruit is that because i oh maybe i"
1162960,1168880," actually made a typo that's why i couldn't do that wait is that because of the typo because"
1168880,1178400," of the typo okay so i can actually do this kind of yeah that's pretty cool so uh that means this is"
1178400,1186640," actually more than enough for me all right so we have arc c and in all fairness i don't quite understand"
1186640,1191680," why do i have rx in a language where i can just measure the size of argv"
1191680,1204960," right so the reason to have rx is purely because c doesn't have a way to get the size of the array at"
1204960,1214480," runtime it's a hack specifically for c and in the language where you can just get the length of argv why"
1214480,1222000," the f would you have it so that's a very good question right so uh so i don't quite remember how"
1222000,1236080," do you get the length of the array so uh php array length it's a size of okay so that's cool i want to"
1236080,1240000," actually uh see what's gonna happen uh right so"
1240000,1248880," for some reason emacs is super slow maybe i should just use vim for this one uh i don't know why this"
1248880,1255600," is so slow for me uh it's just like so weird it's just like lagging is that because of the emacs"
1255600,1262000," like like i mean specifically emacs or is that because i'm streaming like i don't know but i don't"
1262000,1268400," have these problems with vim so i'm gonna be using them right this is so weird i just don't understand"
1268400,1280240," uh okay um so because in in emacs some modes actually make it slower right so maybe like the php"
1280240,1286400," mode is just doing something weird i don't really know uh so maybe that's the case but who knows all"
1286400,1292080," right so what i wanted to do right so i just wanted yeah yeah so the dream is it's a little bit better"
1292080,1299600," uh right i wanted to just take the size of uh r green right size of our green so something like this"
1299600,1309760," and just maybe exit with uh 69 uh and then i'm gonna just run this entire thing php c dot php and it"
1309760,1315760," says one because i didn't provide any arguments but if i provide full bar buzz uh it has four of them"
1315760,1326720," and one of them is the program right so if you essentially uh just print um argv zero right something"
1326720,1333280," like that uh yeah so you will see the problem so and essentially the first thing we want to do we"
1333280,1339680," probably want to get the program right so i'm going to do array shift and what i have to provide i have"
1339680,1348080," to provide arg uh argv right so but i didn't have to provide argv with any yes so i i was just thinking"
1348080,1352960," do i have to provide the ampersand in here i didn't have to provide the ampersand in here okay so this is"
1352960,1361360," the program uh right in here uh how can we check that we um didn't provide any any file input we have to"
1361360,1370880," probably check for thing like uh size of argv being equal to zero right so if it's equal to zero that"
1370880,1377840," means there is no input uh that was provided all right but here is an interesting thing here is an"
1377840,1385280," interesting thing we want to be able to actually provide the target regardless of uh its position"
1385280,1391440," within the command line arguments right so as you can see i want to be able to say target uh python"
1391440,1400720," three or i want to be able to first provide the file name and then say target python three"
1400720,1408400," how can i do that how can i make it independent from the position within the command line arguments"
1409600,1416160," that's a very interesting question isn't it so the way i do that is that is basically i postpone uh"
1416160,1420800," the check for the inputs and stuff like that so essentially i say that okay the input is going"
1420800,1424960," to be something but it's going to be null do i have null in php it looks like i do because"
1424960,1440720," it is highlighted in here so um okay so we do we say input right uh and uh we also specify the initial"
1440720,1445920," platform right so i'm going to say platform and by default let's say that the default platform is going"
1445920,1452960," to be uh python 3 right at least for now at least for now this is going to be the default platform"
1452960,1462480," and then i'm going to organize the um command line argument parsing loop so while size of uh arg v is"
1462480,1470320," greater than zero what i'm going to be doing i'm going to be extracting the flag right so essentially array"
1470320,1475680," shift arg v and i'm going to be checking the flag right so we're probably going to do something like"
1475680,1485040," switch is the flag uh for instance something like um platform or target right if it is target we're going"
1485040,1493920," to simply set uh platform to whatever we have in there so we actually need to check if there is an argument"
1494480,1500960," after that right so we need to check if there is an argument after that so uh let me see so essentially"
1500960,1508640," what i'm going to do i'm going to check if size of arg v is gray is actually equal to zero that means"
1508640,1517200," the user provided dash target but didn't provide anything after the dash target which is completely"
1517200,1523360," haram in my opinion right so we have to throw some sort of an error right so we need to throw some sort of"
1523360,1530480," an error uh so we've got uh some beats from hector hsc uh without any message by the way thank you so"
1530480,1536480," much for 100 beats by the way when you are subscribing with a message or donating beats you can always put"
1536480,1542160," some sort of a message in there maybe some sort of a question right and uh i'm gonna give it high"
1542160,1547840," priority while answering right because every time somebody like you know donates or subscribes i can see"
1547840,1554240," that and i can answer something so you can use that uh to ask me question to force me to answer your"
1554240,1561920," question right so uh if it's equal to zero we have to throw some sort of an error right so we have to say"
1561920,1574800," print uh error um no value was provided uh for flag and we can save flag by the way can i have like literally"
1574800,1579840," expressions in here i wonder it's actually a very interesting question right so if i have an array"
1579840,1587840," can i just use it like that or maybe can i just drop it like that wait a second i can i can have like"
1587840,1596240," entire expressions interpolated within the string in php what kind of god language is that what the"
1596240,1605600," bug this is like this is better than python oh i mean in python you can also do this kind of stuff"
1605600,1612400," but i'm just saying this is actually pretty cool language isn't it so you can do a lot of"
1612400,1620400," in it anyway so in here we have to say uh 69 right so basically we couldn't get any any parameter in here"
1620400,1624960," so and the next thing we need to do we need to get the platform right so we need to take the argument so it's"
1624960,1632160," going to be array uh i think i saw somebody uh donating 100 bits um thank you so much as ven supreme"
1632160,1637680," for 100 bits with the message a message uh cap on so yeah thank you so much that's precisely what i was"
1637680,1645280," talking about um okay so we're going to do array shift and this is going to be our review right so this"
1645280,1651280," is going to be our green and this is the art and here's the thing right so we need to check whether it's an"
1651280,1659520," actual valid platform if you know what i mean right so if it's an actual valid platform so if uh let's"
1659520,1672320," actually do switch on the arc right if it's uh target platform so you target python or target phasm"
1673200,1678800," does it fall through i hope it falls through all right so in that specific case what we want to do"
1678800,1684720," is essentially set the platform to whatever was set by the user right so that's one of the things we do"
1684720,1691920," so another thing that i like to do with this kind of stuff is essentially uh have a special platform"
1691920,1699040," that doesn't exist like list and this platform is supposed to print the amount of available platform"
1699040,1704880," so this is kind of like what i like to do uh for for my languages right so you can provide the the target"
1704880,1710560," and say least target and it will basically print all the available targets and then you can pick one"
1710560,1715760," it's actually kind of convenient i think i steal that idea from some existing project but i"
1715760,1722880," unfortunately i don't remember but that's 100 not my idea right so essentially what you can always do"
1722880,1728640," you can say see the php okay target but i i don't know what kind of targets we have in here okay list"
1728640,1733920," and that will basically stop and just print all the targets and then you can pick one of them like python"
1733920,1739520," three or something like that uh right which is actually very convenient from the like ux point of view"
1739520,1749600," if you know what i mean uh okay so we've got some sub from yes 0401 with a message at sodian poging i'm also"
1749600,1757040," a poging right now thank you thank you so much for twitch prime subscriptions that's one of my one of my hobbies"
1757040,1764560," one of my hobbies is dabbing and poging"
1767440,1775520," that's what i like to do in my spare time like dabbing and poging anyway so uh it would be kind of nice"
1775520,1780080," if we had all of the available platforms uh"
1780080,1791360," he's literally me for it i'm really bad that uh that being a middle-aged dude on the internet i'm still"
1791360,1796560," relatable to zoomers that's pretty cool that's actually kind of sad if you think about it"
1797280,1801440," so um"
1801440,1809840," all right so we've got uh even more uh beats uh so thank you so much bobsware for 100 bits with a"
1809840,1816880," message i wish to see you doing something with swift language trust me i wish the same too so the last"
1816880,1824800," time i tried to uh run swift on my machine it was basically suggesting me dude you have such a weird"
1824800,1837040," platform just run it in a docker and it was like what like what is it like you guys know what is a compiler"
1837040,1844560," i keep saying that you guys know what is a compiler it's a goddamn program that accepts a stream of bytes"
1845280,1852720," and translates it to another stream of bytes you're coming to me and suggesting that running that on my"
1852720,1858160," machine is such an unsolved computer science problem that i have to use a freaking docker just to convert"
1858160,1869360," one sequence of bytes to another sequence of bytes just like no just just no i'd rather implement cnphp"
1870400,1872800," that run a compiler in a freaking docker"
1872800,1880560," that is less insane in my opinion"
1880560,1890560," yeah thank you maybe one day when uh somebody donates me a macbook pro the latest version the"
1890560,1896560," most expensive one the most powerful one then i will consider maybe doing a swift stream we'll see"
1896560,1905040," do apple products still work in russia i don't know i think they kind of do i don't know"
1905040,1910800," because i'm pretty sure like maybe apple actually shut down all the services in russia so it's pointless"
1910800,1924480," to have anything apple uh so um so we've got more subs uh from first rage uh thank you so much for"
1924480,1930560," everyone's subscription oh i missed the function so yeah because you actually put identical uh message i"
1930560,1935280," literally missed it uh right so thank you so much for one hand beats with the message i wish to see you"
1935280,1942560," doing some something with cabal language didn't i already do cabal cabal stream uh i don't know i'll"
1942560,1948080," consider that i'll consider that uh first rage thank you so much for your subscription and zhiang"
1948080,1955280," thank you so much for 46 months of tier 2 subscription my god thank you so much with the message i wish to"
1955280,1960400," see you doing something in objective c cap well that already sounds like something doable because there is"
1960960,1968480," uh there are no non-apple compilers for uh for objective c so as far as no gcc had objective c compiler"
1968480,1976720," so i may consider that actually i may consider that um when you did your last cabal stream most"
1976720,1983520," people here in the chat weren't even born cap i mean i'm not that old come on uh so thank you so much"
1983520,1987680," for what you want subscription kissle ball i have a pronouncing nickname correctly thank you thank you thank"
1987680,1994960," you and welcome to our epic php club how about that how about that how about that"
1994960,2004240," all righty all righty all righty all righty all righty righty so what i wanted to have so essentially"
2004240,2015920," what i need to do is uh basically put all of that into i guess like a list otherwise i won't be able to"
2015920,2023680," print that it's too much effort i i don't think i want to actually do all of that stuff so um essentially"
2023680,2031760," but i actually have to kind of have to do that right so essentially i want to have a single centralized"
2031760,2038800," place right so like a single centralized place where i could just add a new platform and i don't have to"
2038800,2047440," modify it in too many places right so if i create all of the platforms like so by doing something like"
2047440,2056320," that uh python 3 target fosm i automatically have to update two places if i want to add another platform"
2056320,2062320," so i have to add it in here uh right and then i have to add it in here so which is not convenient but i want"
2062320,2069120," to have the platforms as an array uh as an array because then with the list with the list i will be"
2069120,2073920," able to do something like for each and how do you even use for each i don't remember yeah this is how we"
2073920,2085520," do that you say uh basically platforms uh as um so like i could probably use platform but it's already"
2085520,2092960," taken this also it's called p uh right and then here we can say something like uh p and we'll also have"
2092960,2098720," to put that in the line here right so having all the available platforms as an array is rather convenient"
2098720,2104160," because i will be able to do something like this right so we'll be able to do something like this and"
2104160,2110560," first in here we have to throw an error saying something like error unknown uh platform it's not"
2110560,2115840," really platform target i should i should call them targets they're not really platforms they're targets"
2115840,2122320," or you can call them target platforms right so we can call them target platforms uh right so unknown"
2122320,2129920," target arg right with a new line and then we can say okay exit with a 69 69 but this is very"
2129920,2135600," inconvenient if you know what i mean because right so i already have three places where i have to add a"
2135600,2143120," new platform right so the first one is in here the second one is in here and the third one is in here"
2143120,2151520," this is insane for maintainability some people think that oh the the global variables are detrimental for"
2151520,2156160," your maintainability no this is bullshit global variables are good because they make the"
2156160,2162400," communication of different parts of the application easier this is the real problem for maintainability"
2162400,2167920," right so just to add a new platform you have to modify in three different places and you can easily"
2167920,2175760," forget to modify one of the places global variables are nothing compared to this kind of they're nothing"
2176960,2182800," right so right i mean they become probably in multi-threaded environment but"
2182800,2190400," we're talking about php what kind of multi-threading you're talking about excuse me this is php"
2190400,2200640," it's the the way php is used is literally they start an interpreter for each an individual query and then once"
2200640,2208000," the query is done once the query is handled the php interpreter dies so all of the global variables within"
2208000,2215920," the script are basically local variables if you know what i mean because they they don't even live for that"
2215920,2223200," long to be fair i don't know how php is used these days maybe these days it is like they're they are like a"
2223200,2229680," long running php scripts or something like that i i don't know but back in my days back in my days php was"
2229680,2233680," just like surf and die freaking surf and die"
2233680,2244880," just like in my country you get born you serve and you die okay we've got some uh beats uh azura"
2244880,2249840," akimori thank you so much for one hand beats with a message if you could magically replace c as a standard"
2249840,2255280," language what language would you prefer or is there a type of length you think would be bad"
2255280,2262080," would be better than c"
2262080,2270800," i don't know anything with a stronger typing i suppose right"
2270800,2279520," maybe so i feel like maybe if we will try to replace c we end up with just another c"
2279840,2287920," so one thing we can do we can just improve the typing just make it stronger because one of the"
2287920,2293520," biggest problem we see is that it the typing is a little bit weak right it's easy to make like these"
2293520,2299200," mistakes when the types accidentally converted and stuff like that so i don't know i don't know i didn't"
2299200,2306400," really think about that um so uh not really particularly good uh answer but"
2306400,2313600," thank you so much dread pirate roberts for for community gifted subs for community"
2313600,2320320," so for for now it's just like i basically voiced my the main concern with c is just like the uh the"
2320320,2326560," strongest strongest strongest strongest of the typing system right so that's one of the things that"
2326560,2332560," bothers me the most with c uh the most there are multiple things but it's like the most thing"
2332560,2343600," okay so after we done listing these things of course we probably want to exit with a 69 69 right"
2343600,2352960," so essentially how can we uh simplify this entire thing we can try to maybe get rid of one of the place"
2352960,2359760," right we can try to get rid of one of the place and that place could be actually this thing believe it or"
2359760,2368320," not we can just do something like if arg equal equal equal list all right just do this thing and die"
2368320,2379440," just do this thing and die right and in here we can just check just check if uh arc is in"
2380160,2388960," the platforms and if it is in platforms we can say set the current platform to the arg right and basically"
2388960,2397040," like continue but maybe we don't have to continue we can move the error handling of unknown thing to else"
2397040,2404000," that way we kind of get rid of this entire switch case and essentially um this particular place doesn't"
2404000,2408560," really care about how many platforms we have in here so we can just add them to the list"
2408560,2417040," and that's it basically uh right so now we have two places in which we have to add uh you know all of"
2417040,2422800," the all of the platforms which is obviously better in my humble opinion right this is definitely better"
2422800,2430480," but the question is how do you check that a particular variable is within uh array i don't really know"
2430480,2436240," i literally hallucinated this entire syntax just like llm that's right"
2436240,2444880," right i have no idea how you check if a particular thing is within uh array so i have to google that up"
2446160,2452960," so but since uh i didn't want to interrupt my trail of thoughts right i didn't want to interrupt my trail"
2452960,2458560," of thought i basically confabulated the thing so i can continue thinking about like the rest of this"
2458560,2464640," stuff and then i can go back to confabulated thing and just maybe resolve it so that's how my brain works"
2465280,2478080," uh right essentially um so all right php check uh check if array contains element or something like that"
2478080,2487280," check if array contains element uh in array okay so there is a function called in array"
2489360,2498160," checks for the value already exists within an array uh needle so i just have to provide needle and haystack"
2498160,2508240," so if in array all right so in array it doesn't auto complete but you can just provide this thing like"
2508240,2514800," this uh right if it is within array we just set this entire thing otherwise we say that this is unknown"
2514800,2519120," target and that should be it okay so we have only two places where we have to add"
2519360,2526080," a new platform if we ever going to add a new platform can we simplify this stuff even further"
2526080,2531760," can we simplify this stuff even further so the reason why i want to have this thing"
2531760,2538960," is because then later down there after i done handling everything right so somewhere down there"
2538960,2545920," uh somewhere down there uh i can do something like um this is not really good anymore but i mean"
2545920,2553040," let's actually keep it so switch uh platform switch platform and then i can say something like a case"
2553040,2560800," target uh target python phasm uh there we go and like this and i want you to have this constant so i don't"
2560800,2569440," accidentally uh mistype something right so if i'm going to get rid of this constants i'll have to provide"
2569440,2575840," things like this which might be actually a problem if i made some sort of a typo in here"
2575840,2583680," but what we can do basically what we can do we can actually put some sort of an assertion here"
2583680,2589440," saying that this is going to be unreachable and every time we add a new platform and we test a new"
2589440,2593120," platform we're going to hit an unreachable in here and we're going to know that we need to"
2593840,2605360," uh add a new case in here so i think getting rid of uh these constants actually beneficial right so i can"
2605360,2615120," now say okay python three so these constants are not particularly needed right i think they only add more"
2615120,2623920," complexity uh right so there we go so now we have only a single place where we have to add a new"
2623920,2629680," platform if we ever going to add one right so one of the things we can maybe add in the future is maybe"
2629680,2637200," i don't know arm but i mean phasm doesn't support arm but it doesn't really matter so something like arm so"
2637200,2643600," we have to modify only this place then um we don't have to modify this particular specific place"
2643600,2647840," and in the future in that switch case down below when we're going to do different generations"
2647840,2653760," uh we're going to have an unreachable case which will remind us at runtime that we have to add something"
2653760,2659760," so we have a single place single centralized place uh where we can add all the platforms that's all"
2659760,2665920," that makes sense i think it does make sense right so sometimes people don't understand why i'm"
2665920,2672320," like you know ratholing about like you know these unimportant things right but but this is because"
2672320,2677920," like i'm thinking in the future what if i'm going to add more and more and more right so i'm thinking"
2677920,2686960," about like a ux of the code if that makes any sense right not that many people actually think about it too"
2686960,2693600," much right in the sense that so what's going to be the experience of adding a new platform what's going"
2693600,2699360," going to be the experience of adding a new platform right so it should be as easy as just adding a new"
2699360,2706320," string in here right so okay uh we don't really need this coding here it was just an experimental code"
2706320,2713760," doesn't really matter so we're gonna do that so we basically set the target right so and then if uh so"
2713760,2720480," we basically handled one of the flags we handled the target flag and if we encounter if we encounter an unknown"
2720480,2728400," flag we can basically set uh this flag so it doesn't really like the default why does it"
2728400,2735120," elder complete default in such a weird way i wonder but then in any case uh we can basically set"
2735120,2746320," this specific flag as the input we just set this flag as an input so and essentially that way we uh can"
2746320,2756000," handle input of the of the compiler and the target flag independently of its uh order right so essentially"
2756000,2760800," if the target flag is going to come first we just first going to handle the target flag and then we're"
2760800,2765440," going to handle the input and vice versa right so and how we're going to check that the input was not"
2765440,2773360," provided right so we initially set input to null which means that if after this entire loop the input is null"
2773360,2780960," right so input is equal to null right i'm not sure if that's if that's the idiomatic way of checking if"
2780960,2786320," something is null in php that but i don't know this language and i don't care right so if it's equal to"
2786320,2792080," null that means the input was not provided and this is uh where we're gonna actually you know fail in here"
2792080,2799120," right so here we have a file path and we can set the file path to like input right so and continue as"
2799120,2809040," usual there we go so uh we implemented parsing of the flags in php and i haven't run this code a single"
2809040,2820480," time so i have no idea if it works or not just like a llm right because llm just generates code without"
2820480,2828320," even knowing if the if this thing even works right it just generates something right it's your responsibility"
2828320,2837600," you know to to run it and make sure that it runs it's not the responsibility of llm it has more"
2837600,2844800," things to do it needs to handle the requests of other users it get no time to actually check your code"
2844800,2848160," check the code yourself and come on so we've got"
2848160,2854800," uh so let's actually see if this entire works because i have no idea right so i'm going to try to"
2854800,2863840," run it and it fails with a syntax error it literally fails with the syntax error and just like when we're"
2863840,2867840," working with the chat gpt we're going to take that error and we're just going to go through and try to"
2867840,2873920," troubleshoot that right so what the is going on in here apparently i forgot to put parentheses in here"
2873920,2880080," sure i think so uh let's continue what's going to be the next error okay so it doesn't know what"
2880080,2887120," is a target python it's on the line 323 uh which is understandable so we're going to say that uh you"
2887120,2893600," know i have an idea we can actually do something like platforms.0 how about that so and it's basically"
2893600,2902400," going to use the first element in here as the default one that's pretty cool i think and it"
2902400,2907360," doesn't complain but now we have to provide the input so we're going to provide uh hello.c and it seems to"
2907360,2913680," be working so i can now try to provide a different target uh so uh let's actually provide just target"
2913680,2918160," and it will fail no value was provided for the flag target we're going to provide something like this"
2918160,2925840," an unknown target right so everything seems to be working if you provide list as you can see it lists"
2925840,2931840," all of the available targets it doesn't really tell you uh that these are available targets so maybe this"
2931840,2940400," is something that we have to say in here uh right available uh targets right so this is gonna be a new"
2940400,2946160," line and i kind of want to actually indent it with double spaces uh there we go so here are available"
2946160,2955120," targets so now we can say okay use phosm x86 64 and it still outputs python because we don't handle"
2955120,2965040," that specific platform so uh we need to do something about that right anyways so there is a code uh that"
2965040,2972160," generates python code so here what we're doing we're essentially reading the input file right we're just"
2972160,2980000," reading the input file then we're lexing it then we're parsing it right and then here we are generating"
2980000,2988720," python code we're literally generating python code so and we only have to do that if the current platform"
2988720,2995360," if the current platform is equal to python 3 right if it's equal to something else we have to do that"
2995360,3000720," completely differently right so and uh that's essentially what we have to do so i'm going to do"
3000720,3005360," switch uh and here we're going to have platform that's that's the platform and here we're only going"
3005360,3013360," to do that if it's python 3 uh right so i'm gonna put that stuff in here uh so this one is going to break"
3013360,3022960," so my computer is still slowing down uh okay so and in here we're going to have a case of phasm"
3023520,3030240," x86 64 linux not literal linux oh my god"
3030240,3040800," uh and in here we're going to say okay uh to do not implement it right to do not implement it"
3040800,3047120," uh and in here we're going to have default which is in this specific case is going to be unreachable"
3047120,3052080," right so this one well i mean here i probably have to do something like false right so that's how my cert"
3052080,3063440," works uh assert false unreachable right so in here i'll have to close this entire thing and let's try to"
3063440,3073360," run this entire stuff and it's actually fine i have no idea why right why is it fine maybe because the"
3073360,3079760," um switch case doesn't really work on this entire stuff so i would expect this thing to maybe let's"
3079760,3086160," actually do die oh wait a second we had a to do let's actually replace it with to do i remember"
3086160,3097680," that yo so this is going to be to do i'm going to put it like this to do uh yep uh-huh so this one"
3097680,3105520," is unreachable yes that's what i'm talking about so at the line four this is the wrong line um this track"
3105520,3112000," trace the stack traces in php are insane there we go so as you can see this thing is unimplemented"
3112000,3118880," uh okay so we've got more subs uh thank you so much lambda file uh for twitch prime subscription thank"
3118880,3128240," you thank you thank you apparently you really love lambdas uh lambda s all right so what we need to do"
3128240,3135120," we just need to implement this thing we just need to implement this thing how about that right so but"
3135120,3140320," before we go and implement this entire thing i want to make a small break because i need to refill my cup"
3140320,3150720," so uh yeah let's make a small break and"
3150720,3162640," man like i'm looking at my webcam and it's lagging like what the i don't remember twitch being this bad"
3163840,3173040," like what the it's just like what is it doing is that the network latency i'm pretty sure this is the"
3173040,3174080," network latency"
3174080,3184320," uh all right so stepping uh t we're gonna be doing that for four minutes does anyone have any questions"
3184320,3193120," while we are steeping the tea so okay i don't have uh the mouse wheel unfortunately"
3193120,3202720," is php your new passion yes of course that's the best language i've ever programmed in"
3203520,3207440," uh so my pc specs i can tell you my pc specs"
3207440,3215360," especially like how slow it is like look look at that yeah that's that's my pc specs"
3215360,3222160," uh first question you have to choose one language to write code for the whole life what would be doesn't"
3222160,3228640," matter because you know what the first thing i'm gonna do with that language with any language"
3229440,3236720," i'm gonna implement a normal language using that language so it doesn't matter i literally don't give"
3236720,3237040," a shit"
3237040,3245040," so you're gonna give me php i'm gonna implement c in it so and i'm gonna just continue programming in c"
3245040,3249680," and then maybe i'm gonna implement java it's just like i have all of the languages with me all the time"
3249680,3251600," because i can just implement them like"
3255360,3264080," you can't lock me in a single language you can't do that i'm too powerful just give me anything too"
3264080,3268080," incomplete and i'm gonna possess a threat to humanity yes"
3268080,3280240," you can't lock me up um but what if you have to use swift another god damn it swift"
3281280,3287440," my only weakness okay so i i won't be able to do anything with swift i'm sorry right"
3287440,3293920," uh god damn it you got me"
3293920,3305120," i can't use swift so yeah okay any language except swift any language except swift so"
3308080,3314240," i'm even more impressed the uh impressed the olivec wasm demos run as fast as in machine as them do"
3314240,3321680," this is not impressive this is embarrassing because i literally did zero optimizations to them"
3321680,3329520," freaking zero i implemented them in a very dumb slow way expecting them to run at one fps"
3332400,3338720," this is not impressive this is embarrassing for the whole industry including myself because i know"
3338720,3345600," precisely how such slow code as twitch website is being written because i worked in a system like that"
3345600,3352560," i worked under such management i know precisely that the engineers on twitch don't want to write this stuff"
3352560,3360640," they simply have no choice right so because the tight deadlines already exist in infrastructure you"
3360640,3366720," basically can't do anything but just pile more and more slow code on top of this entire stuff so"
3366720,3376720," yeah this is not impressive this is just embarrassing for all of us uh anyway so uh let me grab my team"
3387840,3393200," and if you think that ii is going to somehow solve all of that it's it's not going to do that because"
3393200,3402720," what ai enables you is basically piling the code on top of existing systems even faster so if anything"
3402720,3410240," the whole infrastructure is going to degrade at a faster rate so and but i'm actually really curious where"
3410240,3423920," uh looks like sodium worked in salesforce i didn't work at salesforce but i worked in uh four uh big uh"
3423920,3431920," u.s corporations and i kind of know how it is going it's kind of sad it is kind of sad"
3433120,3438720," because when it comes to these corporations that they just have a ton of money and they just like"
3438720,3444720," instead of solving problems they just like throw more and more money into the problem without actually"
3444720,3453760," solving it and it's just like i don't know okay guys so i'm still uh using emacs so maybe i need to"
3453760,3467600," switch to um to c.php to vim that's what i wanted to say uh right all right so let's write hello world in"
3467600,3476640," assembly i haven't said something like that for quite some time already uh but so what i need to do i need"
3476640,3482880," to use phasm right so i don't really remember how to program with phasm so i probably can steal some code"
3482880,3489920," from port if you know what i mean we can probably steal some code from port so i'm gonna open hello dot"
3489920,3496480," asm right so and i wonder uh yeah so it does highlight everything so i'm gonna split the screen and i'm gonna"
3496480,3505600," go to port right so port is my programming language that i've written long time ago right so and uh it"
3505600,3515440," basically compiles itself to um to phasm right so and we can find its phasm version uh somewhere here"
3515440,3522000," so i can basically find uh you know the boilerplate that that i have to put uh into into my program so"
3522000,3529040," first of all i have to declare that uh i'm compiling the elf 64 uh bit executable right i have 64 bit"
3529040,3534880," executable so we've got some uh some questions so i probably want to answer them first azure akimori thank"
3534880,3539280," you so much for one hundred beats with the message you were playing with the turing machine language"
3539280,3544480," just curious if you've ever looked into lambda calculus uh could also be an interesting model to"
3544480,3547040," to make a lang out of especially after knock"
3547040,3559200," i've been programming no no no not programming i've been into computer science for 17 years"
3560800,3567440," for 17 years you think i never heard of lambda calculus and i never played with lambda calculus"
3567440,3575840," really okay let me show you something uh so it was actually a long time ago i'm not sure if any of that"
3575840,3582800," still works that's the problem i'm really not sure if any of that still works but maybe this is going"
3582800,3588160," going to be one of my projects in the future where i'm going to actually write that in a normal language"
3588160,3592720," so some time ago very long time ago i implemented a programming language called morgan"
3592720,3598000," uh right so it's a lambda calculus based interpreted programming language that recognizes charge"
3598000,3605680," encoding uh church charge encoded structures uh it was very long time ago so let's actually see how long"
3605680,3617920," time ago it was uh 17 2017 right and the readme doesn't really do a good job at explaining what"
3617920,3626400," this thing is all about but essentially this is pure untyped lambda calculus literally pure untyped lambda"
3626400,3635440," calculus so you don't have even numbers in them right you don't even have any numbers there so the idea is"
3635440,3643760," that the interpreter looks at your lambda expression that you're evaluating and actually recognizes"
3643760,3652480," charge encoded structures like charge numerals um right and also charge pairs and charge lists and"
3652480,3658720," actually renders them when you try to print them as you know as lists or numbers or anything like that"
3658720,3665040," but language itself language itself doesn't support any of those things it's a pure"
3665200,3672720," untyped lambda calculus so that's what's cool about it uh so i think somebody even tried to prove that"
3672720,3678720," it's true incomplete by implementing a turing machine in it uh so there was a standard library somewhere"
3678720,3687840," yeah i don't quite remember um there was some examples but i don't remember yeah so in any case so"
3687840,3693680," that's that's basically the thing so maybe at some point i'm going to actually get back to this project and"
3693680,3700960," maybe revive it seven six years ago and i'm pretty sure like oh my god look at the amount of commits in"
3700960,3710560," here it's like almost thousands of comments uh yeah so i've done a lot of stuff i've tried a lot of"
3710560,3718000," things so yeah i'm gonna put that in the description for for anyone who's maybe interested on youtube right so"
3718000,3725520," because i do plan to upload all of that stuff to youtube where is my description uh okay so morgan"
3725520,3727040," programming"
3727040,3730560," right so"
3730560,3736240," hope that answers the question uh so"
3736240,3743280," tclipper thank you so much for t1 subscription thank you thank you thank you uh thank you thank you thank you"
3743280,3749120," uh 2017 is six years ago indeed six years ago"
3749120,3761280," why the choice of scala for a lambda calculus interpreter because it was a"
3761280,3771280," hot new thing seven years ago so it's back like it's around that time when twitter also decided to twitch"
3771280,3773360," to"
3773360,3781200," to switch to scala uh right so scala was hot it's just like it was so trendy just like rust today"
3781200,3788240," nobody really remembers that but scala was like insanely popular it was just like the"
3788240,3789600," thing you think like holy"
3789600,3796640," everyone should write in scala it's insane it's like it shows you that there is no difference between"
3796640,3806320," oop and fp fp is op and op is fp holy holy oh my god let's rewrite everything in it and yeah"
3806320,3813920," and then came kotlin and just killed that so because nobody really cared cared about this academic"
3813920,3820720," academic circle jerk everyone just wanted a better java and scala was just kind of in the position when it"
3820720,3826880," it was kind of better than java uh right but then the code came in without all of that you know"
3826880,3830880," intellectual masturbation and it was even better so everyone switched to copland"
3833200,3840720," so that's how it was seven six years ago i'm so old i remember that shit so anyway"
3840720,3847760," hope that is interesting i don't know okay so what we need to do we need to declare that uh we're"
3847760,3855280," building elf 64 executable right so then elf 64 executables they're split into these uh segments"
3855280,3861520," right they're split into the segments so we have to specify that the code is going to be in the readable"
3861520,3869040," executable segment right so you can read and execute that specific segment so and as far as you can"
3869040,3875840," remember there was like a entry point somewhere i think it's start uh was it start uh i don't quite"
3875840,3883280," remember where is the entry point uh so there's a lot of data in here as you can see uh right so all"
3883280,3895520," that is is literally the uh data right uh so let me just like find okay but i don't quite remember so"
3895520,3903200," this is the syscall so this is the exit syscall i do remember that so i'm going to actually put it in"
3903200,3910160," here so this is the exit syscall so the way syscalls work in uh linux is that you put the number of"
3910160,3916160," the syscall into racks and you put the parameters into the rest of the register so we're going to google up"
3916160,3922640," the table of these syscalls uh right and here basically i say that i'm going to exit with uh zero exit code"
3922640,3929600," and i call this syscall and it's actually very important to call exit syscall at the end of your"
3929600,3937520," program because essentially um that tells the um the linux kernel that the program wants to exit because"
3937520,3943280," if you don't do that uh the the program continue executing right it will just continue executed and"
3943280,3948800," since after this syscall after the end of the program you have garbage or maybe some unmapped pages you're"
3948800,3952640," probably going to have a have stick folder or something like that right you can try to do"
3952640,3958800," something like return but since this is an entry point there is no place to return there is nowhere"
3958800,3966320," to go right when your program finished executing right so how does it know how to exit how to halt"
3967600,3973600," right so you don't have a return address on your stack there is nothing after the end of the program"
3973600,3981120," there's only garbage so there's no way to go or it's only either crash into that garbage and get"
3981120,3987200," killed by the operating system and yell that with a sec fault or you can just tell the operating system"
3987200,3992960," operating system i'm done executing please exit me right so basically this way you tell an operating"
3992960,3999600," system please unload me from memory right because i don't know what else to do like i have nothing else"
3999600,4005360," to do otherwise i'm going to crash into the into the memory that i'm not supposed to execute right"
4005360,4011280," please exit me so that's basically what it means uh we can actually like i do that all the time"
4011280,4016800," when we program assembly we can try to run this program without exit and see how it will react because"
4016800,4024560," i think it's very educational people are so afraid of writing incorrect code because it's incorrect you're"
4024560,4031040," not supposed to write that but in reality it is extremely educational right so uh if somebody tells"
4031040,4039600," you that particular thing is incorrect do you even know why one way to know why it is incorrect is try that"
4039600,4044400," well i mean of course it doesn't work with everything it's kind of dangerous when we're talking about chemistry"
4044400,4052320," right right but in programming we can do that right in programming we can afford to just try"
4052320,4058320," shit and see if it works or not it might be dangerous in other areas of human activity right"
4058320,4064720," so but in programming we can afford that at least who knows we're kind of like with ai we're kind of"
4064720,4072960," approaching that point when uh we cannot but we'll see how it works out anyway so uh the thing is"
4072960,4082480," i've don't remember how where is the entry point i don't freaking remember where is the entry uh oh yeah"
4082480,4092320," so okay apparently there is this sort of um a special directive called entry start right and basically"
4092320,4098960," it specifies where you start your your program right so this is where you start okay so if i remember"
4098960,4108800," correctly uh the exit the right syscalls okay so let's actually google it up linux x8664 sys uh call table"
4108800,4111440," right so let's actually find all of the syscalls"
4111440,4121360," in some banking trading industry it's also very advised to do it right first time yeah understandable"
4121360,4128640," actually actually actually understandable uh okay so remember this particular website was a bit leaky in"
4128640,4140400," terms of ip addresses yeah i was right okay that doesn't really leak my address that badly uh i remember"
4142400,4150080," there was there was some chromium page chromium os that had all the necessary tables that i want"
4150080,4157120," yeah linux system because chromium os is linux right so it also works out for us too"
4157120,4159360," so that's the page i like to use"
4163360,4168400," um if you then get it perfect from the stats you are a failure that's a very dangerous mindset but i"
4168400,4170960," mean you put copy at the end of the message so that means you're joking"
4170960,4179120," right but generally and ironically that's a very dangerous mindset in my opinion right"
4179120,4187120," chromium os is just a quirky gento but it's a gento non-blast which means it's a linux"
4187120,4193040," right uh so and that's what we need right now i'm going to switch to description right so i'm going"
4193040,4200000," to put this thing in here right syscall table that we use uh right so i'm going to put it like this"
4200000,4204000," so um phasm there we go"
4204000,4212880," and uh let me see so write syscall so the only syscall we'll need for now is going to be right"
4212880,4221520," right so let me actually find where we do move rex one yeah there we go um so i suppose maybe i"
4221520,4230400," don't even need uh this code anymore right because uh i can already just like move on as usual uh okay"
4230400,4238640," so let's actually see how you even execute uh this entire thing so you have three arguments in the"
4238640,4243680," right syscall it's a file descriptor the pointer to the beginning of the buffer that you want to write"
4243680,4252240," to a specific file descriptor and the size of that buffer right so the thing uh the file descriptor goes"
4252240,4259440," into rdi so this is going to be standard output and if i remember correctly standard output is is it one"
4259440,4266880," i think it is one right so it is in fact one uh all right so then the next thing is going to be buffer so"
4266880,4274640," need to do move rsi and i have to do hello but i have to provide the data somewhere"
4274640,4279920," right so i have to provide the data somewhere and the question is where do we provide the data"
4279920,4288000," so let's actually go back to this thing and we have a lot of data in here right there we go so but the"
4288000,4300000," question is str 0 uh str is it one yeah i think it is one so we have to put that in a readable writable"
4300000,4308720," segment so yeah this is where we put all of that uh right and hello think uh and maybe it is something"
4308720,4320560," like that i don't quite remember hello world right uh then we have to specify the length uh of this"
4320560,4326560," thing so as far as i know in all of these assemblies in all these assemblies there is a special way to"
4326560,4333040," get the current address right so here's the label and to get the current address you have to"
4333680,4342640," put uh a dollar so dollar is the current address then what we can do we can subtract uh address of"
4342640,4351120," hello and address of hello is where this entire thing starts so essentially all right we take address"
4351120,4358000," that is after the string and we're subtracting the address that is the beginning of the string that way"
4358000,4364480," this expression is going to be evaluated into the size of the string right if i understand correctly"
4364480,4370160," so but to allocate this thing as uh you know bytes you have to prefix it with db directive"
4370160,4377120," if i remember correctly right and to make this sort of like compile time expression right so we have to"
4377120,4382960," put e qe if i remember correctly like it's it's like a special magical things that you have to put in"
4382960,4388480," there and that way you can actually put uh hello into rsi which is going to be the pointer to the"
4388480,4396560," beginning of the buffer that you want to output and then into rdx rdx uh you have to put this size of"
4396560,4402800," the buffer that you want to output so this is going to be hello len right so essentially here is the syscall"
4402800,4407120," and here is here are the arguments of the syscall and then you just perform the syscall"
4409120,4415840," that should be if i understand correctly so that's that's the entire program right so that's how you"
4415840,4423360," write hello world in assembly for phasm specifically right so for phasm specifically uh sounds reasonable"
4423360,4430800," sounds something impossible right so because people think about assembly as like the language that nobody"
4430800,4437600," ever can program in right uh because it's so complicated and so difficult but but here it is all that makes"
4437600,4444400," sense right so the the cpu has registers right so you put parameters into the registers and then you"
4444400,4450320," jump to operating system and operating system will look at the values of those registers it will see"
4450320,4456960," that it has one it tracks and will think okay so the the user program wants to execute the right syscall"
4456960,4463040," it wants to write something into the standard output so it will look at these arguments oh it wants to write"
4463040,4468320," to a standard output it wants to write this hello of this specific size and it will just do that"
4468320,4474560," it will just do that it's as simple as that right so you have a couple of segments but this is like"
4474560,4481840," specifics of the elf format right so in this segment we store the actual instructions in this segment we store"
4481840,4488800," the data that the instructions can use and that's pretty much it so the only maybe gatekeeping factor in this"
4488800,4495680," entire thing is the boilerplate but that is actually easily solved uh by chat gpt right so you can literally"
4495680,4500480," ask chat gpt give me hello world and thousand in fact we can i think we can even try to do that"
4502320,4511520," so um recently i found uh awesome free chat gpt don't tell open ai please"
4511520,4523040," the uh the current working theory is that i'm banned from open ai and i don't have an access to chat gpt i"
4523040,4529120," can never have an access to chat gpt so this is going to be our little secret don't don't that open"
4529120,4534880," okay so it's going to be our little secret so there is this website and if you scroll down"
4534880,4537840," you can find a lot of interesting things"
4545440,4550000," this is this is not chat gpt this you can clearly see it doesn't say it's a chat gpt"
4550000,4557760," it's uh it's some chinese website that sends my data to ccp this is not chat gpt right so what you can do"
4557760,4566560," you can imagine that this is chat gpt just imagine and you can say uh hello world in fuzz x86"
4567120,4582240," 64. there you go and will literally give you pretty much the same problem chat ccp"
4582240,4590000," right so it's it's pretty straightforward like again the only gatekeeping factor in here is the boilerplate"
4590000,4595680," but you can get the boilerplate uh from chat gpt right this is not chat gpt i don't have an access like"
4595680,4600080," open ai is completely banned in russia like i don't have any access and there is no way for me to get"
4600080,4607920," an access to that so yeah so it's we're just hallucinating that never happened that never happened so"
4607920,4615680," i really like chat ccp"
4615680,4620000," chat ccp"
4625680,4640640," yeah so we're gonna have chat kgb oh by the way so i remember i think yandex said that they're gonna"
4640640,4647760," develop their chat gpt version by the end of the 2023 they already kind of developed their own language"
4647760,4654960," model right so but it's actually rather small compared to compared to even gpt3 it's rather small because it"
4654960,4661920," has like one like 100 trillion parameters i think or maybe billion parameters what is it yeah 100"
4661920,4670960," billion parameters so which is i mean gpt3 is 175 right so it's like almost twice as small"
4672880,4679920," uh did you see uh did you see llama ccp yeah i've seen it so yeah anyway soon we're gonna have a chat kgb"
4679920,4688320," as well so don't worry about it so right now i'm sending my private data to ccp right but soon by the"
4688320,4691760," end of 2023 i'm going to be sending my private data to kgb"
4691760,4696720," so"
4696720,4704800," anyways uh so let's try to build this and i think and see how it goes uh i wonder if i can do just fuzz them"
4705440,4719120," uh hello so what does it say illegal instruction uh eq eu something something something so it doesn't"
4719120,4724400," really have uh do i have to just say something like uh something like this"
4727680,4733840," uh i already closed what was the example let me actually go back i mean i don't know i'm too i'm"
4733840,4740880," too lazy to actually go back so let's actually google up in here fuzz them eq um yeah"
4743360,4748960," or maybe the length of the string yeah yeah so there was something like define versus a q"
4748960,4757120," um i just need some examples and i can fabulate my shirt myself"
4757120,4761360," uh okay so"
4761360,4772480," oh you you simply don't put this thing in here okay so uh-huh"
4773440,4781920," man i don't remember no colon yeah it was no colon uh and then uh it's still a legal instruction"
4781920,4788640," okay so i probably have to go back so let's actually go back to chatgpt"
4788640,4796400," oh yeah eq okay i don't need chatgpt who needs chatgpt if you have chat am i right"
4796400,4801520," yeah that's what i'm talking about who needs chatgpt nobody needs chatgpt"
4802400,4812000," uh and undefined symbol hello len and uh that's really weird do i have to just put this thing up"
4812000,4822240," there uh yeah maybe maybe that's what i have to yeah there we go nobody needs this chat ccp uh all"
4822240,4830000," right so uh let's go uh we have an executable and as already mentioned as already mentioned we don't call"
4830000,4836000," exit we deliberately don't call exit right so and let's see what's gonna happen"
4836000,4841200," that actually went more violent than i expected"
4841200,4843840," yeah"
4843840,4847440," holy fuck i think"
4847440,4855520," yeah something went definitely wrong uh right i think maybe the the size of this entire thing is"
4855520,4860560," incorrect but at the end of the this entire step it's still sec faulted right which is kind of my point"
4860560,4867760," right so which is in fact kind of my point so uh what you want to do so it doesn't sick fall right"
4867760,4876480," you want to actually do exit right and i'm pretty sure it's still gonna print the garbage yeah so it's"
4876480,4882640," still printed the garbage but it didn't sick fall which was already pretty cool isn't it i think i think"
4882640,4891360," it is so the question is what the has happened uh right so why this was not enough right so"
4893040,4902400," uh is that not rdx so this is the count this is the buffer uh null terminator this is not c that's the"
4902400,4910960," thing this is not c it doesn't need an ultiminator right so what it needs is only the um the size of"
4910960,4917200," this entire thing so i can do something like we can compute how many characters we have one two three four"
4917200,4924080," five six seven eight nine ten eleven twelve and i can literally just put 12 in here right so and we"
4924080,4930480," can confirm uh that it is going to work correctly as you can see it works correctly i wonder if i can just"
4930480,4938080," put something like 10 in here and for 12 i can put 30 uh right do fuzz them and there we go so there's a"
4938080,4944720," hello world with a new line maybe we don't even need this kind of shit anyway yeah so i don't really know"
4944720,4952160," how to work with these macros and stuff like that all right we can see how uh you know by chat if this"
4952160,4958080," is not chat gpt it is not affiliated with open ai or anything like that uh right we can see how it does"
4958080,4970560," that so len eq right so but that didn't really work for me did it yeah so it put it in edx that's a"
4971760,4979680," that's a really strange thing uh it kind of mixes mixed up 32 bit registers and 64 bit registers which"
4979680,4989440," is kind of fine but i mean i guess okay that's that's fine it's gonna work so i think i did that and it's"
4989440,4999760," still yeah that's literally what i did oh this is because i of this thing maybe so let's give it a try"
4999760,5018320," to something is definitely weird so the only difference here is that it uses data writable uh and uh yeah"
5020640,5030960," health health health health i'm stuck in f uh anyway so i didn't think we really need that too much"
5030960,5035120," because we're going to be generating the code ourselves right so we're going to be generating"
5035120,5041520," the code ourselves that's kind of the point uh right so that means we'll be able to compute this number"
5042160,5050240," at compile time at compile time right uh the double quote i'm maybe that's a double quote uh let me see"
5050240,5052960," i'm not sure if that makes any difference"
5055440,5061600," uh hello uh hello len uh eq minus hello um"
5061600,5069280," plasm i actually didn't want to do that uh simultaneously"
5071120,5087200," uh i didn't do anything wrong line i don't understand why don't you append zero at the end is there a"
5087200,5098320," special reason because it doesn't matter uh right so rdi rsi rsi okay so this one is yeah"
5100480,5105440," hello len yeah"
5105440,5113600," so let's actually try to put zero"
5113600,5119920," and as you can see it doesn't matter as i already said it doesn't matter"
5121120,5125440," and why doesn't it matter because uh right"
5125440,5135040," because right accept the size of the string it accepts the size of the string so that means it"
5135040,5141600," literally doesn't care if there's zero or not this is not c again new simulator is kind of a c thing"
5141600,5147200," which kind of leaked um which kind of leaked into um"
5147200,5155200," what is it called operating systems as well right so some of the c schools can expect no terminated one"
5155200,5163040," but right doesn't require no terminated because it accepts the size right so again this is self-evident"
5163040,5172000," why accept the size of the string and require no termination the no termination is needed specifically"
5172000,5178240," to know the end of the string so if you have no terminator you don't need size if you have size"
5178240,5182640," you don't need a null terminator make sense so this it doesn't really matter that much"
5182640,5188240," uh it doesn't really matter that much because we're gonna uh generate that anyway"
5189280,5193680," so uh let's go ahead and do that right uh let's go ahead and do that"
5193680,5205040," so uh let me let me see i'm gonna go to cphp right i'm gonna go to c.php"
5205040,5213680," and uh here we are parsing this entire thing so there's a lot of code in here that just generates"
5213680,5220320," python so what i'm thinking is that maybe we should move all of that code we should move all"
5220320,5231440," of that code into a separate sort of function uh let's call it generate python python3 right"
5231440,5239200," generate python3 and in here what we're going to accept is probably a function right so the main function"
5241600,5247520," so how do we call that thing we just call it funk okay so it means we have to put it like this so"
5247520,5258240," this is func so python3 uh i'm gonna go to here and i'm gonna just like take this entire stuff generate"
5258240,5267600," python3 and uh we're gonna put this stuff in here so there's that and there's that so i'm not sure if"
5267600,5271440," this is going to work but we can actually easily find out we can literally just like"
5271440,5279600," run this entire stuff so here we can also move all of this stuff into separate function that"
5279600,5287440," uh parses the command line arguments right so we can also do that uh let me let me see let me see"
5287440,5298000," generate python3 func there we go so and that actually makes it possible to just like create"
5298000,5304400," function generate function generate phasm x86 64 linux okay so the first thing i want to do is essentially"
5304400,5312000," c.php all right and i'm going to provide hello.c and as you can see it still works even though i moved"
5312000,5320960," everything to a different place it still in fact works so generate phasm x86 64 linux uh and we're going to"
5320960,5334880," provide the function uh generate python uh generate python function generate um phasm x86 64 this is func"
5334880,5343120," uh and there we go so essentially how we do all of that so we iterate all of the statements uh you know"
5343120,5351920," uh you know of the body of the function right so so let's actually replicate that generate so uh we are"
5351920,5359120," iterating this entire thing uh and in here maybe we can do print r i suppose it will actually print the"
5359120,5364960," the statement itself so let's actually see if it's going to work so i'm going to do that so this is python and"
5364960,5370800," then i'm going to say target what kind of targets do we have we have a phasm x86 64 linux and i'm going"
5370800,5379120," to do bum and uh what we got we got uh all of these things so we've first got the function call right so"
5379120,5384320," we've got the function call and another function call we actually have three function calls and then return"
5384320,5391840," statements right the cool thing is that for the return statement we can literally uh just call exit syscall"
5391840,5398320," right so that's actually kind of cool it makes it super easy uh for that specific case so and"
5398320,5406960," if we go to um to here so we have if statement is instance of function call uh we can have a similar"
5406960,5414000," thing statement is instance of um return statement so let's actually see how we can do that uh all right"
5414000,5424400," so stmt uh is instance of where is or it's just instance of yeah red statement there we go so this"
5424400,5430800," is what we're gonna uh have in here so and for the statement let's actually generate uh all of that stuff"
5430800,5437920," so i'm gonna actually split uh this entire thing uh i just realized that we've got another sub uh from"
5437920,5443440," militap i'm sorry for waiting for 17 minutes thank you so much for your one subscription with the"
5443440,5451920," message uh it's no a joke we are a php lovers yes we are php lovers indeed this is a php uh fan club"
5451920,5452640," that's what it is"
5452640,5464320," all right so uh what we're gonna do in here right so as i already said for return we're going to simply call"
5464320,5466480," the exit call right at least"
5466480,5474720," my chat crashed again why does it crash every time"
5474720,5490880," so this is so bad well i mean it's probably on something wrong with um chromium"
5492160,5499760," but i just don't know why why does it crash memory beats something could be so can"
5499760,5507440," uh a particular application and chromium crash if it just allocates too much memory uh right"
5507440,5516000," can i think it should be able to right so i don't really know how it works i'm not a web developer"
5517440,5526480," um yeah it can crash the limit is two gigabytes i see um now chromium can shoot that because i'm not"
5526480,5532480," sure if that's the fault of twitch application or of chromium right maybe it's a chromium bug it's"
5532480,5538480," kind of difficult to tell so uh but i suppose if it you know consumes too much too much memory can the"
5538480,5546080," chromium can actually kill it all right um can we ship it you more ram you can try but i mean i don't"
5546080,5553680," i don't think it's going to work out that well uh so what i want you to do i want you to open hello"
5553680,5560960," asm right and in hello asm we just want to generate uh this thing right so let's go ahead and generate it"
5560960,5575520," uh i'm going to put this like that um you know what um can i just uh replace end with this thing yeah so"
5575520,5583680," that makes it super easy to do something like this and then i can do print like so and maybe somewhere at"
5583680,5594080," the end in here i can say uh slash and yeah like so i freaking replaced this entire thing"
5594080,5599760," no v magic today no v magic unfortunately"
5599760,5608640," so this is what we're gonna have but here's an interesting thing is that here we have an exit code"
5609280,5616800," and we can set the exit code to whatever we return from this entire stuff right so if we take a look"
5616800,5624400," at the class a return statement we have an expression uh right an expression well it's supposed to be a"
5624400,5630960," number right now so it how do we set an expression new return statement so we literally take a value"
5630960,5640320," right so we literally take a value uh i suppose we can just do a statement uh value is that the correct"
5640320,5648240," thing to to do in here is that how it works i think that's how it works uh right so and essentially"
5648240,5656160," let's actually try to run this entire thing like that and and define property value uh right so there's no"
5656720,5665360," uh value in the return which is kind of weird uh three five four so this is a return statement"
5665360,5668960," uh do i even do that correctly"
5668960,5676560," do i even do that correctly because if i do something like that this is not how it works"
5676560,5683680," right but if i replace this thing with just something like that uh right so let me double check the return"
5683680,5688800," statement it's an expression oh my god i'm an idiot i'm sorry i'm sorry it was an expression"
5688800,5699600," there we go so we have a zero so uh if we take a look at hello.c we can put a 69 in here all right"
5699600,5708320," we can put a 69 in here and then if we run it as you can see it put uh 69 into rdi so it put this thing"
5708320,5715120," correctly and that's what we do isn't that cool is that cool i think it's pretty freaking cool so but"
5715120,5721040," we need to also add a little bit of a border plate in here all right so uh let me let me quickly do that"
5721040,5727200," i'm gonna separate this entire thing and i'm gonna go to the hello awesome so the main border plate is"
5727200,5733040," this thing i suppose right so we're gonna put it in here um yeah let's actually insert it like that"
5735040,5743760," so and this one is going to be a new line and there we go so and another thing is going to be this stuff"
5743760,5746960," right um"
5746960,5757120," so can i just do end and replace that with this uh maybe even"
5760400,5761440," like this"
5761440,5773840," like this yo look at that shit bruv boom can your emacs do that i don't fucking think so your emacs is"
5773840,5783920," shit max is fucking slow it's unbearable it's impossible to use imagine using an operating system"
5783920,5786320," instead of a freaking text editor"
5786320,5788880," anyway"
5788880,5799680," so uh let me see so i probably want to also maybe uh indent this thing a little bit so we can clearly see"
5799680,5805280," look at that we're already generating assembly from c using php"
5808560,5813600," it's pretty awesome so it's kind of difficult to generate like um"
5813600,5820080," all of the use cases we have too many use cases in in c specifically right so i used to have just a"
5820080,5826960," string but then strager came in and he introduced like uh format stuff and now i have to support that"
5826960,5833920," as well god damn it okay so what what i have uh what kind of plan do i have i'm going to disable that for"
5833920,5839760," now and i'm going to just try to compile this specific case right so that's going to be the idea"
5839760,5844880," we're going to try to compile this uh specific case but as far as i know this is not going to work"
5844880,5852000," because our thing does not support comments yeah it doesn't support comments so uh next token"
5852000,5854960," so let me take a look at where exactly we failed i think it's"
5856160,5865440," so c.php uh 74 uh yeah so basically uh this is unsupported i should probably actually handle that"
5865440,5871040," properly you know what i mean i shouldn't handle that properly so here what i have to say is echo"
5871040,5876240," as printf yeah i actually mix up different styles of string interpolation and stuff like that so yeah"
5876240,5881840," maybe i should actually start using like proper string interpolation so i can do something like"
5882400,5893920," uh lock display right and then i can say error uh unknown uh unknown token starts with and i can even"
5893920,5900960," specify what what it starts with because i know the first character of this thing and then uh we can"
5900960,5907840," simply return false in here how about that look at that look at that boom and as you can see something"
5907840,5918400," went horribly wrong um so at the line 356 uh i'm not really sure what exactly is running here for each"
5918400,5925120," invalid argument is supplied oh yeah i see so is that because the funk was not properly yeah i see"
5929360,5942480," dude dude what the fuck so if fung was false it's supposed to exit with 69 but it didn't do that what the"
5942480,5952880," why it didn't do that i'm actually really surprised so uh because if i go to the parse function all right"
5953440,5963440," so we can um did it even say anything okay unknown token starts with that uh oh okay so it actually"
5963440,5971680," printed more stuff right it actually printed more stuff undefined variable type uh-huh so 213"
5971680,5981600," uh-huh undefined variable type so there was some sort of expected that was"
5981600,5996960," that is weird what the hell is going on okay unknown token uh starts with that obviously i forgot to put"
5996960,6005600," this thing in here and then i return false which indicates basically that we couldn't get any token"
6005600,6015040," right so and that indicates an error so but something went horribly wrong in here i suppose uh in expect"
6015040,6019920," token when we get the next token well yeah"
6019920,6029600," yeah expected something but got nothing right so that's what i expect so it should be correct um"
6032480,6037440," so somebody called expect"
6037440,6049600," yeah i think i know what the is going on i think i know precisely what the is going on this code uh is"
6049600,6058080," basically left over from the time when expect token accepted only a single argument it accepted only a single"
6058080,6067120," but then we changed it to variadic and since i never called this part uh we never actually checked that it is"
6067120,6074640," incorrect and you know why because it's a freaking dynamic language if it was a statically compiled language"
6074640,6076960," it would have been called it would have been called it would have been caught at compile time"
6076960,6080480," oh"
6080480,6088640," classic"
6088640,6091760," um"
6091760,6098400," nice language by the way i mean it's not something very specific to php"
6099120,6106720," it's a dynamic language thing right it's a more of a dynamic language thing so all of the dynamic"
6106720,6114160," languages are like that um so and essentially right so the way we have to do that right we have"
6114160,6122080," to instead of types we have to do this thing um so and by the way we also have to probably remove this stuff"
6122080,6130080," so we have one uh uh so that's that's fine so let me let me put this stuff because expect type"
6130080,6137520," now can accept uh several types right it can now accept several types so you have to actually list"
6137520,6145120," all of them and the way we list them is uh we separate them with a space or space right so basically"
6145120,6152320," expected that or that or that or that or that right so that's basically what we're trying to say in here"
6152320,6160240," um right so let's try to to run this thing and uh for instance it says unknown token starts with that"
6160240,6168480," expected uh this this but got end of file so you know what i think in this specific case"
6168480,6174720," so this is a return false we're getting an invalid token right we're effectively getting an invalid token"
6175120,6183680," so in in the case of getting an invalid token i think we have to literally actually crash right"
6183680,6191760," because we return false when we reach the end so it sort of gets the wrong idea of what is going on"
6191760,6197840," yeah there we go so as you can see unknown token starts with slash and uh this is because we don't"
6197840,6202960," support comments for this and i think this is something we have to extend and we have to extend that on the"
6202960,6210640," level of the lexa so how are we going to do all of that so let me find this stuff okay so this one is"
6210640,6214560," interesting so this is where we do all that we already kind of handle the comments that's what's"
6214560,6223920," interesting about all that we already kind of handle the comments uh so we essentially uh treat hash as"
6223920,6228960," the comment because we don't handle preposter so what we need to do we need to add another thing in here"
6228960,6238800," which is basically uh this thing starts um with slash slash right so and that should work so how can we"
6238800,6244240," achieve all of that how can we achieve all of that that's a very interesting question"
6244240,6256240," so because we cannot just um use start with right so php string starts with is there anything that lets us"
6256240,6264880," check that a particular string starts with some sort of a prefix str wait a second i remember we had we had"
6264880,6273680," ends with so the reason why i added php 7 ends with is because um php 7 simply doesn't have str ends with"
6273680,6280880," it's it was introduced in um php 8 so i had to sort of backport so this is a polyfill"
6283520,6290080," it's a php polyfill that's what it is uh right and i'm pretty sure we have a similar thing with str starts"
6290080,6297040," with it was introduced in php 8 as you can see yeah damn it so yeah there's nothing i can do about that"
6297040,6310560," uh so but i remember we can actually maybe google for the implementation php stats with php 7 right"
6312640,6320000," um how do i check starts with the specified string so like i found this implementation on stack overflow"
6320000,6327840," uh i'm very old-fashioned i'm really sorry i'm really sorry kids i'm very old-fashioned"
6327840,6331600," i copy paste my code from stack overflow not chat gpt"
6334880,6343440," um okay um okay you know because because the code on stack overflow it has the the human soul put into it"
6343440,6350000," because the code from chat gpt is soulless right so i need this this human interaction i mean the code written"
6350000,6362080," okay so php uh sub-str okay so we can just do something like sub-str uh people on stack overflow are not human"
6362080,6366080," well good argument yeah i cannot agree with that more uh so"
6366080,6377440," okay we can use str pause uh which is fine look at that code look look look look like you you can feel"
6377440,6383120," the soul the soul the person obviously put so much soul into this code"
6383120,6385920," oh"
6385920,6396640," like in js we make php people we feel i wonder if that's a thing in php community do php people"
6396640,6401200," like really do polyfills and stuff like that i wonder actually"
6402800,6414160," what the is this okay uh i'm gonna do php 7 str uh starts with so we're gonna have a high stack"
6414160,6421600," and needle right so and uh i'm gonna simply take that stuff"
6423840,6428960," so uh hey stack and this is a needle"
6428960,6434720," so polyfill"
6434720,6450240," so why vim today because vim is better than emacs obviously that's why so"
6450960,6457600," who uses emacs in 2023 holy shit my god disgusting"
6457600,6466320," anyway uh so what do we got what do we got what we got so we have starts with so now i should be able"
6466320,6475760," to check for something though you know what you know what i still need to do the the slicing stuff"
6476320,6485280," right i still need to do the slicing stuff uh but i need to find the code that slices things"
6485280,6494240," sub str so that's how we slice things so substr takes this uh the string where we start and how much you"
6494240,6503040," want to slice out of it how much you want to slice out of it that's a very interesting question i wonder if"
6503040,6510720," sub str uh substr accepts length as an optional parameter so we don't have to provide the length"
6510720,6515600," because i want to take the slice from a particular index up until the end"
6515600,6524400," okay it is actually takes it as an optional parameter i called it look at that i called it i predicted that"
6524400,6533200," my internal language model actually predicted that it is very very likely and i got rewarded for that"
6533200,6541920," i got rewarded for that with a nice nice juicy gradient towards the local minimum of the cost function holy"
6541920,6549600," fuck that feeling when you hit that local minimum of cost function love it"
6553920,6558720," uh so yeah brain gpt yeah exactly"
6558720,6564880," uh yes yes yes yes"
6564880,6576720," okay so length is given and is positive the string returned will contain at most length uh character if"
6576720,6584000," links is uh know the subject from offset until the end of the string will be returned that's precisely"
6584000,6591120," what i wanted chat that's precisely what i wanted i don't want anything else in my life uh so essentially"
6591120,6598240," maybe i'm gonna actually move all of that stuff inside of the function if you know what i mean i'm gonna move it"
6598240,6608800," inside because what i want to be able to do i want to be able to do a sub str this source uh these nuts"
6608800,6618480," i need to create a field called nuts these nuts sorry um i think i'm already streaming for too long"
6619200,6633760," uh so yeah essentially what i want to do if um this php7 uh starts with right if s starts with that or"
6633760,6646000," php7 starts with slash slash we want to drop the line and trim left uh and go for another round"
6646800,6655120," of this entire thing we want to drop this entire loop when it's actually opposite uh when it's"
6655120,6662880," actually opposite so essentially what we have to do is put a negative in here and put a break"
6662880,6670560," but then we can apply at the morgan law who knows who remembers the morgan law nobody gives a"
6670560,6677120," shit because everyone uses chat gpt what the fuck demoral is demorgan law uh so essentially"
6677120,6685120," it's when you have this logical expression right and you negate that logical expression what you do"
6685120,6691600," you replace disjunction with conjunction and you negate each individual uh element of this entire"
6691600,6698400," thing so that's how it works that's basically the demorgan law if anyone even cares in 2023 what the"
6698400,6707440," fuck is the demorgan law that's the demorgan law right uh so essentially right so i can write it like"
6707440,6716240," that uh maybe um can i use new oh i can create a new uh new thing in here so basically not x and y"
6716240,6726720," is equal not x or not y and the other way around right not x or y is going to be equal not x and not y so"
6726720,6733200," that that's that's the demorgan law uh does anyone still remember this is this entire stuff like how"
6733200,6737920," you can transform this kind of thing because i feel like in 2023 nobody gives a shit already"
6737920,6749360," uh rest analyzer once told me the world ain't gonna rule me uh told me about it and i was like what the"
6749360,6759120," what the fuck is this year so also the the ideas and tools still teach people about the morgan law okay"
6759120,6763120," so that means the the world is in good hands so i'm actually very happy about that"
6765680,6785040," okay guys so we've got that uh so essentially that means it just works right so now we have support"
6785040,6790480," for uh for the comments right so we have support for the comments we can never check if it works correctly"
6790480,6798080," by essentially uh modifying this entire thing and commenting down the return right because uh one"
6798080,6804720," return equals to one sys call right so as you can see we remove the return we have no sys calls"
6804720,6810640," so if we uncomment it back uh we get the sys call we can actually have several returns in here"
6812240,6819840," right so as you can see we have several sys calls uh we can have something like 30 34 in here right so"
6819840,6827680," we can have as many returns as we want so in case anyone doubts that we actually parse c and actually"
6827680,6835280," analyze this code as you can see we do right so depending on the amount of returns we generate more or less"
6835280,6836000," assembly"
6836000,6842320," so isn't that cool i ran out of freaking tea"
6842320,6851120," god damn it anyway so uh yeah so now we have one single sys call so essentially what i wanted to do"
6851120,6858560," what i wanted to do i wanted to generate some code for print app that's what i wanted to do so generate some"
6858560,6871280," code uh so in here what we're gonna do else if stmt instance of uh phone call so phone call uh in"
6871280,6881280," here so i'm gonna put something like this uh to do phone call uh and here we're probably gonna do something"
6881280,6889280," like unreachable right so this is gonna be false uh and well i mean yeah it's probably it's better to do"
6889280,6898000," uh like die unreachable right so and essentially we're gonna do a similar thing as we do with the python"
6898000,6906240," backend right so first thing we're gonna check if it is printf right and if it is not a printf"
6906960,6912240," if it is not a printf we're gonna say this is an unknown function no in fact i'm gonna copy paste code"
6912240,6920960," right it's my code i'm can copy well i mean it was written by a strager so but i'm gonna steal it anyway"
6920960,6931040," so he donated uh his code to me so i think i have all the moral right to copy paste it i think i'm dying chat"
6932000,6937920," i think i'm literally dying oh my god this is because of php i should have not programmed in php holy"
6937920,6942320," fuck oh oh anyway"
6942320,6958400," so uh so we supposed to have different arguments all right so essentially um"
6959600,6966160," yeah so this is a format so the count what the hell is count wait what"
6966160,6976080," it's a count function i've never seen count function before php count function is that something"
6976080,6985120," custom to be fair when uh i accepted that pull request i actually didn't read it so"
6986800,6993440," uh okay counts all elements when used with an array when used with an object it implements the countable"
6993440,6996720," yeah but how that's that's weird"
6996720,7005600," if it's less to equal to one oh okay i i see what's going on i think i think i had a brain fart"
7006640,7013280," just a little bit of a brain fart it happens happens happens even with the best of us"
7013280,7024160," so i think i'm gonna actually start from scratching here right and the thing i expect effectively right i"
7024160,7025120," think i expect"
7027200,7033840," uh i expect only one format string right i expect on one format string so interestingly enough i think we"
7033840,7043120," need to do a little bit of an analysis of the code right uh because we need to put that string right so"
7043120,7055600," let's actually go back to hello let's see we need to put that string into the data segment right we need to put it into the data segment so but the data segment has to be put like"
7055600,7062720," um a little bit later though yeah so essentially"
7062720,7073440," yeah what we can do at least for now on every printf excuse me on every printf"
7074320,7081120," we're gonna remember that string and we're gonna append it to some array then after we are done"
7081120,7087280," generating the code we're gonna generate the data section right and we're gonna generate the data for"
7087280,7093440," each individual remembered string that we want to print off that's gonna be the idea i think i think"
7093440,7098400," i think that's a good idea what do you guys think is it a good idea i think it's a good idea right"
7098400,7103840," so first we generate the code as we generate the code we're remembering all of the strings"
7103840,7111440," and then we're generating data for the strings that's pretty cool"
7111440,7118080," so uh but i think i'm going to do that after a small break because i'm streaming already for two"
7118080,7121840," hours i ran out of tea i'm a little bit tired so let's make a small break and after the break we're"
7121840,7131760," gonna continue all that all right so uh let's go and continue this uh shy set so um let me go to cphp"
7131760,7143920," all right and in here uh what do i do i expect only one argument right so uh how can we even do all of"
7143920,7151920," that so remember like you have to use count right so and in here we have a stmt uh let me take a look"
7151920,7158960," at the definition of class phone call we have orgs right so we're gonna do orgs and this is our arity"
7158960,7165120," so this is our arity snack back to reality"
7167120,7176640," uh so and we're gonna expect a very specific area in here so if arity is uh not equal to one"
7176640,7183120," we're gonna actually be very loud about that right so we're gonna say something along the lines of uh"
7183120,7195040," right so statement name location display right and this one is going to be error um expected um"
7197920,7210320," one argument but got and we can't see in this mist now we can uh but got everything there we go"
7210320,7218000," and then we're gonna exit with a 69 i don't know why it's just like i picked that specific exit code"
7218000,7226960," so expected one thing in here uh and uh also we probably want to expect uh a string right"
7226960,7235280," so but i don't remember how to get a specific type of of this entire stuff so i probably need to google"
7235280,7238560," up php get type"
7238560,7252080," um so yeah chat asks what kind of assembly we're doing we're doing we're doing x86 64 linux thousand that's"
7252080,7255920," what we're doing that's kind of that's what kind of assembly we're generating"
7256800,7265280," um i really like phasm so i especially like phasm community right so it's sort of like this little"
7265280,7272320," isolated corner of the internet they're just doing their own thing and they're implementing"
7272320,7280320," everything in assembly it's actually very fascinating phasm uh assembler so they implement like literally"
7280320,7286240," everything they have operating system implemented entirely in phasm they also have like a web server or"
7286240,7294240," something like that it's so freaking cool and it's still active uh right so yeah so this is a flat"
7294240,7300240," assembler and there was a board somewhere in here but i don't quite remember where where they would"
7300240,7306480," like communicate and stuff like that uh right so let me let me find the operating system i forgot its name"
7308160,7318640," 1000 operating system"
7318640,7330000," i just wanna type some goddamn text into editor fields operating system"
7335680,7344160," and it's kind of difficult to find right yeah minuet os this one this is an operating system this is the"
7344160,7351600," operating system written in assembly from scratch entirely in assembly this kind of thing"
7356880,7358480," so"
7358480,7369040," so 64-bit 32-bit assembly os right so there's also like nginx style web server also written in the uh in"
7369040,7376480," assembly so yeah i'm gonna give the link to to this entire thing in the chat and it's active"
7377760,7387520," 2023 2023 look at that uh yeah look at that it is active it's not like something abandoned like people"
7387520,7397200," really do that to this day uh it's so cool it is so freaking cool i absolutely love it uh so yeah"
7398800,7402560," i'm gonna give the link and i'm gonna give the link and i'm also gonna put that in the in the description"
7402560,7417440," now that's dedication that's education"
7417440,7425120," by the way maybe i should make this kind of thing like a topic of the stream like basically look into the"
7425120,7429200," separating system and try to write something for the separating system right because there are some"
7429200,7436800," applications and games in there uh even 3d games oh it's it's a movie okay so we're just"
7436800,7443280," watching pirated movie uh doom it it can run doom is it doom it looks like doom to me"
7443280,7449760," kind of it's a it's a it's a quake okay so it's kind of doom uh right it's pretty close"
7453200,7459520," so it supports network imagine operating system written entirely in assembly and also supports"
7459520,7467680," network how scary is that but i mean phasm is safe it is it's a safe language it's a safe example"
7467680,7475200," trust me uh so we got some subs uh from colonel's spud i hope i pronounced your nickname correctly"
7475200,7482000," with a message uh poker code learning phase poker code indeed power code indeed"
7482000,7492080," uh okay guys so uh i want to get type right so and phpa if i do something like echo get type"
7492080,7501040," uh hello right so it's gonna be hello uh boom boom uh it is a string so that means i can quite easily check"
7501680,7514000," that stmt let's actually do format stmt arcs zero so that's the zero and then if uh get type"
7514000,7528080," format is not equal to string we can also complain about that we can also complain about that uh expected um"
7529280,7538240," yeah we can say expected string but we have to specify the um this stuff when i provide the arguments"
7538240,7543680," what do i do with them do i provide the values or do i provide something else i don't quite remember it"
7543680,7551440," just depends on how i construct the phone call statement so this is arg uh okay so we parse arg list"
7552320,7558320," and when we parse arg list what do i push there i push literally values on there right so that means"
7558320,7565120," i don't have an access to their tokens unfortunately well it is what it is and it isn't what it isn't"
7565120,7573040," uh can't really do much about that expected string but got uh i suppose i need to provide the type but i'm"
7573040,7581680," not sure how can i do that so uh let me maybe pull this thing in here um all right so i can do it like"
7581680,7589840," that and then i can say type right expect a string but got uh got something else right and this is where"
7589840,7598960," we have to uh we have to do something right so we have to basically store those strings somewhere so let's"
7598960,7605920," actually create something like strings and this is going to be an array of strings uh right so what i'm"
7605920,7614160," thinking is that uh we are going to perform the syscall tool right right we're going to perform the syscall"
7614160,7626400," tool right this is not real sorting real sorting uses emacs not mods ban this person from ban"
7628160,7639120," i am the real sorting yes real sorting programs in php using vim right the that sorting that uses emacs is"
7639120,7647200," a fake sorting right that sorting is fake uh i am the real circle uh so we've got another subs uh from"
7647200,7654960," family gaming family gaming how about pronouncing correctly thank you so much for everyone subscription"
7654960,7661840," thank you thank you thank you i really appreciate this up uh really appreciate this up okay so essentially"
7661840,7671200," i need to copy paste the hello awesome all right so let's actually go back to c dot a ph a p uh so"
7671200,7678400," i'm going to do this the following thing so the end of the string is going to be replaced with uh this quote"
7679360,7687760," then uh probably uh probably new line quote closing uh like so boom so then i can do this kind of"
7687760,7698320," shit where i just do print boom can your emacs do that that's why i never use emacs and that sorting that"
7698320,7706320," uses emacs that's a fake turning uh so we've got another sub we get so many subs today for some reason"
7706320,7710000," this would you thank you so much for everyone subscription thank you thank you thank you thank you"
7710000,7716640," that's the power of vim i switched to vim well i mean i was always using vim and everyone is just"
7716640,7720560," subscribing for vim um so"
7720560,7729360," uh all right so uh what do we have in here so this is a sys call and here what we have to do"
7729360,7738080," we have to refer to a string so you know what i'm gonna do i'm gonna actually refer to str underscore"
7738080,7745280," and its number and what's gonna be the number the number is gonna be basically count of strings"
7745280,7750320," is it gonna work i feel like it's not gonna work"
7752000,7762000," it has to be like spaced or something huh this is sus isn't it so because if i do because here as"
7762000,7769440," you can see but maybe it's fine okay so let's just give it a try right so uh right so this is"
7769440,7777040," going to be the count strings and here uh we're going to have literally uh str len of the current"
7777040,7784080," string uh of the current format string uh like so right and essentially after that we're going to do"
7784080,7794720," array uh append um or maybe array add what was that i think it was array add array push i do not remember"
7794720,7804880," believe it or not oh it's array push okay array push uh strings format so that means on the next call"
7804880,7811840," to print f the count is going to be one and that way we're sort of like uh incrementing this thing"
7811840,7817040," right so we're sort of incrementing this entire stuff okay let's actually give it a try uh and see"
7817040,7826240," if it's going to generate anything intelligible uh nice one uh okay that didn't do i'm super"
7826240,7831680," happy so that means the string interpolation is a little bit limited in what it can do"
7833920,7839360," right right it's a tiny bit limited so that means i can't just have this kind of expression in here"
7839360,7851520," unfortunately so uh we can just have something like n count strings uh it's is it strings yeah and then m"
7851520,7860960," which is str len format we can have those things right and then just like yeah can i do yeah i think i"
7860960,7868960," should be able to do it like that uh um so is it going to work it does in fact work look at it"
7868960,7874720," this is the call sys call and as you can see it uses like 14 or something like that uh and it refers to"
7874720,7883280," this str zero so which means that if i go to hello dot c and for instance uncomment this entire thing so we're"
7883280,7891600," going to have two uh print apps in here so as you can see we have two uh sys calls to write and the second one refers to str1"
7891600,7903520," so str1 so uh after we generated the code we already basically have everything um"
7904880,7909200," to generate the data right so the next thing we need to do we need to generate the data so i'm"
7909200,7915360," going to go hello awesome so the data is basically like this right so that's the data"
7915360,7923920," uh let me switch to cphp uh and we can do that after we generated the code right so here"
7923920,7930800," uh right we generated the code and here we're going to be generating the data uh yes so this one is going"
7930800,7940640," to be print uh this is the new line oh my god yeah boy so and essentially what we have to do we have to"
7940640,7955920," do for each i believe so this is going to be string uh so first comes the strings as string and for all of"
7955920,7964880," these things is it possible to get the current index uh in for each so let's actually close all these tabs"
7966320,7972320," and do something like php for each index"
7972320,7984480," w3 docs for each i want to read the official manual it's kind of the the current state of the internet"
7984480,7992160," is really sad when some seo optimized website that are probably generated by language models actually at the"
7992160,8000880," top and the official sorts like the second one it's a very sad state of the internet and in the coming"
8000880,8007280," years it's gonna be even even more sad i believe right as as the language models become more and more"
8007280,8011760," accessible it's just like the search engines become useless essentially"
8015280,8022080," so yeah i wonder is that is that the reason why majority of the language models use the data before"
8022080,8028880," 2022 is because after you know the releases of gpt3 it's just like everything on the internet is"
8028880,8034480," basically garbage generated by these models and it's not suitable for training anything new is that"
8034480,8037360," the reason or there's other reason i don't know"
8037360,8040080," it's kind of interesting"
8040080,8047760," right and so in all the language models are going to be stuck in 2021 because of that"
8047760,8054480," because that's the last year there where you could more or less trust to be human generated"
8057920,8062640," it's kind of interesting because that's like we're gonna get stuck in 2021 i think"
8062640,8067840," all right"
8067840,8078480," so uh i think i already saw that okay so here is the as key value okay so i suppose uh we can do something"
8078480,8095600," like that like as um and like this yo look at look at that ligature man yo that is so sexy my god can"
8095600,8108320," your emacs do that okay i didn't think so um so does this assembly have a function scope for defining data"
8108320,8112400," or it's accessible anywhere in the assembly program would you need to have a lot of unique names for"
8112400,8118400," data i think yeah you have to have a lot of new nicknames for data as far as you know it doesn't"
8118400,8129440," really handle scopes it's a very simplistic assembly um why no emacs because emacs is real software"
8129440,8146800," developers use all right so what we're gonna have uh so let me do this thing so it's going to be"
8146800,8154000," i suppose str and for the str we're going to have n and then we're going to have db and just like"
8154000,8158480," something something something i haven't decided how we're going to be generating all that but yeah so there"
8158480,8164880," we go so this is the strings db and we have to generate something uh but the way i want to generate"
8164880,8171040," that actually i want to generate it similarly to how i do that for port so essentially i'm taking the"
8171040,8177200," codes of each individual character and i put them as bytes right and it just allows me to not think"
8177200,8181680," about escaping or anything like that this is actually a very convenient way of doing that right"
8181680,8187360," so if you just like generate them as bytes you don't care about escaping right you you don't have to"
8187360,8197760," think about that so uh so let's go ahead and uh just do that and i wonder how we can do that can i do"
8199040,8210400," uh for each on a string right if i do string as c right and i can do that in here so then here i can do"
8210400,8219920," something like um"
8219920,8230000," so let's give it a try so invalid arguments applied for for each okay um php for each string how can i do that"
8230880,8239200," um mr surgeon at what point are you going to write your own assembly it's not particularly interesting"
8239200,8245920," to be fair because it's more about it's a very tedious job of going through the manual of like intel"
8245920,8254640," manual or maybe our manual and just mapping um you know the mnemonics to a corresponding instructions"
8254640,8260160," it's not particularly interesting to be fair and it's not particularly hard it's more of a like a tedious"
8260160,8274320," job uh if you know what i mean right no need for each uh excuse me um for each string in php"
8275920,8286880," i don't know what i mean but yeah uh i suppose i'll have to actually take the length unpack is it"
8286880,8294720," going to turn it into a list it kind of sounds a bit slow to the side sounds a bit slow so what i'm"
8294720,8304560," thinking is that maybe uh let me take a look at the for loop uh is the for loop basically c for loop right"
8304560,8316720," it's a c style for loop let's go to sell optimize the website yeah it's basically that you need counter"
8316720,8326240," yeah yeah so i kind of want to use that if you know what i mean uh for i equals zero i less than"
8328000,8337120," you can take m uh right in the m is going to be a certain string all right so"
8337120,8353920," and here i essentially want i forgot to put this thing in here and string can i just do it like that"
8353920,8360800," i should be able to do it like that there we go that's what i want uh so the next thing how can i get"
8360800,8363760," the code of this entire stuff right"
8363760,8372080," so essentially i want to be able to do something like or d did i first try it"
8378240,8384240," yeah because in the majority of the languages the function that takes a character and convert it to"
8384240,8389760," a code is called ord right and i just literally guessed it so this is how language models do that"
8389760,8397600," as well right so they have seen something in one language and then when you ask them to translate"
8397600,8402080," to a different language they may try to basically assume that it's kind of like that in a different"
8402080,8408640," language if they don't really know the language that well uh right so they kind of think kind"
8408640,8413920," of similar to how humans think surprisingly right so they're really good at mimicking humans specifically"
8413920,8428240," so yeah and one of the main complaints is that they make up right hallucinate code"
8428240,8433920," but i demonstrated on today's stream that i also hallucinate the code right especially when i'm"
8433920,8438960," just like sort of trying out different things i and i don't remember how to do a particular thing"
8438960,8443280," or don't know how to do a particular thing in language i can just hallucinate some syntax because"
8443280,8448480," i just don't want to interact my travel thoughts right so why not but they can always go go back to"
8448480,8453760," that right and change something so essentially what i want to do in here right so"
8454720,8461360," well to be fair specifically something like unpack could have been useful in here right so"
8461360,8468400," let me see what unpack does all right so i'm really curious uh i suppose it just like turns it into a"
8468400,8474720," list or whatnot right so unpack uh string and i want to do something like print r"
8477280,8487280," let me see so expects uh at least two parameters uh who expects unpack x okay so i don't know how unpack works"
8487280,8488880," so let's just google that"
8488880,8499600," but you can play chess believe it or not i cannot play chess"
8501840,8504080," i'm actually really bad at chess uh"
8504080,8515440," binary data so this is not how it works what does it do unpack data from a binary string"
8515440,8523680," format and now this is not what i want no no no this is not what i want that's for sure"
8526800,8536160," so the thing we're gonna do i'm going to just i'm going to put a space in here and uh essentially"
8536160,8546320," we're going to just print c uh but if i is greater than zero we're going to also print uh this thing"
8546320,8553440," in here and then at the end we're going to print a new line there we go boom and it didn't work because"
8553440,8559440," why i can't see in this mist uh what do we have in here i forgot the semicolon"
8559440,8575600," this is like an actual like assembly code uh okay so let's actually go back to hello.t right so i'm"
8575600,8582240," going to comment out this stuff uh and uh this is basically the hello world uh as you can see here we"
8582240,8587600," have the data that we're supposed to maybe print and stuff like that so i want to"
8587600,8595920," maybe redirect all of that to uh test uh i can see in this mist okay"
8595920,8605440," uh test awesome right so test awesome i'm gonna cut it so this is what we have i can try to do fuzz on this"
8605440,8607440," thing"
8607440,8618960," it didn't really give us like a executable for some reason"
8618960,8627680," but who cares so i can do ch mod plus it's kind of interesting so for hello we did that oh this is"
8627680,8634240," because it's a hello from it's a hello from c that's why i did that okay so one thing i have to do i have"
8634240,8637840," to make it executable and it printed hello world but look at that"
8637840,8649120," slash n this is because our alexa does not support escaping but it actually compiled to hello world"
8649680,8655040," so uh one of the things we probably have to do so let's actually quickly quickly do that uh so let's"
8655040,8664080," add support for escaping uh right let me see so how are we uh handling these string laterals right how"
8664080,8671440," we're handling string laterals let me see let me see so when we encounter the open double quote right so"
8671440,8680320," essentially we keep chopping the character while the current character is not equal to double quote so i"
8680320,8687760," think we need to move this entire thing inside of this condition right and essentially the idea is going"
8687760,8694400," to be the following we're going to switch case upon each an individual character upon each individual"
8694400,8703680," character or like so uh right and if we encounter the double quote we essentially break but here's an"
8703680,8710800," interesting thing what if we encounter backslash right so we encounter backslash and this one is even more"
8710800,8720160," interesting interesting right so in that case i kind of just chop uh the current character right i just chop the"
8720160,8727840," current character and i look at the next character again right but this one is rather interesting uh"
8727840,8739040," right so essentially if we encounter um the open bracket i think we have to actually break out of the loop"
8740800,8746640," break out of the loop so let's see how do you do that actually is there something like go to in"
8746640,8748560," is there something like go to in"
8748560,8756640," for being fruit"
8756640,8770080," break to um is that a thing so let's actually see break from outer"
8770800,8799360," break to um is that a thing so break was so good they implemented break to uh oh yes the sequel we all"
8799360,8801600," waited for break to waited for break to"
8801600,8812320," yo i suppose it's just like it denotes the the nastiness right so it denotes the nastiness um"
8812320,8813920," so let me see"
8813920,8819360," so there's a break three even uh"
8819360,8821920," okay"
8826080,8832160," cannot break three levels okay but how does it work with switch cases by the way does it work well"
8832160,8838640," but okay exits only the switch okay beautiful thank you uh"
8838640,8846720," so let's do break two electric boogaloo yo"
8847920,8854000," so we can even do something like uh like this that actually works really well if you think about it"
8854000,8861040," i like it i kind of like this idea it's pretty cool so uh"
8861040,8870320," default we can actually set the default to be you know something like this right so if we encounter default"
8870320,8880160," we just do that um right and on the backslash we actually have to check if we are still not empty if"
8880160,8882480," this uh"
8882480,8891600," is empty right so if after all of that the lexa became empty we have to throw an error we have to straight up"
8891600,8898160," throw an error because we encountered unfinished escape sequence that's what we did uh so how"
8898160,8905440," we're gonna do that we're gonna print uh and in here we're gonna say um we need to get uh the"
8905440,8914240," location we can say something like lock right here we can say unfinished escape sequence like so and we're"
8914240,8922800," gonna exit with a 69 as 69 that's what we're gonna do all right so after that uh we can switch upon"
8922800,8930880," uh what we saw in here right so if we encountered uh essentially"
8930880,8941520," this thing uh actually n right so for now we want to handle n uh we have to turn it into a new line"
8942400,8950560," which essentially means that what we have to do is collect uh the characters right so we have to"
8950560,8957520," collect the characters is there something like a string builder for php uh php string builder right"
8957520,8966560," uh php string build the strings okay but i want a string build there is there something like that"
8971120,8979280," do i have to concatenate this thing uh string connecting concatenation performance"
8979280,8994480," i guess i can do that i mean it's not that big of a deal uh so let's call it literal right and this is"
8994480,9000240," what we're gonna have in here so the idea is the following right so by default"
9001120,9008480," uh we have to do uh we have that so we chop the character though what we have to do"
9008480,9014160," essentially we have to do literal kinetic plus equals i should be able to do plus equals this"
9014160,9021920," uh source uh this current right so this so this current and then i chop that specific character"
9021920,9032640," so i just append the syntax um in case of n right in case of n what i do i'm gonna append"
9032640,9041760," uh literally new line here so and if it's something else if it is something else"
9044080,9050160," uh i'm going to uh i'm going to well i mean i probably don't really have to have the scope in"
9050160,9053200," here but essentially what i want to do i want to throw an error"
9053200,9057920," does anybody know where the fuck it's doing that"
9060960,9072480," can your emacs do that i don't think so anyway so uh break after brace is that something bad i mean"
9072480,9079120," i don't understand is it something really bad that like impossible to handle or something apparently it is"
9079120,9085680," apparently it is unsolved computer science problem to actually put default after the break"
9087120,9095840," uh so yeah anyways so what i want to say is that uh i need to have a location the current location"
9095840,9104800," so all that is not particularly convenient all right so because um i don't like referring to this stuff"
9104800,9111680," all the time it's kind of math so maybe i'm gonna have something like ch and i'm gonna literally move"
9112640,9118640," this entire stuff to something like this right um"
9118640,9131440," right so this is ch now uh then when i'm appending some stuff i'm gonna be appending that specific ch in"
9131440,9140880," here right and then chop a carrot uh but here uh i'm going to also have something like that so this is"
9140880,9145040," going to be escape let's call it escape uh right"
9145040,9159280," so and this is escape so and that makes it kind of easier to say error unknown escape"
9160880,9173920," sequence starts with and just escape it kind of makes it easier but on top of that on top of that we have to"
9173920,9184880," print the current location of this entire stuff um and i kind of want to print the location of the escape"
9184880,9192320," sequence but i already kind of chopped it didn't i i'm not sure maybe not maybe maybe i can only really"
9192320,9201360," just do that location like so so on top of that here i also probably have to uh drop it right"
9204160,9211680," this chop character so the reason why i write such a branch branch a branch a code"
9211680,9218080," is because it makes it easier to then add more escape sequences in here you know what i mean so"
9218080,9224320," in the future it's super easy even right now not in the future specifically just add double quote"
9225600,9233040," like so and that's it so now we also support double quotes why not and then even more and even more like"
9233040,9239280," as many as you want it's just like you add the new thing in here and uh it just works hopefully we'll"
9239280,9244000," see maybe something will break in here but i mean this is how i usually write all of that stuff"
9245040,9254960," uh right so that should be crazy uh okay so let's actually try to compile this entire thing uh and"
9254960,9262160," we of course have some sort of a syntax error so let me see where exactly that happened line 183"
9262160,9269280," of course it happens somewhere here and guess what i forgot i forgot a semicolon in here it's surprising"
9269280,9278640," that it's okay so it basically just checks syntactical errors and okay uh that's very interesting so a"
9278640,9287600," numeric value encountered uh okay so what's what's up with that ch a numeric"
9291200,9297920," really it is a numeric value"
9297920,9310640," ah i see you thank you thank you chat yeah concatenation well i mean at least in this language"
9310640,9319760," concatenation of strings and uh number sum are different operations right at least which is already kind of"
9319760,9325920," good right so because a lot of languages just mix that up okay so 172 and i mean it's kind of a similar"
9325920,9333440," situation in both of these cases as well uh okay so let's take a look at what we got we got test asm"
9333440,9341840," uh and let's find out if it's any good i suppose it is not because i don't see any new lines at the"
9341840,9349680," end of this entire thing right nothing particularly changed in my opinion uh right as far as i can"
9349680,9359600," tell which is kind of a shame so uh okay let's try to compile test asm and then"
9359600,9366320," did it compile it's still what if i remove this entire thing and recompile it one more time"
9366320,9379040," it's kind of weird okay it's very interesting look at this i made it executable then i can recompile it one"
9379040,9379600," one more time"
9379600,9389600," and it's still executable that means that it doesn't create a new file"
9389600,9398400," it probably literally opens a new file truncates it or maybe it just remembers the previous like"
9398400,9402000," things you put that like that's a very interesting behavior actually"
9403200,9405280," um so"
9405280,9416800," so yeah that's very very strange and it still puts a slash like new i'm not sure what the"
9416800,9420240," is going on but apparently yeah what the"
9420240,9429120," okay so let me let me see what's going on so this is hello c and we're supposed to have this thing in here"
9429120,9435680," so i'm not quite sure oh i know what's going on i'm appending all of that to a literal variable but i don't use it anywhere"
9435680,9442560," of course it's it's the usual case of writing some code and just not using it"
9444160,9452240," classic freaking classic uh so okay so this is basically what we have in here"
9452240,9455040," right so if it's not empty"
9455040,9463200," uh i just do that otherwise i'm close string literal so instead of um value in here"
9464560,9470000," yeah i can just basically put a literal in here right so that's what we do"
9470000,9475840," yeah yeah boy boy okay so let's try to"
9475840,9481040," now uh compile it one more time"
9481040,9490480," there we go as you can see if you take a look we have 10 at the end of the string literal we have 10"
9490480,9495680," which is a new line uh is it new line i think it is new line okay so"
9495680,9500400," let's now try to do fuzz and i'm gonna run this into i think"
9500400,9511040," yeah i forgot to save it into test asm uh right so let's try to recompile it one more time"
9511920,9522560," boom look at that new line new freaking line we do support escaping and we do all of that properly"
9522560,9529600," so uh we can go to hello the scene all right so and then we can just do it like that and we can"
9529600,9538720," recompile it one more time um so i'm saving that in here and fuzz and test uh oh this is not how i"
9538720,9543840," supposed to do that awesome there we go yeah and"
9543840,9554560," something is very sassy something is extremely freaking sassy as you can see in here so it"
9554560,9559920," kind of overlaps with all of that in here and it's just like what the excuse me"
9560640,9568640," okay let's give it uh let's try to debug that all right so let's just simply not uh put that stuff in"
9568640,9577040," here what the hell is going on what the hell is going on why i forgot a new line"
9579280,9597920," i think i think did i this is weird the okay so let's go to c.php uh and let's generate uh some stuff in"
9597920,9603600," here right so where is that what the hell is going on"
9603600,9612880," this is not what i expected"
9612880,9620320," right these are like completely different strengths so if i go to hello.c"
9621760,9630880," and i put these two comments okay so it's 100 and 10 makes sense i put this stuff in here"
9630880,9640640," it's something else it stops at like it loses some of this stuff how does that make any sense"
9644240,9652720," um this is like the least one i wouldn't expect such bug let's put it this way"
9652720,9663360," that's the weirdest bug uh okay so this is a little bit weird what the fuck is m why m yeah"
9663360,9673520," that's okay i think that's what i forgot uh i probably accidentally removed some code"
9674240,9682960," uh now we're talking okay so everything is fine now um so let me try to do that"
9682960,9692320," test awesome all right so then phasm test awesome there we go and then i can run that and it is hello"
9692320,9698960," world important without a new line right so we print things with new line and without the new line"
9698960,9703840," so the thing that we don't support right now is basically the format arguments and stuff like that"
9704240,9713280," but for this specific example by the way uh this kind of stuff can be evaluated at compile time"
9713280,9718960," right we can literally just evaluate them at compile time but i think i'm gonna leave it for"
9718960,9725200," for maybe offline or maybe for the next time right so the thing i did the most important thing i did is"
9725200,9735520," that i um basically added the assembly uh assembly backend right so and i think uh it's good for today"
9735520,9743680," it is good for today we're literally chat just think about that we took this c code this is literally the"
9743680,9753520," c code that we took and we wrote a php script uh php cphp that given uh this c code uh right"
9753520,9760800," generates assembly right so we have to provide the specific target in here but uh there we go"
9760800,9771920," right so that assembly was generated by a php script from this c file and it works and it behaves just"
9771920,9778720," like if you would compile that with gcc or something like that it's a small subset of c but yeah so"
9778720,9781200," that's pretty cool i think"
9781200,9788640," so it would be kind of cool to get that joke even further and actually implement like a standard"
9788640,9799360," compliance compiler in php at least like something simple like c89 right so ncc is that ncc c89 right"
9799360,9806240," i think that's that's the thing uh right that would have been interesting and then take that thing"
9806240,9813280," and try to compile something like tcc it sounds like a pretty cool idea actually you can think about that"
9813280,9825840," that will be cool so and you can even use tcc as basically the test case right so essentially try to compile"
9825840,9834640," tcc see at what features it fails to compile implement that feature and like move on until you implement"
9834640,9841680," the entire tcc compilation uh right or maybe doom that's even better for clickbait right so basically"
9841680,9851840," uh compile doom with php or something like that right so does doom use like c89 i think i think it does"
9853600,9860320," uh right but that'll be actually kind of fun it sounds doable i mean yeah it's not pretty doable why not"
9860320,9869840," so yeah that's pretty cool um so i hope i acknowledge everyone i think this would you thank"
9869840,9881600," you so much for tier one i think i acknowledge you already yeah so yeah so basically that's for today uh i'm going to compile i'm going to commit whatever we've done already"
9881600,9889360," uh git status uh that's a lot of stuff that i probably don't want to commit uh so let me take a look git status"
9890400,9898160," so i probably don't want to include uh asm files right so let's actually git ignore them"
9898160,9903120," git status and we have hello and test let's actually remove them"
9903120,9916000," git add git ignore cphp hello.c i'm going to commit everything by saying add"
9918960,9927840," assembly template i'm going to push that right into the repo that's right so you"
9927840,9933040," can find the source code of this entire thing in here if you are interested right if you're interested"
9933040,9939200," i'm going to paste it in the chat so does anyone have any questions before i go does anyone have any"
9939200,9943280," questions all right i don't know if i'm going to continue this project by the way so"
9944480,9948560," i really don't know uh so"
9948560,9955520," yes we're developing php that's pretty poggers"
9957280,9965920," uh yes yes yes yes i guess no questions right i guess everything's clear maybe updated php8 that"
9965920,9973200," will be interesting actually uh because in php8 as far as i know there are like types so you can annotate"
9973200,9982640," types thoughts on go i mean it's using telemetry like i mean come on unfortunately i still have some"
9982640,9989040," projects in gold that i cannot just easily migrate but overall i'm not starting any new projects in"
9989040,9992720," gold that's for sure do you like swift"
9992720,10000400," we discussed swift today but the problem is that swift doesn't really easily run on my machine"
10002000,10013520," uh yes yes yes yes all right i guess that's it for the day uh thanks everyone who's watching me right"
10013520,10023040," now i really appreciate it so it was fun it was fun for me definitely have a good one and i see you all"
10023040,10032880," uh next time i love you all"
10032880,10044960," you"
