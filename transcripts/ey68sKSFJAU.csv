start,end,text
640,6960," looks like we're live hello everyone and welcome to yet another recreational programming session"
6960,13840," with a mr azuzin let's make a little bit of an announcement and officially start the stream as"
13840,22080," usual as usual so uh a red circle uh live on twitch and what are we doing today on twitch"
22080,29920," a dot a television website today we are doing a memcached coding interview question right that's"
29920,35120," right so i'm going to give the link to twitch.tv and i'm going to ping everyone who's interested in"
35120,40640," being pinged and there we go the stream has officially started the stream has officially"
40640,47200," started so today i would like to take a look at the blog post that i saw some time ago right"
48160,56400," so interestingly enough uh right so it dated uh as 20 uh 2022 but i feel like i remember"
56400,62080," seeing this post way before that i don't know what's up with the date maybe i'm remembering that"
62080,68240," incorrectly i'm going to put this blog post in here in the chat for for people who's chatting right now"
68240,72960," on twitch i can't really copy paste it there we go and for people who's potentially watching on youtube"
72960,77440," it's going to be in the description right so the blog post is called the best engineering interview"
77440,85680," question i've ever gotten right excuse me the idea is that you take the memcached source code"
85680,93920," right um you take the memcached source code and you add a new operation to it like you literally modify"
93920,99600," the source code of memcached and you add a new operation so for those who doesn't know memcached is"
99600,105840," an in-memory database it's like a or in-memory key value storage right so this is basically what the"
105840,113520," the blog post says it's an in-memory key value storage uh so and also the first thing the blog post"
113520,120240," does it actually goes through the process of setting up memcached and uh shows the basic usage of this"
120240,125200," in-memory key value storage so i suppose this is something that we want to do as well right this is"
125200,130400," something that we want to do as well so we're gonna download the same version as it as used in the in the"
130400,137600," blog post i think it's from 2013 uh right so because obviously the source code um has moved on since then"
137600,143440," so it's not the same anymore so for the authenticity it makes sense to probably use the same version as"
143440,152000," in here so let's go ahead and do that uh i'm gonna go ahead and just create maybe a folder uh mem uh"
152000,157120," memcached uh memcached challenge right so this is going to be the folder and i'm going to straight"
157120,162720," up download this entire thing um we can use curl right so why not let's just go ahead and use curl"
162720,168000," uh we're downloading so we already downloaded this entire thing okay so it's pretty small"
168000,174880," so let's un unpack this entire stuff and there you go we've got the classical uh you know out"
174880,181600," auto tools uh project right so that we can build with just configure and make i suppose right so one of the"
181600,187040," things we can do we can take a look at the configure help uh right so configure help what kind of stuff"
187040,193360," do we have in here we don't even have that many things right so it's a very small project it's a"
193360,201520," relatively small project so let's do maybe clock uh and see how big it is uh right so it's it doesn't"
201520,210080," even have 100 000 lines of code it's 27 000 lines of code and uh the amount of c is actually not even 10."
210080,216880," it's a very small project actually honestly i've had personal projects that are bigger than that i"
216880,223440," think i had personal project of 10 000 lines of code of c so it's it's smaller than that actually"
223440,230640," surprisingly surprisingly it's smaller than that uh anyway so sure so the first thing we have to"
230640,235280," do we have to configure uh the entire thing uh right let's see it's probably not going to take too"
235280,240960," much time i really like how emacs automatically detects that we're running the config and it"
240960,246720," just highlights all of these things or maybe it's not emacs maybe it's no it's using emacs theme colors"
246720,253280," so that means it's not from the uh from the output right it's something something with emacs and uh the"
253280,257040," next thing we want to do we want to build this into i think i'm going to give it three threads and there you"
257040,262480," go let's wait until it builds itself uh let's wait until it builds itself uh let's wait until it builds"
262480,269120," itself so it seems to be built and uh we should have a mem cached executable there we go so here"
269120,275760," is the executable uh elf 64 blah blah blah so uh do we have any dependencies it doesn't even have any"
275760,280160," dependencies it doesn't really have that many dependencies it's a very simple application to be"
280160,287680," fair in all fairness mem cached is a very simple application uh we can try to run it uh mem cached"
287680,294400," right so i'm going to just run it and is it even doing anything i'm not even quite sure so uh one and"
294400,302160," what you can do you can actually connect uh to this mem cached server via telnet it's just listening to a"
302160,308880," tcp connections right it's it's that simple so and uh let's actually open uh the separate terminal right"
308880,313760," so i'm going to just do something like this and go to the telnet and there you go so you basically"
313760,318800," connected to this entire thing it doesn't even log anything right if we put this thing side by side i"
318800,324880," don't see i don't really see any logging i don't see any movement uh right so and one of the things"
324880,332800," you can do you can set uh different values so set full name zero three something something uh so doing"
332800,339920," something like this tells mem cached to remember an association between the string full name and the 10"
339920,347520," one byte value john smith uh john smith sold the period right so that's very interesting so"
347520,355360," that's going to set full name and uh it will remember for i suppose how long the other numbers"
355360,360800," on that line are flags the value zero is to remember alongside the byte stream value that is"
360800,366960," um expire time uh this one measured in seconds after which mem cached will forget the association"
366960,372960," anyway after you type these two lines mem cached will respond stored uh all right so we can just"
372960,380880," put something like this here right so press enter and nothing really happened uh which is oh because"
380880,388080," i supposed to actually supply the thing right so i suppose to like i never used mem cached by the way"
388080,393920," right i'm not a web developer i know that this is a thing uh right that you use in web development so"
393920,399760," as you can see it said client error bad bad data chunk and that kind of proves that i'm really bad"
399760,403680," at this kind of thing because i probably put a new line in here so i'm not supposed to put new line in"
403680,409520," here so let's actually do something like this uh right so this is a john smith and there we go it's"
409520,416080," stored that thing and i suppose now i can get the full name uh out of this thing and it's going to exist"
416080,421600," for this amount of seconds which is uh very interesting right so if you basically divide"
421600,428320," this by that so it exists for uh for an hour right so so essentially 60 minutes right so this is how"
428320,432480," many you have and this is how many hours you have so i was going to remember that for one hour if i"
432480,439680," remember how the time works right if i remember how it works uh so why would you even need this kind of"
439680,445280," database right so it's kind of bizarre isn't it like why would you need something like that so"
445280,453920," the last time i saw memcached used uh it was used in the context of like this classical php scripts"
453920,460160," right so uh the thing about php is that the old school php way of development is that you have a script"
460160,469280," that fires and forgets and it doesn't run for very long so basically on each request a php script is"
469280,476880," run uh right it processes your request and it just dies out so you cannot store the state of the web"
476880,483440," application in php script in its variables you physically cannot store its state there so in the way"
483440,490080," uh people solve that they store the state of php application in a database some sort of a database"
490080,496400," like postgres or mysql quite quite often mysql right so in php community i think mysql is more"
496400,502720," popular than potgres uh right but what if you have a very simple application right very simple"
502720,508640," application that uh for which something like postgres or mysql is going to be complete overkill well you"
508640,519360," can use memcached right so and it's kind of a bizarre way uh kind of a bizarre use case for for such databases"
519360,524800," and on top of that you can uh you can use it for caching things right so you you can pre-compute"
524800,530720," some stuff and you can cache it and stuff like that i suppose maybe i'm not even sure can you have"
530720,535200," several mem cached instances on different machines that synchronize between each other"
535200,540080," can you do something like that i'm not a web developer like i know nothing about this kind of"
540080,547280," stuff but if you can do this kind of stuff i can see that being very useful for web applications right so"
547280,553600," you have some sort of a computation that is done on one machine and you can basically say okay share"
553600,560640," that computation among all of these like instances that use memcached uh right i can see that so but"
560640,565280," but i mean there doesn't have to be like several instances you can just keep memcached on a several"
565280,571200," on a separate machine and you can have several uh servers that run php scripts and use the same memcached"
571200,576000," or something like that i can see that being useful all right i can see that being useful for this toy"
576000,576800," scripting languages"
580320,591760," uh you know what i'm talking about so we've got some get some subs so just a second uh right so"
591760,595040," marcia and eto thank you so much for your one's application with the message i love this kind of"
595040,599360," streams going through relatively small production code base is one of the best way to really learn"
599360,605840," how technology works in my experience yes it is and what's interesting about this specific um question"
605840,612880," this specific sort of engineering uh challenge is that it is as close to your real job as it can"
612880,619440," possibly be right unlike uh lead code coding interviews and stuff like that because this is"
619440,625840," literally what you will have to do on your day-to-day job you would have to take an unfamiliar source code"
625840,630800," and you would have to extend it right nobody's going to explain you how the source code works"
630800,637200," uh it's up to you to learn it and find the points of extensions and extend that source code and it's just"
637200,643040," so so so good it's such a good question unfortunately it's really hard to find these sort of isolated"
643040,651840," instances of um source codes or tasks for source codes that really demonstrate um you know software"
651840,657200," engineering skills of person right so uh maybe companies should start like collecting like a"
657200,664400," database of such tasks or something like that um i suppose in software development in the industry"
664400,673920," there is a notion of a good first task or good first issue right so even github uh automatically"
673920,680720," creates a attack for that right so we can even uh go ahead and just open something like knock uh right"
680720,687520," so and if you take a look at the tags that you have any issues one of them is going to be they're called"
687520,696160," labels in in case of github uh all right so good first issue and yeah so this is basically might be"
697120,704800," good tasks to ask on coding interviews right so basically maintain like a pool of good first issues"
704800,710720," and if somebody comes to to do an interview just throw them at them and see how they at least find"
710720,715040," the place where they need to modify the code they probably don't even have to implement or actually"
715040,720720," modify the code but how quickly they can figure out how to do that right because that's what demonstrate"
720720,728800," the uh the software engineering abilities in my opinion uh right asking lead code uh coding interview"
728800,739040," questions is is akin to asking a lawyer imagine you interviewing a lawyer to play um a round of chess"
739040,744880," right imagine you're interviewing the lawyer you want to hire a lawyer and uh what you do you ask"
744880,752720," them let's play a round of chess well i mean it's not the bad idea it may even evaluate something about"
752720,758400," your lawyer about their ability to defend you in court but ultimately ultimately this is not what"
758400,763600," they're going to be doing you know what i'm talking about right so the coding these competitive programming"
763600,770080," tasks they are basically chess for programmers right it's an interesting mental exercise yes it may even"
770080,773680," evaluate something about the programmer but ultimately this is not what we're doing"
774400,780240," right it's just like yeah i don't know and i'm not saying that we should or should not do these"
780240,785520," competitive programming coding interview questions right what i'm saying is that it's ultimately not"
785520,792000," about that right and we have to be aware of that at least all right we have to be aware of that at least"
792000,799120," one style of interview is also to ask about things the person already did to see how well they understand"
799120,803920," what they programmed and how good they are at explaining because you might already did a mock interview on that type"
803920,813440," ones yeah so i feel like generally uh we want to evaluate programmers as the industry usually evaluates like"
813440,821840," artists right so essentially when an artist wants to get a job what they do they show their portfolio"
821840,828000," we do not ask artists about some obscure features of photoshop"
830080,837200," imagine if really like for example game dev uh industry when they hire artists they would ask find me"
837200,844160," that brush in photoshop version six points something something something something you wouldn't hire an"
844160,849760," artist like that why the do we do something like that for programmers like what excuse me like"
849760,852960," no show me your portfolio show me what you've done"
854240,858960," right so that's what how we should evaluate software developers i mean that that's how"
858960,860720," we evaluate"
860720,867040," like quite a lot of different professions like why why did we stuck in such a weird way of evaluating"
867040,870400," programmers i do not quite understand it's so weird to me honestly"
870400,873200," uh right"
874480,880960," and especially it's kind of weird to evaluate artists by some obscure features of photoshop's"
880960,883840," photoshop because different artists may use different tools"
883840,888960," right so and it doesn't matter because at the end of the day what you have to produce is this"
888960,896080," is basically a matrix of pixels that's what we expect from an artist just give me a matrix of pixels of colors"
896960,902400," right so in the same for uh for the programmer right it's just the at the end of the day you have to"
902400,907600," produce a sequence of instructions is that what we do i'm not even sure what's the end product of programmer"
907600,911120," uh i don't know so anyway"
911120,920080," uh i don't really know uh so we got another sub from lead geek um tier one subscription without any message"
920080,937120," thank you thank you all righty so uh let's uh let's continue let's continue so uh what else do we have"
937120,944800," right so we can get the value and stuff like that uh one of the things uh that we can do right we can"
944800,952400," associate numbers right so we can associate numbers for instance uh i can create a value age right and"
952400,960480," so i can put something like 68 in here and it created a variable h which is i suppose is an integer"
960480,968080," right so it is an integer and one of the operations you can do with h is to increment it by one right so"
968080,974720," if you do that it became 69 so this is one of the things you can you can do right and uh"
974720,980320," the reason why you want to have this as a command in memcached is that uh it's going to perform these"
980320,984880," things atomically right so memcache is supposed to be used in sort of like a shared distributed"
984880,992320," environments when it has uh several clients and stuff like that uh right so and to sort of avoid race"
992320,1003280," conditions uh this entire stuff is atomic right so um and yeah so the idea so the challenge is implement a new"
1003280,1009600," command called mult which instead of adding a number right so as you can see here it adds one"
1009600,1015520," two to the variable instead of adding it multiplies by that variable obviously if you try to do something"
1015520,1022960," like that it won't work it will error out because there is no such command and that's the challenge"
1022960,1029200," that's the challenge and they give you uh how much do they give you so you have three hours right so we"
1029200,1034720," got three hours to implement all of that we actually have less uh because i usually stream for two hours"
1034720,1041360," so i have to actually do that a little bit faster right but the idea is that you need to extend memcached"
1041360,1047760," to support a new command a new operation and that's the coding interview so let's go ahead and try to"
1047760,1053360," do that i do that i suppose right so sounds interesting right sounds interesting so interestingly enough uh"
1053360,1060240," i already done that challenge before but i think i've done it like a long time ago right really long time"
1060240,1068720," ago and uh by the time by today i already forgot how to do that so you would have to trust me uh that"
1068720,1075520," uh i actually don't remember how to do that so um so when i i discovered this thing a long time ago and i"
1075520,1082720," accidentally just solved this uh challenge right and i felt so bad because i felt like i wasted such"
1082720,1090560," a good content right so what i had to do i had to put it on the back burner until i forget how to do that"
1090560,1097520," and do that again but already live right so you would have to trust me that i don't remember how to do"
1097520,1104160," that i did it once but i already forgot everything and i do actually forget things because i try a lot of"
1104160,1109600," different things all the time so i don't really have that much cash in my brain to remember everything"
1109600,1115520," right so because of that i just like forget things right because of that i just forget things"
1115520,1123440," um all right so uh yes so yes so yeah so how can we even do how do we even approach this problem"
1123440,1128400," right so you need to add a new command how the do you do that that's an interesting question"
1129200,1135920," uh that's a very interesting question so essentially as you can see uh memcached is just like a ripple"
1135920,1144640," read evolve print repeat a loop right so l is loop and essentially how would you even implement something"
1144640,1151600," like that right so in in c uh you would probably have some sort of a loop right so maybe infinite loop"
1151600,1158240," uh where you would read a line uh read line and you would probably save that line to some sort of a"
1158240,1164640," variable maybe you would even split by uh sort of like spaces and maybe take the first element out of"
1164640,1170080," that so it doesn't really matter how you parse it so we basically parse it right so and maybe you're"
1170080,1176320," going to have this as a command or something and then you would have some sort of a switch case you would"
1176320,1183760," have uh cmd equal to get and in case of the get you you're going to do one thing right so something like"
1183760,1192320," uh get implementation get implementation uh otherwise you're going to have cmd equal set and so on and so"
1192320,1200720," forth and somewhere there you're going to have cmd equal to incur right so in any case in any case i think"
1200720,1208000," we want to use actually double quotes in here in any case uh at some point you would have to compare"
1208000,1215280," something with a string literal incur you would have to do that right it is not necessarily going to be"
1215280,1221440," implemented like that but no matter how exactly it is implemented you would have to compare something that"
1221440,1228160," holds a pointer to the string to this string literal so that means there is a very high probability"
1228160,1235440," there is a very high probability that such string literal exists in a source code very close to the"
1235440,1241600," place where we dispatch by the command and we can extend that place and we can add a new command you"
1241600,1248640," see what i'm talking about right so essentially exploring the source code is about building a hypothesis"
1248640,1256160," and then testing that hypothesis right it's almost like a scientific method uh right so and essentially"
1256160,1263120," this is what we can try to do right so we can try to grab uh grab our n and specifically let's try to find"
1263120,1271360," a string literal anchor and we found something so we found something interesting so this is uh folder t"
1271360,1278080," right this is a very interesting folder it's called t and if i remember correctly if i remember correctly"
1278080,1285520," if i remember correctly usually in i think in pearl t stands for tests right so basically you uh here you"
1285520,1292080," you put tests and it's pearl right so it's it's literally pearl so we can see this um string literal"
1292080,1295200," literal being being used in pearl tests okay so it doesn't really matter"
1295200,1309600," strcmp tokens ink it's literally like that it's freaking literal like literally so it is implemented"
1309600,1312080," exactly as i said wait a second and"
1315120,1320960," because again how the else would you even implement that how else would you implement it you would"
1320960,1326480," implement it as some sort of a loop and a switch case okay so the loop is probably somewhere outside"
1326480,1331520," of the process command right somewhere outside of the process command and then uh you have this kind of"
1331520,1337920," thing so there we go we already find the place but this place is rather interesting so it doesn't call"
1337920,1344240," to a function function that is directly associated with anchor command they have so-called process"
1344240,1351120," arithmetic command and that is very interesting right that is very interesting again yeah yeah sure you"
1351120,1357280," can say that i knew you can say that i knew but again it was long time ago i don't remember any of"
1357280,1364080," that stuff like i really don't remember and this is how i approach any source code base trust me"
1365680,1370960," i forgot i swear it's almost like i see it for the first time i swear"
1370960,1380960," trust me bro this is not scripted this is not a scripted stream"
1380960,1389840," mods anyway so it will be kind of nice to to be able to jump uh to this definition so you know what we"
1389840,1396720," can do we can find all of the all of the files that are h and c and just like put them in an e tag or"
1396720,1403920," something like that so this is one of the things we can do so uh let's find uh something like ch so"
1403920,1410400," here are all of the ch files there's not that many of them right so and let's just shove them all into e"
1410400,1419120," tags uh like so uh right so that should have created a tags file so that means so let's do grab one more"
1419120,1426640," time uh grab one more time and we go here and i should be able to just go inside of this function by"
1426640,1432240," providing the tags file and there we go i inside of this thing and it can go back if i want to"
1432960,1437760," so there you go so i should actually start using tags more right because it's a very useful thing"
1437760,1445200," here so we have a process arithmetic command to be fair uh we can do a very interesting thing we can"
1445200,1454400," already we can already try to extend this entire thing uh and add some stuff so we have uh and tokens"
1455040,1460800," so i suppose this is the amount of tokens that we have right so the amount of tokens you tokenize"
1460800,1467600," this entire thing uh you're talking as this entire thing and if the amount of tokens four and five and"
1467600,1477840," the command token specifically equal to incur uh we have to do that but why incur has so many uh tokens i"
1477840,1484480," do not quite understand let me take a look at how you use incur yeah there we go so there is that there is"
1484480,1492880," that and i can see i see only three tokens i have no idea where the fuck they got four and five tokens"
1492880,1499760," that is actually kind of bizarre isn't it uh so that is actually kind of bizarre so we can try to find a"
1499760,1506880," command token where it's defined sub command key token max token okay so that's that's very interesting"
1507600,1517200," uh right so but i suppose i suppose um if we're gonna have multiplication right it's gonna act almost"
1517200,1524320," exactly as uh you know incur and in that case we can just like go ahead and substitute this into i think"
1524320,1528880," like that right so we can just go ahead and substitute it like that so i think i want to put something"
1528880,1534320," behind my camera again i'm really apologize for that i keep forgetting that shise i keep forgetting"
1534320,1542960," this shise mine throwing the um okay so and here we can probably print something just to confirm uh that"
1542960,1551360," this is exactly how it works right so uh let's say something like your mom right i wonder if it's"
1551360,1556880," going to work i wonder if it's going to work so we can try to just build this into i think uh is it building"
1556880,1567520," is it building it seems to be building right so and we can just try to do memcached and basically go to"
1567520,1578240," the telnet and i can do malt h10 right so and that didn't work at all though it printed to the standard"
1578240,1586480," output your mom we already added the new we literally finished the challenge already like half of the challenge"
1586960,1592080," this is half of the challenge so you need to add command that does a certain thing we added the"
1592080,1598480," command the command is there it doesn't that it just doesn't do what we asked to do but it's already"
1598480,1603920," there so this is half of a challenge in 20 minutes dab dab dab so"
1609440,1614000," do that in an interview dude what do you think a stream is"
1614000,1624560," what do you think a stream is right so when i'm streaming i'm basically doing a coding interview"
1624560,1631040," in front of hundreds of people right in in front of hundreds of people i'm doing coding interview"
1631040,1636400," uh almost every day well i don't really stream every day anymore but i used to stream a lot every day and by"
1636400,1641760," the way one of the things uh i would i was recommending to people who are preparing for the coding interviews"
1641760,1650080," is to try to do a stream try to stream because it basically um like and when you're doing a stream you"
1650080,1657520," want to actually try to learn how to retain attention of people right you can retain attention of people"
1657520,1663760," by constantly explaining what you're doing basically expose exposing your thought process and what's"
1663760,1670320," interesting is that this is exactly what interviewers are expecting from you right so quite often"
1670320,1675200," people get scared uh on the coding interviews because they're afraid that they are not gonna get"
1675200,1681760," the correct answer the interviewer doesn't give a shit about the correct answer seriously they don't"
1681760,1687760," give a you don't give a fuck if you get the correct answer what they're interested in is your um you know"
1687760,1694320," trail of thoughts how exactly you approach the solution and to actually expose that you need to"
1694320,1698320," constantly explain what you're doing they need to be able to see that and this is what streaming"
1698320,1706720," basically is that's what streaming is it's a constant coding interview that's what it is uh right so i"
1706720,1718880," can say that i'm doing that in a coding interview um so anyway um um okay again so we already have"
1718880,1724400," have uh half of the challenge finished right so we already have a command it just doesn't do what uh we"
1724400,1730720," were asked to make it to do right so let's see how we can do all of that uh let's see how we can do all"
1730720,1741440," of that uh so let me see so the process arithmetic command and uh what do we do in here i suppose uh i"
1741440,1747440," suppose one of the things we do inside of this entire stuff we're looking for anchor i feel like we're"
1747440,1758560," looking for incurring here right so uh no that's really so set non-reply maybe uh all right so bad command"
1758560,1772000," so there is a key and key uh increment misses okay so there is some sort of misses in here uh it doesn't"
1772000,1779360," really tell us that much it doesn't really tell us that much uh token length and token"
1783600,1791200," so add delta okay so add delta okay so that's probably what's going on add delta and when we're"
1791200,1801520," adding the data uh right so we do uh do add delta okay so and within do add delta what do we do"
1805680,1811360," okay okay so that's basically what's going on here so we uh do add delta"
1811360,1822560," so adds a delta value to an uh numeric item see connection requested the operation item to adjust"
1822560,1827200," true to increment value false to decrement it okay that's very interesting"
1830480,1841840," okay okay okay wait a second this is actually kind of cool uh i see i see what's going on"
1841840,1851920," we need to i feel like we need to extend the amount of values you can you can put in here i feel like we"
1851920,1858400," need to do that so we need to add a third uh thing in here which is essentially multiply increment"
1858400,1864880," decrement multiply right so it's not a boolean anymore uh all right but how do we just decide whether it's"
1864880,1872880," going to be increment or decrement uh all right so increment is taken uh from yeah it's a process"
1872880,1879200," arithmetic command process and it's one okay so essentially we want to have have something like"
1879200,1886400," this so if if we have something decrement where is the decrement uh right uh do they have"
1887040,1893520," yeah so there is a decor command but i can't really see that in here at all it is not even"
1893520,1902240," processed anywhere in here so decor oh here it is yeah there we go so essentially it's the same thing"
1902240,1907600," so here's the increment command we process arithmetic command and decrement command will also process"
1907600,1915440," arithmetic command but in case of increments this thing is set to one and this thing is set to zero okay"
1916160,1920240," so uh"
1920240,1936880," gotcha hyper i i know decrement like how do you pronounce this this thing uh translate google.com"
1938640,1948240," uh decrement uh decrement decrement okay i hope i did it i hope i nailed it so in essentially chat"
1948240,1955200," essentially what we need to do we just need to add two in here right it would be kind of nice to now"
1955200,1963760," transform this entire thing uh into into enumeration instead of a boolean right so instead of the the"
1963760,1970320," boolean in here it would be nice to have enumeration uh right but i'm not quite sure how easy it is to do"
1970960,1978000," um right so in how many places do we even use uh process arithmetic command right is that is there"
1978000,1986640," only three places where we use all of that um right so here are all the three places that we just added"
1986640,1991200," and the different okay so this is actually very straightforward uh right so there's only three"
1991200,1997440," places where we use all of that uh so that means we can just like safely safely change this to integer"
1997440,2003840," and we know exactly what's going to happen in here so okay uh so the next thing we need to do we need to do"
2003840,2011360," add the delta which means that it would be kind of nice to rename this entire variable uh this entire"
2011360,2016960," function to something else right but if we are in a pinch maybe it doesn't really matter that much"
2016960,2023440," surprisingly increment in here became integer right it became integer even though uh increment in here"
2023440,2031840," originally was boolean right so originally it was boolean so here we have that so then we do increment"
2031840,2041600," uh call it like that so we're now passing so the increment it's kind of weird wait do i understand"
2041600,2054880," it correctly wait so i already made modifications uh i already uh made modifications uh so and i don't know"
2054880,2060000," what was the original thing but it feels like they basically flip flop between boolean and integer so you"
2060000,2064800," have to be super careful be over like with this kind of stuff uh right so here we want to actually use"
2064800,2070240," this as an integer and if we take a look at the anchor right if we take a look at the anchor so this is"
2070240,2078960," basically what is going on in here uh if we increment uh this thing uh we just add the value and then we"
2078960,2085920," have memcached command anchor uh and then if we have that stuff in here we have that okay so we can change"
2085920,2092160," this to a switch case right so we can do switch case and there's two places actually"
2092160,2102160," so they also yeah they also keep track of some sort of hits and stuff like that so i'm not sure if we"
2102160,2111280," care about that but anyway uh in case of one right so this is basically uh increment right so this is basically"
2111280,2120480," increment uh all right so i can move that stuff in here uh then in case of zero this is increment"
2120480,2124880," right uh so this is going to be the break"
2124880,2135840," uh-huh so and let me move that stuff in here so this is a switch case and in case of two this is"
2135840,2149360," multiplication uh but that raises emacs freaking emacs i'm sorry uh so what we do we have to just do"
2149360,2156240," value multiply by delta uh delta and also we have this thing and i have no idea what the it is"
2156240,2162320," right so we can try to introduce malt and but what the is this thing so i'm gonna go to"
2162320,2165600," here and it's it does nothing"
2165600,2170560," wait a freaking second"
2170560,2176640," i think i know what the fuck it is wait wait wait wait wait uh so let me"
2176640,2188800," it's it's inside of the trace dot h okay i think i know what it is essentially you can redefine this"
2188800,2196160," macros uh and uh insert some code on each individual increment right you can insert some"
2196160,2201120," additional codes probably for login purposes or something like that maybe for debugging purposes"
2201120,2206080," i guess that's what it is what you guys think is that what it is i think that's what it is"
2206080,2213040," uh do we really care about that do we really care we can add that thing uh right but um i don't"
2213040,2219040," know i can put it to do in here uh right i can put it to do in here saying add support for"
2219040,2226080," tracing a multi-command right because we're uh we were not set to implement like tracing right we were"
2226080,2230960," set to implement a command that just does that so it's kind of outside of the scope of what we're"
2230960,2238800," doing right now so i'm going to just like i need that um so okay uh also we have uh some sort of a"
2238800,2244960," statistics right so there is an increment and decrement hits uh so we can take a look at that so"
2244960,2251200," this is a slab stats uh we can also omit that i mean who said we we have to support that uh who said"
2251200,2261920," we have to support that they can do to do uh add support um add slab slab stats support for"
2263040,2270560," mult command and i have no idea what is the slab stat i have no idea right so but do i really have"
2270560,2275760," to know all of that do i really have to know i'm not sure and and by the way so here since we're like"
2275760,2281840," looking into anchor uh i think if we are doing multiplication if we're doing multiplication it's"
2281840,2287120," going to increment anchor hits and this is not something that we probably want to do so i want to"
2287120,2294000," transform this entire stuff to something like case zero and we know that case zero is basically this"
2294000,2302480," thing so we're gonna do a break uh then in case of one it's an anchor anchor hits and a case two is"
2302480,2313680," basically something else god damn it emacs fuck you emacs fuck you weatherman uh all right so and we also do"
2313680,2320240," mutex lock right so this is basically uh behind the mutex and stuff like that so we need to check"
2320240,2325920," whether we use anchor variable somewhere else because maybe no we don't i don't think we do"
2325920,2332480," right so these were only two places where we actually use this kind of stuff right so here we actually"
2332480,2340800," perform the the operations and also some sort of tracing and um also we uh collect statistics so the"
2340800,2347680," reason why i don't want to go into the statistics right away is because i'm not sure um if i have"
2347680,2355280," to do additional things right for instance maybe these variables they have to be registered somewhere"
2355280,2361200," before you can use them as like for statistics you know what i'm talking about right maybe somewhere"
2361200,2367280," in the in the main function there is initialize statistic variables that registers the pointers to"
2367280,2371600," that variable in some sort of a table for some sort of pretty generation or something i don't"
2371600,2380160," fucking know right so i feel like just slapping uh like additional field in here and incrementing it"
2380160,2385120," and calling it today is not going to cut it because those fields are probably used somewhere and that"
2385120,2389920," somewhere probably requires some sort of a registration or something like that because this is how it usually"
2389920,2396000," goes so it can derail the whole thing uh dramatically so what i would like to do first i would like to"
2396000,2402720," just implement the feature as it is and make sure that it works exactly as uh you know we have in"
2402720,2408880," technical requirement and then we can spend some time looking how exactly these variables are used and"
2408880,2415920," try to you know extend this code to to do the same for mold right and in case of the memcached command"
2415920,2421840," mold maybe this kind of stuff has to be registered somewhere in a build system right because obviously"
2421840,2428640," it's for some sort of a tracing so that means the build system might be involved in here it might be"
2428640,2434240," involved in here or it might be not we don't really know so as you can see there is a lot of uncertainty"
2434240,2439280," right and none of that uncertainty actually gets us closer to a feature implemented"
2440400,2447360," so we can spend time making sure that all these things works but they are not super required for"
2447360,2453280," the feature to just work you know what i'm talking about so it's better to just get the feature working"
2453280,2458480," and then to then to look into all of this mechanism and to look into all of these things"
2458480,2462720," and i still have no idea what they're used for all right so so it's just something it's just"
2462720,2466560," something there that is used for something right it's nothing to do with the original feature"
2467200,2474320," anyways enough talking right so let's actually see if it's going to work or not um so um we probably"
2474320,2480640," let me actually see if we use that correctly okay so that seems to be okay so increment is one"
2480640,2486160," multiplication is two and decrement is zero so let's try to rebuild this entire thing"
2486160,2492160," uh right let's try to rebuild this entire thing and so it doesn't build let's go to the compilation"
2492160,2499680," errors yay uh so conflicting okay so i modified the signature of this function and it's now conflicting"
2499680,2504560," with the original signature so i need to change it to integer thank you so much compiler for helping me"
2504560,2512160," with that and that actually reminds me that i want to go through the entire call stack one more time i"
2512160,2518320," want to go through the entire call stack one more time and make sure uh that nowhere in the call stack"
2518320,2522640," there is a conversion between integer and boolean and stuff like that because i feel like it could be"
2522640,2530480," important i feel like it could be important so uh in a arithmetic command ink is an integer okay so where"
2530480,2538960," do we pass an ink we pass that in oh that is dangerous i think i missed something in here"
2538960,2546800," that is dangerous right so we'll probably have to extend this place as well uh we'll get to that"
2546800,2553760," we'll get to that so in at delta ink is an integer okay so how else do we use ink so we just pass it to do"
2554320,2560480," add delta uh within this thing ink is an integer right and within this thing everything's fine okay so"
2560480,2566320," let's actually go back and as you can see in here uh if the delta item not found we still have to update"
2566320,2575520," these statistics uh why is it dangerous uh somebody asks in here this is because uh we're going to increment"
2576080,2584480," incur misses in case of multiplication right because what they're doing here they use incur as a boolean"
2584480,2591520," but it's not a boolean anymore it's enumeration so it only has to do incur misses when it's actually"
2591520,2596560," incorrect limit right and in case of the mood is probably need to have its separate statistics"
2596560,2602880," right so we need to have it separate statistics so what we have to do we have to transform this"
2602880,2606480," entire thing into a switch case right so we have to transform it into a switch case"
2606480,2614000," so this one has to be case one uh right so this is a break this is uh excuse me why did you remove"
2614000,2623760," everything uh this is case zero right so this is case zero uh and for the case for the case two there is"
2623760,2632400," nothing yet in here add support for malt right so there is at least two places there is at least two"
2632400,2639120," places where all of that is happening uh okay so let me go and uh just do that"
2639120,2650240," so let's rebuild everything uh used to yesu yesu yesu and let's start mem cached uh mem mem cact mem a cact"
2650240,2661920," very funny so let's just add um you know the usual edge age right so the age is going to be this i set"
2661920,2668880," the age i said that the age is going to be 37 so it's got stored we can try to get the age uh right"
2668880,2676560," so we can it's 37 we can try to increment the age by one right so we can try to increment by one it's 38"
2676560,2681360," and now the moment of truth the moment of truth can i multiply it by 10."
2683120,2689680," first try first try first try am i hired am i hired i don't freaking know but that was easy actually"
2689680,2699040," right but basically uh what it does it demonstrates like basic skill of navigating a new unfamiliar code"
2699040,2705600," right so and essentially this is basically what they've demonstrated to you uh right so the first"
2705600,2710160," thing you need to do you need to find the location where the commands are sort of dispatched and handled"
2710160,2715920," you can do that by searching the name of the command as the string literal right once you found that you"
2715920,2721200," need some sort of an easy mechanism to navigate between the call stacks right so essentially here"
2721200,2727680," i use c tags and i can go inside of the function right c or what are the other functions uh that are"
2727680,2734080," called in here and i can just basically navigate the labyrinth of function calls until i find the place"
2734080,2740720," and find sort of like a good extension point uh right and as you can see it's a really good example"
2740720,2748080," right because you have to modify like a semantic of the argument through the entire call stack right"
2748080,2754400," because before that the the semantic of the argument was basically a boolean a flag true or false is that"
2754400,2760720," increment or is that decrement the easiest thing to do in here is to turn it into enumeration of three"
2760720,2766480," things and by doing turning that into enumeration of three things you can actually extend it even more"
2766480,2771440," maybe in the future you can add division right so maybe other mathematical operations and all these"
2771440,2778000," mathematical operations will be values in the enumeration uh and it will be kind of cool to"
2778000,2785120," actually create an enumeration right so maybe like a wreath um you know a wreath operation operation"
2785120,2789120," and it's going to be like zero one two and all these things are going to be increment decrement and"
2789120,2794720," stuff like that right but the easiest thing to do in here is just to use integer uh and maybe even"
2794720,2803920," implement it like further so yeah i really like this kind of um this kind of sort of like according"
2803920,2812800," interview questions uh right because they're very very close to um to what we actually do uh but"
2812800,2818240," unfortunately these kind of questions are really difficult to find in the wild right they're very"
2818240,2824720," difficult to find in the wild um because there's not that many of them right so it would be nice to"
2824720,2834560," maybe um explore all of that even further uh but i ran out of tea chat i ran out of tea so i think"
2834560,2838320," we'll need to make a small break we'll need to make a small break i'm gonna make a cup of tea"
2838320,2846080," and after the break we can basically try to explore what are these tracing things so we already finished"
2846080,2851760," the challenge by the way so we already finished the challenge uh it would be kind of nice to explore"
2851760,2858400," what are these slab stats and maybe like extend the slab stats and maybe see what they're used for"
2858400,2862880," and stuff like that uh all right so that will be interesting so let's actually do that after a small"
2862880,2869520," break um all right so let's try to finish this challenge right so let's try to finish this challenge"
2869520,2877680," one of the things we need to learn is what the hell are those slab stats right what the hell are those slab"
2877680,2884720," stats uh i'm really curious what they are uh so we have some definitions in here right so uh here they"
2884720,2893840," are so this is a thread stats and i want the number of uh slab classes yeah this is rather interesting so"
2893840,2900800," this is a number of slab classes uh but i suppose we don't really have to extend them uh we don't really"
2900800,2908960," have to extend them so um we just have that i'm interested in how many places we use them so we"
2908960,2915120," we do definitely write into them but where do we read from them right so that's what i'm interested in"
2915120,2924160," so let's just go ahead and search uh for potential reads of this variable uh all right so here we write"
2924160,2929680," into it here we write into it here we write into it and here is where we read from it uh no yeah so we"
2929680,2938560," just increment oh that's very interesting interesting so we're transfer and okay so there you go we found"
2938560,2949360," a very interesting place uh right so essentially if i just edit mood hits i wouldn't know that i will have"
2949360,2956080," to extend this place as well right so here we're obviously doing some sort of a copying uh thread"
2956080,2964080," local stats aggregate right so if you're gonna add a new stat in here you should also extend the code that"
2964080,2972080," aggregates the stats so this is precisely why i didn't want to do that because i knew that you don't"
2972080,2978480," increment stats just for nothing you also do something with them right and figuring out or like how"
2978480,2983680," how you have to do how you have to deal with the stats actually derails you from the main feature"
2983680,2991360," it's better to postpone that precisely because of this kind of stuff uh right so uh where else do"
2991360,2999280," we use all that so there is this aggregate code uh so maybe i'm i'm gonna do something like slab stats"
2999280,3006400," maybe i'm gonna do something like slab right so essentially i'm gonna mark places that where i probably have"
3006400,3013120," to do some extensions with add slab so i can quickly find them uh in the future so here's another thing"
3013120,3020560," for example cleaning up things and this is a really bad way of cleaning up things in my opinion you could"
3020560,3026240," have just did mem set and you would never have to actually extend this place ever again"
3026880,3033600," right so but you will have to extend it like this right so but i mean uh anyway so this is another"
3033600,3039280," uh place where we probably have to do slab uh right i still have no idea what the f is slab right so just"
3039280,3046720," saying so this is the second place but i mean it's under the same thing uh so here is the uh pearl code we"
3046720,3054640," don't really care uh and what do we have in here so append stat uh append stats so this is a decrement"
3054640,3065920," so what is this function server aha server stats so where where is it called return uh server specific"
3065920,3072880," stats only so can i even print uh print that so can i even print that that's very interesting but i"
3072880,3080720," definitely need to uh put a slab in here right so slab in here uh but i'm really curious can i find"
3080720,3088080," the places where it is used uh not really so probably have to then do something else so this is memcached so"
3088080,3094800," this is where we uh increment these things so there's some docs uh so there's documentation"
3094800,3103600," uh-huh so general purpose statistics uh upon receiving the stats coming okay so there is apparently a stats command"
3103600,3109920," uh that give you the stats right so we can do stat name and the server will return your stats okay that's cool"
3109920,3117120," that's actually very useful actually uh that is very useful i wonder if i can just get all of the stats"
3117120,3126560," uh right so but i need to first finish with all this stuff so this is the definition so this is definitely"
3126560,3139600," where i'll have to do slab that's for sure um so isn't that do slab stats so okay so there's a lot of"
3139600,3145440," duplicate code so i also have to do it in here as well so slab"
3145440,3156800," and the last thing okay so it's the same thing all right so that's cool i suppose uh i can just now"
3156800,3163040," search for slab and here are all the places where i have to do modifications to add a new sort of statistics"
3163040,3169440," right so one of the things i would like to do i'd like to run memcached one more time"
3169440,3176080," uh and connect to this entire thing and do stats right and here are all the stats here they are right"
3176080,3185040," so increment uh right increment hits increment misses and stuff like that and yeah so oh you need to actually"
3185680,3193440," we need to actually have two of these things right for misses and hits right for misses and hits so this is"
3193440,3200080," quite important uh right so that's actually kind of cool so somebody in the chat asks uh what's the question"
3200080,3208880," check out the today comment uh it's basically the the old um blog post about extending memcached"
3208880,3217440," so somebody also asks when can incur miss i suppose when you're trying to increment a name that doesn't"
3217440,3226480," exist right so we can go to memcached so and we have here we have hits right so here we have hits"
3226480,3235040," but uh process arithmetic command so essentially when we're processing the arithmetic command"
3235040,3244800," um when delta item not found because how do you do that you do increment uh name right so if such"
3244800,3251760," name does not exist it generates delta item not found um or data item like something not found"
3251760,3257440," and it will basically increment the misses of the increment or decrement right so that's what's going"
3257440,3262720," to happen uh but i mean delta not found they're not talking about the name they're talking about"
3262720,3267920," specifically delta so that means you may store data somewhere else um"
3267920,3288720," so uh this is also a slab that we'll have to increment in here uh all right all right all right so can we just"
3289360,3295600," kill it can i do uh i don't remember so there was a i probably can quit"
3295600,3301840," yeah i can just quit so it's also kills the end i think it didn't really kill it"
3301840,3307520," oh quit doesn't kill the memcached it just quits the uh the current connection okay that's cool"
3307520,3316000," uh that's cool that's cool so somebody also asks what's the purpose of this code i have no idea right"
3316000,3322000," personally uh if i were developing application i wouldn't need it but i think this is needed for"
3322000,3329600," php programs to to store their state somewhere i think that's the purpose of this code right so"
3329600,3340880," that's the purpose of memcached i suppose um okay so let me just go ahead and uh go through all of these"
3340880,3355520," slap uh places and add uh add the statistics right so ah so this is basically slab this is basically slab"
3356240,3364240," and we can just do grab slab and this is in how many places we have to do modifications to add the"
3364240,3372480," statistics which is not a great sign from the quality of the code point of view in my opinion right so um"
3372480,3379920," right so i usually don't like to co talk about maintainability right because maintainability is a"
3380880,3389760," um it has two ends right so the maintainability of the code also greatly depends on the ability of the"
3389760,3395440," person to maintain the same with readability right so the problem with maintainability and readability is"
3395440,3403760," because is that people quite often look at them in a very one-sided way they always assume that it's only"
3403760,3409920," responsibility of the responsibility of the code to be readable and maintainable and never responsibility"
3409920,3418480," of the programmer to be experienced enough to read and maintain there are two ends to this quality it's"
3418480,3424800," how really code is readable and maintainable and how skillful is the programmer that's why i don't really"
3424800,3430880," like to talk about this kind of stuff right because it's a sort of like a double-edged thing and when you"
3430880,3435520," really start to talk about it people really get uncomfortable because that implies that they need"
3435520,3442880," to get good and nobody likes to be told that they need to get good right so but in this particular case"
3442880,3450800," if you have a thing if you have a list of things and that list to need to be extended like for example the"
3450800,3457840," kinds of statistics generally i personally recommend to minimize the amount of places where you need to"
3457840,3465280," make modifications right for example here i need to add a new statistics look at how many places i need"
3465280,3473040," to make modifications just to add a new statistics right personally i think the code is more maintainable"
3473040,3478880," if the amount of places where you need to make modifications just to add a new thing is brought to"
3478880,3486080," minimum you know what i'm talking about uh right so it would be nice if it was just like one or two places"
3486080,3495200," but here we have seven places it's not that bad right but it's not great either right so we can work"
3495200,3500880," with that but uh for me personally you see how many how many things i had to do i had to do grabs and"
3500880,3505520," also make sure that i captured everything correctly and it's really easy to make a mistake and stuff like"
3505520,3514800," that it's just like yeah"
3514800,3519040," wouldn't be a good interview question if this code was maintainable yeah exactly"
3519040,3523040," um so anyway"
3523040,3531200," well let's go ahead and do that so what do we need to do um all right all right so incur"
3532960,3540400," misses incur stuff blah blah blah thread local stats aggregate incur uh so this is only misses"
3540400,3546160," uh but here we only have hits um so maybe i'm gonna do just malt"
3546160,3553360," uh malt misses and where is another ink uh here we're gonna do ink"
3555120,3563840," uh malt all right so we just edit these two things uh and that is basically it so i can"
3563840,3569200," remove this slob but i'm not gonna remove it right so because i still want to have this kind of stuff"
3569200,3588640," uh okay uh right so this is malt increment uh uh malt okay next place uh increment misses increment hits"
3588640,3594720," okay so that means we actually talking about both of these things in here uh and i can basically"
3594720,3603520," query place anchor with malt all right anchor with malt and that's basically it do we refer to incur"
3603520,3610000," anywhere up there i don't think so everything's fine okay so in here what we want to do we just want"
3610000,3619840," to do thread stats stats malt misses plus plus there we go so and we can just do that uh what else do we have in here"
3621120,3629200," um we want to do a similar thing i might as well just do something like that and malt uh slaps"
3629200,3640400," yeah so that's fine so uh huh and here we have to add the hits but where do we start the misses uh where do"
3640400,3651200," we start the misses um this is sus not gonna lie uh so here where is the ink"
3651200,3652640," uh-huh"
3652640,3656800," malt"
3656800,3665200," okay so that's it but i don't remember the misses so we probably want to search for them all right so"
3665200,3678480," anchor misses uh-huh uh-huh uh-huh so here they are aha and i never actually put a slob in there"
3678480,3686640," uh all right so let's put slob somewhere there so this is slob uh-huh so this is the misses and this is"
3686640,3695680," like this threat stats okay so i think we should try to now build this entire thing and see if it's gonna build"
3695680,3700480," hopefully hopefully it is going to build"
3700480,3713360," first try i suppose first try uh we can now try to run the memcached and connect to this entire thing and do stats"
3714000,3722640," and do we have multiplication stats there we go so we have malt misses malt hits so we can probably now"
3722640,3733600," try to add uh the the edge the age not edge uh let's do it like that so boom and uh now what i can do i"
3733600,3741360," can i mean i have to set 37 uh so this is stored and i can try to increment uh this entire thing let's take a"
3741360,3748160," look at the stats uh now do we have increment hits right so we have we do have increments hits in here"
3748160,3754240," so they are in fact incremented so and the next thing we can try to do is try to multiply this entire"
3754240,3761760," stuff and see if that modifies the stats uh so this is the stats and there we go multiply hits is one"
3763520,3770240," there we go there we go easy peasy lemon squeezy so we also extended these stats uh right so and now"
3770240,3776160," you can see exactly why i postponed working on the stats because we had seven actually eight so we had to"
3776160,3783200," add additional thing you need to modify eight places to add the stats right and it still has nothing to do"
3783200,3791200," with the feature right so because the the the task was to add a feature it was nothing about the stats"
3791200,3796320," uh so that's why i just postponed that because stats could be actually more difficult uh right so we have"
3796320,3801520," to look into more places and stuff like that but again this is also not enough because there was"
3801520,3808240," something about the tracing right remember so there was some additional macros that allow you to trace the"
3808240,3813360," commands what's up with that i have no idea what's up with that right so we'll need to figure it out"
3813360,3821760," so let's go ahead and try to figure it out um so let me let me see um so there's uh i think process"
3821760,3834160," arithmetic command so and where do we try to do that so if we go into the increment uh right then add delta"
3834800,3841760," and by the way uh functions like add delta should probably be renamed to something else because they"
3841760,3849920," can also they can do more things than just add and subtract they can also multiply so this thing does"
3849920,3856000," not really reflect the intention of this function uh right so some sort of renaming would be required"
3856000,3862000," but i mean this is a real source code in a real production source code you have functions like that"
3862000,3867200," that do different things that are not declared in the name of the function it is normal right so"
3867200,3872000," because nobody got time to actually properly name functions right so that's why you have to look at"
3872000,3880160," the implementations so that's kind of normal so if you're about to graduate from the university and go"
3880160,3885920," into the industry that's the kind of shit you have to be dealing with like and ironically that's why i think"
3885920,3891120," this uh this uh thing this particular question is so great for software interviews for engineering"
3891120,3895920," interviews because they show you the actual kind of shit that you will have to deal with functions that"
3895920,3900240," do one thing but but named completely differently"
3906240,3912560," so yeah that's what you have to do and of course renaming function could be painful right because"
3912560,3917680," it's used in other places so you have to make sure that you rename everything correctly and for instance"
3917680,3924800," here i'm kind of afraid to um do the renaming because maybe we also have to modify the test we"
3924800,3933280," didn't even run the tests by the way maybe we also have to extend the tests so yeah"
3933280,3935440," uh"
3935440,3943680," already already already already so uh okay so this is some sort of a tracing this is some sort of a"
3943680,3949680," tracing um what can we do in here so let's actually try to find all the places where we"
3950240,3956640," uh you know use this function and there's not that many of them honestly uh there's not that many of"
3956640,3968160," them so yeah if enabled i really don't know because if it had something to do with the build stuff"
3968160,3974960," i would expect it to at least be used somewhere i suppose"
3977280,3983280," i suppose the way you use this function you literally put something in here yourself right"
3983280,3992400," in the trace.h you put something yourself in here like increment uh right s uh maybe s s s"
3992400,4003680," something like this and just arg0 arg1 arg2 arg3 something like this right because um if we take a look at"
4003680,4010480," the memcached c right so we have items i'm not even sure like it's kind of difficult to see what are the"
4010480,4016640," types of the argument zero argument one argument two argument three so it will greatly depend right so"
4016640,4020560," what kind of stuff we have to put in here so i think this is how you're supposed to use that"
4020560,4028400," right so and it's needed primarily for the debugging purposes right just to see just to trace uh different"
4028400,4033440," kind of commands right and i suppose the easiest thing to do in here would be to simply add another"
4033440,4041360," one like so uh when in doubt just look at the surrounding code and repeat what you see right"
4041360,4048000," so in my case i think i would just do something like that um right and also enabled i don't know"
4048000,4057600," where it is used is it ever used anywhere uh right is it ever used it's it's literally not used anywhere"
4057600,4064080," right so as you can see we have it in tags but the tags is the function that is the file that i created"
4064080,4071600," so the only mention of memcached command anchor enabled is in here which may also mean"
4073280,4080000," that you can also you can still refer to this kind of name through maybe uh token concatenation in a"
4080000,4085920," pre-processor maybe there is some sort of pre-processor macro that constructs this name somehow"
4085920,4091520," and all that is handled in a particular way i don't really know um so i don't really know"
4094000,4103680," so maybe we can try to search for just memcached command just to see uh nah i think it's it's literally"
4103680,4112960," that it's i don't want to say useless but it's as simple as that it's just additional things that you"
4112960,4120880," manually put some stuff in there and it just like traces i guess it's it's a mystery for me this is an"
4120880,4125520," enigma like i don't really know what people use this stuff for like it's just like it's so unclear to me"
4125520,4132000," if with the statistics it was relatively clear we even discovered that there is a stats command"
4132000,4136160," and this is how you extend statistics okay everything is clear in here with this thing"
4136160,4141280," i'm not really sure what what's up with that i kind of understand that it's for tracing but"
4141280,4147840," i don't know so kind of kind of difficult to figure out the intention but i mean i can just"
4147840,4154880," always do that so uh there you go i extended this entire thing we can try to uh to rebuild this entire"
4154880,4161840," stuff and there you go uh so we can build everything while it's building we may want to take a look at"
4161840,4168800," the tests uh and as far as i can see there is there are some tests for increment decrement right so there"
4168800,4175440," are some tests for increment decrement and this is something that we can try to extend uh yeah this is"
4175440,4181760," something that we can try to extend um and it seems like it's very easy to extend the only question i"
4181760,4189840," have is how do we run those tests so is there any way we can run them so everything is built so can i"
4189840,4198720," just do make tests uh okay apparently i can okay it's as simple as that so incur uh okay so there's a binary"
4198720,4207840," anchor uh so maybe there is more should be one auto binary or ascii uh huh all right so we're testing"
4207840,4214000," things we're testing things okay so here are the tests int that's a lot of different tests t but"
4214000,4220480," thousands of tests holy uh we're not lagging right so hopefully we're not lagging yeah everything's fine"
4220480,4227680," um so let's see um so let's see binary uh dot t"
4227680,4235440," huh so i suppose they're kind of automatically generated if there's like thousands of them"
4235440,4239760," dubious tests returned 155 uh okay"
4242240,4245280," i don't know what's up with that maybe it's after our modifications"
4245280,4249440," well yeah"
4249440,4253600," dubious tests returned"
4261920,4265200," all sub tests passed"
4265200,4273680," this is such a funny message looks like you planned this amount of tests but actually run this"
4273680,4285280," oh so i remember in pearl testing frameworks you kind of declare up front how many tests you want to run"
4285280,4290400," and then you run test and if there is a discrepancy it will tell you i don't really know why"
4291440,4296080," it is kind of necessary but i kind of vaguely remember pearl being like that"
4296080,4301120," right i kind of vaguely remember"
4301120,4308320," uh so this thing is pretty well tested this thing is pretty well tested i wonder if there is a way to"
4308320,4315600," run a specific test though that would have been uh nice uh okay so there's a lot of"
4315600,4320560," what is a shot failed what exactly failed in here um stats"
4320560,4325760," yeah stats have failed"
4325760,4331840," do you do you guys know why stats have failed do you guys know why"
4331840,4337280," because we modified the stats now we have more stats that than there was before"
4338240,4344320," so that's actually kind of funny right uh we can look into them right so that was a good idea to to"
4344320,4351440," look into all that i'm not sure about the binary t right so failed 24 maybe something failed in here"
4351440,4357600," also because of um of the stats thing uh but we definitely want to modify the stats i think i think"
4357600,4367760," we do um yeah output looks like this yeah it doesn't look like that anymore it definitely doesn't look like"
4367760,4377920," that anymore uh how can we even uh do that these stats yeah we have to actually uh you know increment and everything"
4377920,4388400," uh i wonder if there is like any way to uh just capture the current uh way of doing things increment misses"
4391360,4404640," so there is a stats uh can i just run um the t stats t no i don't think i can like it requires"
4404640,4410400," like re-running everything yeah it wants it wants to rerun everything unfortunately"
4410400,4417600," it will take too much time it will take too much time to actually modify all this thing right but i'm"
4417600,4425040," i'm gonna leave it as a note essentially leave it as a note right so uh upon modifying the stats we"
4425040,4432320," probably also want to modify this test so it passes uh probably want to look into the binary uh t"
4432320,4440480," and see what's up with that i wonder if it has something to do with uh stats yeah so uh we also look"
4440480,4446800," into the stats since we added some stats in here this um you know this thing probably broke and on top of"
4446800,4454160," that we would probably want to modify inc uh incur decker test to add support for multiplication as well"
4454160,4461280," right but working with that and extending all of that is probably like a separate work on its own"
4461280,4470640," uh right i don't know if it is required for this challenge to be completed um but uh yeah so i guess"
4471680,4478960," that's basically everything that i i as a software engineer would do to implement this feature right so"
4478960,4484880," implement the feature first of all implement the feature uh then update the stats because since you"
4484880,4489520," edit a new command you need to have the stats for that command because that's how memcached apparently"
4489520,4494560," worked i didn't know that by the way uh right i didn't know that i discovered that through working with"
4494560,4499840," the code and since it has the tests and tests are really important in an actual commercial software"
4499840,4507600," right so you want to also fix all of them right you want to fix all of them uh personally uh in like if"
4507600,4516480," we're talking about main the maintainability of the code uh if you probably want to have a way to sort of"
4516480,4523200," capture the current behavior and say that this is the current behavior now right essentially i modify"
4523200,4530480," the stats right i edit the new stats and now i have to go manually and i have to go to the file where we"
4530480,4536480," check the stats and manually modify it this is something really inconvenient what i personally like"
4536480,4542800," to do in my project is have some sort of ability to capture the current behavior and claim that that's the"
4542800,4548640," right behavior now so i don't have to do things manually right so for instance i added a new"
4548640,4556240," statistics now the test breaks but then i say okay but the the current behavior is the correct one just"
4556240,4561760," take the output of the of the of the program and say that this is the new behavior and test against that"
4561760,4566880," from now on that way i don't have to even modify anything i can say just record the new behavior and"
4566880,4574320," that's the new one and that's something that i used i think in port right so port uh has like different"
4574320,4580000," tests and stuff like that and uh there is an ability to just say okay record the new behavior and that's"
4580000,4585600," the new behavior now i don't have to modify it right so that's convenient and that saves a lot of time"
4585600,4590880," right so you don't have to modify files manually and everything you know what i'm talking about"
4590880,4598080," you know i guess i'm gonna finish it here right so what do you guys think did i pass the interview"
4598080,4602640," did i pass the interview i didn't update the tests but i mean i feel like it's gonna take too much time"
4602640,4609520," on the stream right because i i couldn't figure out the way to just run a single test and without that i"
4609520,4614160," don't want to wait through all the tests and stuff like that it's just like yeah"
4616400,4621520," so people say that i'm hired people say that i'm hired right but only one person would hire me"
4621520,4629520," and anyone else would hire me i don't know uh too much talk too less code but i feel like this is what"
4629520,4635520," you want to do on a coding interview anyway right because what you want to do you want to tell the"
4635520,4639440," interviewer you want to let the interviewer know what is going on in your head because that's what's"
4639440,4645440," important for the interviewer not what you're actually doing but the way you approach the problem"
4645440,4649920," and the the only way you can actually show the interviewer how you approach the problem is talk"
4649920,4655440," a lot while coding ideally you want to do that kind of simultaneously like i do on the streams"
4655440,4664880," um can you show the git diff i missed a lot of the stream i technically can't but i can try to do a"
4664880,4671120," diff between the folders right so essentially okay let's let's go ahead and just try to do that"
4671120,4677280," so this is patched so this is a patch thing uh i can't come to git diff because i downloaded"
4677280,4684960," the turbo right downloaded the turbo so what i probably want to do i want to do diff a universal"
4684960,4693680," one between the mem cached and the mem cached patch and hope that it okay so it actually uh it actually did"
4693680,4701680," something uh all right so that's basically the diff uh there is a lot of binary stuff right there is a lot"
4701680,4714000," of binary stuff um only in uh-huh so is there any way to filter out only ifs if you know what i'm talking"
4714000,4720400," about right we can always save uh that's sort of like a patch maybe i can do by this by the way what"
4720400,4729680," i can do is i can clean uh all right so i can try to do clean make clean there we go so that would make"
4729680,4736880," make it a little bit better right yeah so there's still some stuff in here like configuration and"
4736880,4747840," everything but apart from that so patch diff uh-huh so let's go here so okay so this is here we added a"
4747840,4754640," little bit of statistics so then we modified process arithmetic command from boolean to integer right so"
4754640,4759520," that's quite important because boolean was simply increment or decrement but now we can have"
4759520,4765280," multiplication so that's what we do um so here i transformed it's kind of difficult to see because"
4765280,4770880," of this highlighting but what i did i transformed if into switch case because again we support more"
4770880,4779920," operations than two so it's a switch case essentially again boolean to integer uh and if switch case"
4779920,4786240," transformation uh and yeah so additional command so this is probably the most important one"
4786240,4793040," uh right this is where we extended the dispatch between the commands depending on the actual name"
4793040,4800080," of the command uh all right and the rest of the stuff in here is additional statistics just additional"
4800080,4806720," statistics so yeah that's basically the patch so yeah that's what i would this is how i would approach the"
4806720,4812880," problem"
4812880,4821040," all right now guys that's it for today uh thanks everyone who's watching me right now i really"
4821040,4828640," appreciate that unfortunately i kind of finished the challenge in 40 minutes technically right so of course"
4828640,4835360," i tried to extend the challenge and add stats and stuff like that but it was 40 minutes right so and i was"
4835360,4843760," promised promised promised three hours of content i barely managed to have two hours of content and the"
4843760,4852960," blog post promised three hours of content literally scammed where is my three hours of content i i demand a refund"
4855200,4860640," i'm joking by the way great article thank you thank you so much whoever wrote that article uh i really"
4860640,4865920," appreciate it this is a really awesome challenge and i really recommend that challenge to to anyone who"
4865920,4871600," wants to prepare for for the coding interviews uh but obviously don't watch the stream but i mean"
4871600,4875840," if you if you listen to me right now you probably already watched the stream so everything is spoiled but"
4875840,4881840," but anyway all right that's it for today thanks everyone and i see you all on the next recreational"
4881840,4886320," programming session with azuzian love you all"
