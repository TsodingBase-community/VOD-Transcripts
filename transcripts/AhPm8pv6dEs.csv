start,end,text
0,9340," looks like we're live hello everyone and welcome to yet another a recreational programming session"
9340,14780," how about that which is better to happen so let's make a little bit of an announcement and"
14780,20660," officially start uh the stream hello hello everyone welcome welcome welcome so let's do"
20660,28720," red circle live on twitch and what are we doing today on twitch.tv website today we're looking"
28720,36420," into the focus text editor right so i'm gonna give the link to twitch.tv slash tending the place where"
36420,40640," we're doing all of that i'm gonna ping everyone who's interested in being pinged and there we go"
40640,48560," the stream has officially started the stream has officially started so uh here's the focus uh simple"
48560,55240," fast and fast text editor right so um i heard about this text editor for quite some time and it's"
55240,61620," actually quite famous among the java beta testers and the reason why it is so popular among the java"
61620,69840," beta testers is because it's entirely written in batch files that's the main reason right so in in fact"
69840,76660," it's written in jai it's just like github is incapable of recognizing jai files so that's why it says that"
76660,81440," it uses batch files because there's a couple of batch files which i do not necessarily understand"
81440,87640," why i thought the entire purpose of the the entire sort of like philosophy of jai is that"
87640,94360," uh you know the compiler itself is a build system you don't need additional scripts on top of the"
94360,100600," compiler to facilitate anything you just have one single file you just build that file and file does"
100600,107340," the rest but still i suppose this is like some sort of old reflexes or like maybe to hook things up"
107340,112720," into text editors or something like that i don't really know uh but it is what it is uh after all"
112720,118860," these you know batch scripts are not really that big so they're just like you know they call jai with a"
118860,125420," couple of parameters and stuff like that so anyway um so the problem with this text editor that i had is"
125420,131200," that it literally crashes on my machine and it crashes with a very interesting uh so the problem it crashes"
131200,139040," with a sig ill so for those who doesn't know sig ill is a signal that is sent when uh the cpu tries to"
139040,147040," execute an illegal instruction it's not even a sec fold mind you right it's not even a sec fold sec fold is"
147040,153760," when the the application is trying to touch the memory it's not supposed to touch sig ill is just like the"
153760,160400," the code like looks at the memory and the memory contains an instruction that cpu is incapable of executing"
160400,167200," there's a lot of situation that can lean to that and this is actually really weird right but uh recently"
167200,173760," i found a way to actually make it work uh right so and because of that i decided to finally do a string"
173760,180720," where i look into that text editor on top of that eleon to eleon to suggested to implement something"
180720,185360," for this text editor because it's open source so you can actually extend it and stuff like that"
185360,189600," uh and specifically there is a problem uh on linux for this text editor"
189600,196320," since um you know majority of the developers i suppose are on windows because it's a language for"
196320,202560," game development and uh windows is an operating system for video games right so linux is a real"
202560,208560," operating system for serious business for serious people and for the video games there is a separate"
208560,214800," like a niche operating system called windows right so majority of the of the so sorry"
216240,221040," majority majority of the gi developers are game developers so that's why they use this niche"
221040,228080," operating system for video games and that's why they probably don't really test on on real operating"
228080,236960," systems right because of that there's some features missing uh and specifically there is no save dialogue for"
236960,246880," uh for for for linux right so uh so eleon is here uh just a second uh we have these reports something"
246880,252800," similar might be what you're getting yeah i think i already looked into that so you say it's an issue"
253680,263280," uh 92 uh so i remember unable like i basically assumed that you wanted to uh want me to implement this"
263280,272160," right so and essentially somebody already tried to implement the save dialogue for uh for the text editor"
272160,278560," and they couldn't because a very interesting problem right so the problem is that we save the platform save"
278560,286160," dialogue that the application sort of designed around is synchronous but to make it sort of like a built-in"
286160,291920," you need to have an asynchronous one so it's like sort of a conflict between synchronous and asynchronous api"
291920,297520," and it's not as easy as just like you know calling to uh to a separate like api or something like that"
297520,304240," but you're saying you're saying there is um something something like this oh you're talking about um you're"
304240,312480," talking about the crash i already kind of fixed the crash so uh yeah yeah the the editor doesn't run uh"
312480,319680," when the cpu doesn't support is instructions yeah so uh i found a workaround for that i don't know if"
319680,324880," you guys found the workaround for that uh but i found the workaround for that which i'm probably gonna show"
324880,333440," on on on today's stream right so yeah thank you so much for for letting me know uh essentially uh so"
333440,344960," let me actually put um this thing maybe into the into the references uh right potential so um i don't know"
344960,354400," issue uh all the potential source of crash right i'm gonna put it in here just in case somebody else is"
354400,359200," gonna have this entire thing uh right but to be able to use this text editor unfortunately you have"
359200,366320," to have an access to jay so yeah but maybe like enough people who actually enjoy better actually"
366320,374000," watch my stream so maybe they'll be able to uh to make use of that so i think i already uh cloned um"
374000,383920," focus somewhere here so here it is already cloned it so and essentially let's try to build this entire thing i'm gonna use"
383920,388640," use this command line right so i'm gonna use this command line and i'm gonna uh run it super quick"
388640,394160," so i don't think it needs to be quiet we do need import dir and let's just try to build it"
394160,397040," let's just try to build it"
397040,405360," all right so as you can see it built successfully right it built absolutely successfully so now uh"
405360,412720," i think it created an executable right so a focus debug right so here is the focus debug and if i try to run this focus debug"
412720,421280," uh it crashes right it says that it crashes with uh signal four right uh and if we google apple there's a signal"
421280,423920," four uh posix signal four"
427440,435600," uh postix signal four and i wonder if that's because of the google get them google uh posix signals"
435600,437360," uh"
437360,442000," hmm some chinese university or something like that that's very interesting"
442000,449200," uh so it's a signal right so it's an illegal instruction and it has something to do with uh calculate"
449200,458320," new hash and new hash if i'm not mistaken is like a custom hash implemented by the one and only the man"
458320,468640," the legend case simulatori right so if we actually go to uh here's simulatori uh so i think yeah it's his"
468640,475680," hash if i'm not mistaken right so so new hash and somebody ported that new hash uh to to jai and a lot of"
475680,481360," people use it i don't really know what's the main purpose of the hash uh i think it's like sort of"
481360,488480," like a general purpose hash you can use it for the uh for the hash tables or you can use it for"
488480,494400," uh you know computing like you know hashes for the files and stuff like that you know uh different stuff"
494400,501280," so i think it is general purpose hash so and it is used in here right it is used in here i'm"
501280,505440," going to copy paste this thing in the chat and for people who's potentially watching uh all of that"
505440,516640," on youtube uh i'm going to put it in here uh mio uh hash by uh casey moratory right"
517920,527040," so it's this one i probably want to put uh back uh back ticks in here yeah hash yes yeah hash so uh"
527040,531440," we've got some subs thank you so much this don't call thank you thank you thank you for twitch"
531440,538480," pumps encryption i really appreciate that uh all righty so and let's try to investigate that like i"
538480,543680," already know uh what kind of the problem i don't really know still don't know what's the problem but i"
543680,551520," know how to fix that so as you can see it tries to load and merge uh config right so let's actually go"
551520,558800," there and try to see the context in which this uh calculate mio hash is used uh right so i'm gonna"
558800,566400," literally just grab for this specific function and just like find where is it is it used uh rather where"
566400,573440," it is defined so here it is here it's where it's defined and we can do calculate mio hash right"
573920,580880," so it is used to calculate whether i suppose a configuration file has changed or not"
580880,587200," right so i suppose i don't really know how exactly this text editor works uh but from what i could"
587200,595040," understand um right uh it just like reloads the uh the config file and it can detect whether the config"
595040,599840," file was changed or not and maybe it can do something on that right maybe there's some sort of expensive"
599840,605600," operation of parsing the configuration file so it doesn't want to do that if the file didn't change"
605600,610480," probably i don't really know i didn't really look deep into that but that would make sense that would"
610480,618240," make sense to you uh so and essentially we can look into this function right so uh let me also grab it"
618240,626720," and let me also find it uh grab rn um so we need to find the definition of this function right so here"
626720,635680," it is and we already have an assembly in line things right so instantly so in a place where things uh"
635680,642240," actually fail with sig ill illegal instruction obviously we have some hard-coded assembly stuff"
643120,649680," well who would have thought that something like that will happen uh so it also calls to things like mu hash"
649680,655600," and some other stuff we can we may look into these kind of things it's actually a very interesting"
655600,669120," syntax right so hash colon vec so and vec is not really used anywhere but hash is kind of used somewhere so"
669120,676080," this thing i suppose defines a variable i'm not really familiar with how exactly gi works"
676080,685600," but i suppose it's a way to define a variable but what kind of variable so if it's a vect maybe it's a vec"
685600,695120," register you define a variable that it basically refers to the vector register but then we never really"
695120,703200," specify which vector register we're referring to does that mean that the built-in like inline assembly of"
703200,710560," jai is so powerful that we can make abstract statements like pick whatever uh vector register is free right"
710560,721040," now and use that is that how powerful jai is really i can say basically any sort of vector register just give"
721040,727360," me whatever vector register you have free as of right now because maybe uh of because of the different"
727360,733040," optimization some of the vector register could be taken uh or something like that just like and use your"
733040,738800," register allocator and allocate me one of the register like i don't really know how j works it's just like"
738800,746800," this is the implications that i see just by looking at this syntax and then i'm already blown away if that's"
746800,754880," actually true this is fucking insane holy right i don't really know it's just like this code kind of"
754880,763920," implies that you can do this and holy that is awesome right because i've never seen any language doing this"
763920,781760," it doesn't work on your pc though yeah it's too good to be true so yeah it is too good to be true uh thank"
781760,790880," you so much uh yoink a 2000 for um twitch prime subscription that is insane mine of fronde mine"
790880,798560," libe fronde that is absolutely insane uh all right so uh let's take a look at this kind of thing um right"
798560,808240," so uh let me let me see so um where am i going so i think i'm actually lost a little bit so let's"
808240,818000," actually find this thing uh okay so i suppose this thing is defined in uh the modules right so"
818000,823520," in the main modules of giant so let's actually find this thing in here hopefully hopefully we'll find it"
823520,831440," and if we take a look even more into that uh it's even more assembly right oh my god so it's pretty"
831440,841200," much implemented in assembly um right and it fails somewhere here with sigil uh right so a proper"
841200,849120," solution would be probably like figure out uh what kind of instruction my cpu doesn't support"
849120,856640," and maybe make some sort of like if dev somewhere here or maybe in the main application so i went with a"
856640,863680," slash hammer solution right so essentially what we need we need to calculate the hash so there is"
863680,873200," already uh a hash module in a standard gi library right so let's just use that instead uh it's probably"
873200,880400," worse right it's probably worse uh than mu hash because mu hash is like very carefully decided by the"
880400,886800," case you moratorium himself right he tested out very carefully and made sure that it's uh suitable for"
886800,892640," these specific cases and stuff like that he spent a lot of time doing all that stuff so and i'm pretty sure"
892640,899120," that his hash is better than whatever we have in here but our goal is to stop our application crashing at least"
899760,908480," so using this stock hash is probably gonna be worse but it's gonna make our application at least run at"
908480,914320," least right so we don't want like to have like a super performance or anything like that like we want at"
914320,922160," least see something on the screen because right now we can't even see in this mode uh right so uh let me"
922160,928960," let me see what we can do in here so if i go to new hash so essentially what we can do uh we can just go"
928960,937680," ahead and like literally return uh return the bytes i think it's going to work and i'm going to just"
937680,942240," like command this entire thing out right so whatever you put in any of these things is going to use the"
942240,946640," uh the thing from the hash right so and let's actually try to do the the build"
946640,953440," and uh it doesn't have a get hash so you're supposed to import it but as far as you can tell"
954480,960640," there is no includes or imports in the new hash j so that means it's probably literally included"
960640,969120," into uh into some something else right so let's actually try to find where it is included we can"
969120,978960," try to find uh new hash j so it is included in main.j right so this is basically the section where all"
978960,984240," of these things are included literally just inserted i think load just literally inserts everything"
984240,989760," um right and we should have something like imports uh yeah there we go so here's the imports of the"
989760,996080," standard libraries and this is where we can uh i don't know just put a hash in here right so i don't"
996080,1001040," know how you're supposed to put i think you're supposed to sort them no they're not sorted by the alphabet"
1001040,1006960," i don't think so anyway so let's try to compile this entire thing and see if it's going to at least work"
1006960,1016880," so i can hear some some weird people outside should probably close the"
1022960,1028240," anyway so it's a kgb agents outside they're trying to to find me"
1028240,1036240," all right so it it seems to be working right so it seems to compile at least right it seems to compile"
1036240,1043920," at least now if we do uh focus debug it works so if you guys ever needed like a workaround for this"
1043920,1050880," situation here it is so you can do it like that it's i don't know what kind of problems this can"
1050880,1057520," introduce but at least it makes it work and there you go here is the focus text editor the the one"
1057520,1063280," and only the famous the legendary text uh text editor that you probably heard of probably not i don't know"
1063280,1069440," but here it is so what kind of shit can you do with this text editor so this is actually rather interesting"
1069440,1077120," so there's some uh you know shortcuts and everything it reacts to control scroll wheel right it reacts to"
1077120,1082400," that uh so we can do uh alt x that shows all the commands okay that's actually pretty cool"
1082400,1087440," uh so not that many commands right so we can create a new file"
1087440,1096560," uh so yeah i can probably edit something right so it also i don't know what that is right so i suppose"
1096560,1103120," it's a first line uh right can we write something like this right can we write hello world and we don't"
1103120,1109920," really have any syntax highlighting but i know for a fact that it does support syntax highlighting right"
1109920,1120160," so because if i try to main.c it can't open a thing that doesn't exist yet it can't really open a thing"
1120160,1126560," that doesn't exist yet so this is not something that you can do uh right but this is because it's unfinished"
1126560,1137200," right so this is because it's unfinished uh so um yeah can i can i open that's uh something that"
1137200,1144160," already exists so for instance i can probably open the buffer.j there we go so it does have highlighting for"
1144160,1150960," uh for gi right it does have highlighting for gi but i'm not sure does it have highlighting for c files"
1150960,1157760," right because i mean uh okay let me create a c file in here right so and then i'm gonna go uh and just"
1157760,1166880," try to find main.c and then so it detects uh the highlighting by an extension and as far as i know"
1166880,1174240," you can put commands in here and there's no way to put a syntax like how do i enforce a syntax on something"
1174880,1182800," um right so i think there is no way to do that at least i couldn't find a way to do that right at"
1182800,1188640," least i couldn't find a way to do that so i suppose it's purely based on uh on an extension and it's"
1188640,1193680," probably going to be fixed uh at some point that's for sure because i personally uh what i like to do"
1193680,1201280," is i like to open a text editor uh open a new file that i never saved anywhere and set a specific syntax"
1201280,1206640," like work on that thing for a while and then save it right this this is how i work and this is why"
1206640,1211520," this is this was the first thing i tried to do i tried to open a new file that i never saved"
1211520,1217040," and it was trying to find where do i set the syntax right so they couldn't find it then yeah but it does"
1217040,1222240," support like uh this kind of thing so i wonder how many syntaxes it supports we can probably try to find"
1222240,1229040," that we can try to do grab and just like literally trying where it looks for a string literal that"
1229040,1235200," looks like this i'm pretty sure this is how it checks for that maybe not uh no this is not"
1235200,1242320," how it does that that's for sure so it's probably something about extension extension oh that's that's"
1242320,1251680," a lot um but maybe there is a specifically like um string literal with just yeah there we go"
1252240,1259360," there we go get it easy peasy lemon squeezy the years of experience like i know nothing about this"
1259360,1267120," code base by the way i purely guessed like how it was implemented right so if it's based on extensions"
1267120,1273120," that means somewhere in the code base there is literally a string literal that contains an extension"
1273120,1279520," and it's a very unique combination of characters uh that you can literally grab and instantify that place"
1279520,1285840," right so i have zero knowledge about the code base but just like by knowing how the code bases usually"
1285840,1292160," behave uh i can just compose a grab and find a place and this is how it's done so this is uh how many"
1292160,1299200," different things it supports right so this is how many of them it supports so cheers by the way"
1303120,1308080," okay okay the javascript people probably uh won't ever use this editor anyway"
1308080,1322960," this is a freaking gold holy i love it uh if they do we'll stop making fun of g"
1322960,1332160," this is so good i like that so it's we're already uh off to a great start right so people who develop this"
1332160,1336320," thing they have a great sense of humor like that um all right"
1336320,1345840," uh so uh okay go um so and the main problem if i understand correctly ah what the is going on"
1345840,1355760," like dudes all right so i should probably switch to to focus um you can create a new file right so you"
1355760,1361280," created a new file and you can't save it like i press ctrl s"
1361280,1366160," nothing happens"
1366160,1376400," nothing happens so the only thing it does it brings this name new file right so it only prints that"
1377440,1379360," but nothing nothing happens i can show you"
1379360,1393360," because it is not implemented uh so and uh let me let me see so i want you to look at some"
1393360,1400560," uh issues right so this is the main issues unable to save the file and it's a known issue because it's"
1400560,1404560," literally not implemented so the function that is responsible for this kind of thing is called"
1404560,1410480," platform get save file name uh we can try to find this function right so is it where is it defined"
1410480,1418000," uh so yeah there we go so this is actually a quite common thing right so we have a platform folder"
1418000,1422880," and for each platform we have a separate file linux windows and mac os and they probably have the"
1422880,1429280," same set of like functions right the same interface so to speak and depending on the platform like a"
1429280,1435040," different file is going to be included we can even try to confirm that by literally searching for"
1435040,1443280," mentioning of linux.j right and obviously it is loaded uh in here right and as you can see depending on"
1443280,1449920," the current os or current platform a different platform file is going to be included and uh different"
1449920,1456000," implementation of these interfaces are going to be used right so and uh let me actually go to the linux"
1456000,1462160," file and the function that we care about right the function that we care about is platform save file"
1462160,1470000," name and it's literally not implemented it it literally does nothing it literally does nothing"
1470000,1476880," so and here is an interesting thing if we take a look at the same function in the windows file"
1477600,1486880," uh we'll see something right so in the windows file uh we are preparing the usual crazy win win api"
1486880,1492880," structure or something like that and then we do get open file name and from what i could understand in"
1492880,1501680," this specific um comment uh get open file name is actually blocking it is actually blocking so at this"
1501680,1508240," point the execution of the main program is going to stop right and then get open file name will create"
1508240,1514960," its own event loop that is going to handle the user input and then the user will navigate and select the"
1514960,1520560," file and stuff like that and then it will close it and only then the control will resume in here and"
1520560,1528480," continue execution so and kind of like this entire uh function sort of assumes that it's going to be blocking"
1529280,1536560," uh but the problem is that the whole sort of native ui of the editor right and by native ui of the editor"
1536560,1542640," i mean the you know the ui system that the focus editor uses right it's very much asynchronous"
1542640,1548640," it's actually immediate ui right the things that like this uh sort of like a search stuff or"
1548640,1557440," um you know this dialogue they're not blocking they're integrated into the main loop of the text editor itself"
1557440,1564800," and that's why it is so kind of difficult to implement this problem right so because"
1564800,1573360," on windows the api is blocking but on linux we have to have a version of api that is not blocking"
1573360,1581840," and it's like how do you do that and this is probably why elionte tried to debate me into into solving this"
1581840,1589280," problem but i'm a senior software developer like i briefly it took me like 10 minutes to just briefly"
1589280,1594480," look into the into the code base and realize what kind of stuff you're trying to rope me in it's not"
1594480,1601440," gonna work i know what you're trying to do i i know it really didn't took me like a long to figure out all"
1601440,1612240," of that like no no no no no i'm not gonna do that like i'm not some junior uh some enthusiastic junior"
1612240,1618560," who will work on this project and jump into it and try to uh to prove something to somebody no no no it"
1618560,1623520," took me just like a couple of grabs and i already see what you're trying to do i already see that"
1624560,1634080," uh but we can try to do something anyway uh why not right so it's a very big another very big but"
1634080,1641920," it's rather complex issue and it couldn't be really solved in one go uh right especially while you're"
1641920,1649520," trying to solve a long issue some things in the code base uh probably will change but we can try to"
1650560,1662720," we can try to add like um save dialogue in a style of ctrl o right in a style of ctrl o uh or at least"
1662720,1671280," something like a new kind uh of this thing right so if we take a look at the at the widgets right uh so"
1671280,1680240," we need to have we need to find what happens when you press ctrl o right so when you press ctrl s"
1680800,1686800," what's supposed to happen is uh the opening of that blocking window but when you press ctrl o"
1686800,1694320," something different happens right something different happens and uh maybe we can try to"
1694320,1699120," sort of copy and replicate that code right copy and replicate that code"
1703840,1707760," imagine trying a new editor just to get debated into implementing features for them"
1707760,1716880," yep it do be like that this is how open source works by the way so uh if you think that open source is"
1716880,1723360," is free i have bad news for you this is how you pay for open source right you you fix the bug and you are"
1723360,1727360," allowed to uh to use the open source project that's actually kind of interesting"
1728960,1732160," what if like we can imagine an open source project"
1732160,1741920," that basically annoys you annoys you in a style of sublime until you fix one bug in that project"
1741920,1750720," so yeah sublime actually annoys you to get the money but open source project annoys you to actually fix one of their bugs"
1752320,1760160," or maybe they can even uh this is such a funny idea basically instead of fixing bugs"
1760160,1769440," the um the developers can put a stub into the code that detects when a certain bug happens"
1769440,1777440," and when that certain bugs happen it shows pop-up hey so you encounter a bug you can actually fix that bug"
1777440,1785200," and there right there's something i think i think something like that rust compiler already does"
1785200,1793200," at least when something like well-known problem occurs they may print occasionally a link to uh like"
1793200,1802880," an issue to get more information on that so yeah so i think something like that already kind of exists"
1803440,1807920," all right but not in the form of ui application right"
1807920,1818640," just right in ii to has hallucinate a bug fix isn't that called like a codex or copilot or something like"
1818640,1825840," that i don't know so we need to find a place where we open a file so maybe we can find that place by"
1825840,1833920," literally searching for open file by name right because where we encounter this particular string"
1833920,1842880," literal probably nearby we have a function that opens up this sort of like a dialogue somewhere nearby"
1842880,1848640," let's try to literally literally search for that combination of characters and this is by the way the"
1848640,1855440," trick that i keep repeating for um you know for new people on the streams over and over again you are"
1855440,1861200," exploring a new application right for example this is your first day at job at your new job"
1861200,1868240," and you need to fix uh a certain button right you need to fix a certain button but you don't know where"
1868240,1873840," to search for that button in the source code take the label of the button if it's sufficiently unique"
1873840,1879280," right if the label of the button is sufficiently unique just take that label and literally grab it"
1879280,1884880," in the entire code base you will find where that button is located and those you will find the place"
1884880,1890400," where the action is triggered or probably some clue where if the action is triggered and then you can start"
1890400,1898720," from there so ui labels and ui text is actually very uh like useful uh clues that you can use to find"
1898720,1905520," places in the code base use that seriously with this kind of trick on one of my jobs i actually"
1905520,1911920," significantly impressed my peers like they were impressed how could i find relevant place and the"
1911920,1918000," first day at job they couldn't believe that it's possible like they didn't know that trick like i"
1918000,1922480," so there was some sort of a problem with some with some button they suggested just investigate that"
1922480,1927360," and i like just found the problem like within like 10 minutes and it's just how did you do that you've"
1927360,1932240," see that code base for the first time i just grabbed the labels and i found it so yeah"
1932240,1940480," this is actually super useful so use that use that that's the real software development advice"
1940480,1944240," for free i'm giving you like a useful information for free can you imagine that"
1948960,1954240," so anyway let's try to find that uh and it will be funny if i actually won't be able to find this place"
1954240,1973680," uh okay so um open file there we go uh so there you go so obviously so there's two two places where we do"
1973680,1979360," all of that uh so i suppose okay so this is commands and this is some sort of like a global"
1979360,1983520," uh global thing uh and this is a draw"
1983520,1990400," and this is shortcuts to display i suppose this is sort of like a splash"
1990400,1997520," right this is some sort of a splash and this is like all of the main actions that you can have in here okay"
1998160,2003680," so that's cool uh open uh file by name show open file dialog in search"
2003680,2006800," and"
2006800,2015760," that's very interesting so let's try to search for this thing so if i remember correctly this particular"
2015760,2024000," syntax means that it's an enumeration uh we can try to find the definition of commands let's try to find"
2024000,2027760," the definition of commands uh right so this is going to be like this"
2027760,2036000," and in here uh we have actions action uh action editors and i wonder if it's defined somewhere here"
2036000,2042320," it's not really defined anywhere in here so let's find action editors and for the action editors we have"
2042320,2044400," uh right so"
2045200,2051200," show open file dialog in search uh right so it is in fact um"
2051200,2052720," an action"
2052720,2058480," so since an action is enumeration there should be some sort of like a huge switch case"
2058480,2063520," um that handles each individual enumeration or maybe some sort of a hash table or whatever"
2063520,2071440," right and if we can find that hub that switch case uh we can find what is exactly called"
2072480,2076640," when this kind of action is interpreted so to speak you know what i'm talking about right"
2076640,2082640," so let's go ahead and just like literally search for all of the instances of this specific thing"
2082640,2089280," uh and i already see that like i instantly see that so here's the main thing and here is sort of"
2089280,2095360," like a uh chunk of that huge switch case there you go here is the switch case that i was talking about"
2095360,2100640," right so what it does it calls to a function show open file dialog"
2101280,2105360," and here's an interesting thing depending on like where it needs to be shown you can kind of pass"
2105360,2111200," an additional information to there so but the the function we're interested in is show open file"
2111200,2117600," dialog uh right so we can search for that specific function where it is defined uh what is it doing and"
2117600,2126320," maybe we can extend uh this entire stuff okay so it is located within widgets okay this is already"
2126320,2131520," interesting so there's a folder with different widgets uh so let's actually go there uh and"
2131520,2142560," all right delete file dialog open file dialog and in okay an open file dialog we already see the place"
2142560,2150640," where we can start expanding things right so essentially it didn't didn't take uh take us too long to figure out"
2150640,2157200," like this is the point of extension right so we have open file dialog we have delete file dialog we probably"
2157200,2162800," need to add another one which is a save file dialog and what we're going to implement there probably"
2162800,2167440," something similar that we have in open file dialog uh right so"
2170160,2177120," is this is the power of senior developer uh asks droco i guess it's a power of grab um so yeah"
2177120,2185440," what's funny is that like i'm not even using any uh ide or any sophisticated system or anything like"
2185440,2193440," that it's just literally literally grab and find and logic right you just like uh the thing is that"
2193440,2198880," um you look at the application and you try to predict how it would implement"
2198880,2206880," roughly and you use that prediction to sort of like target grab and find to specific places"
2206880,2215120," right and it works in the majority of the situations if the code base is sane right so there are some code"
2215120,2219840," bases where it doesn't really work because they're so insane but this is the same code base i really"
2219840,2234720," freaking like it uh it's a very good code base so i can very quickly navigate and stuff like that"
2234720,2244880," all right so uh show open file dialog so what this function does all right so what this function does"
2244880,2254320," does from root uh so i don't really know what this parameter means derive the oh from root probably"
2254320,2261200," uh from root of the file path right or file system okay so that makes sense i get active editor and buffer"
2261200,2269040," so this one is interesting uh if active global widget is editors uh buffer has file not particularly"
2269040,2274640," interesting oh this one is the other one is the one is the one is the one is the one is the one is the one"
2274640,2284880," and then open file dialog mode mode so the mode is actually the parameter in here and then we refresh entries"
2284880,2293920," this is interesting this one is interesting it is probably some sort of a global variable that communicates to the main loop"
2294000,2302240," what is current what is current what is the current widget right because you can have several widgets opened up"
2302240,2310000," uh somewhere here right so this is the focus debug so you can have the commands right so something like the commands in here"
2310000,2318240," here or the open file stuff and i suppose this is this is just my hypothesis i don't know for sure"
2318240,2323440," this is some sort of a global variable that tells the main event loop what is currently open is that the"
2323440,2330560," open file dialog or is that a command thing or something like that so that means somewhere in the main loop there is a switch"
2330560,2335600," case that switch case that switch cases upon active global widgets probably i don't freaking know that"
2335600,2341920," but if i were implementing this thing i would implement it like that and it's also within the spirit of immediate ui"
2341920,2349280," right because it feels like the whole ui in focus is immediate ui so i would presume that this is how it roughly works"
2349280,2355120," uh so let's actually go ahead and just like grab for uh active global widget right so"
2356480,2365920," okay so uh so here's the editors and as you can see we are assigning global widgets to different things"
2365920,2370960," so i suppose we're sort of switching the global widget to some different places and somewhere here"
2370960,2377760," we're comparing it right so is there something like case uh there's not uh that oh okay so here is the if"
2378880,2385520," i suppose the most interesting stuff is within the main file right it's within the main file and i"
2385520,2392080," already see one switch case in here so this is definitely a switch case when you see if with equals"
2392080,2398880," equals but without the right hand side this is a switch case and this is probably uh what we have in"
2398880,2405840," here right so handled maybe handle a common action that applied to all widgets so it's some sort of a flag"
2405840,2414960," that checks whether something was handled already ah i see i know what it is i freaking know what it is"
2414960,2421200," this is a common problem with like that i encountered with the immediate uis is that when uh essentially"
2421200,2429680," there is an event and you draw several widgets and one widget handled the event and you don't want to"
2429680,2435760," propagate that it went to the rest of the immediate widgets so you have to somehow stop that so yeah you"
2435760,2441120," can introduce some sort of like a variable that sort of like tells do not propagate this event further"
2441120,2446160," right do not call the rest of the things all right i see what it is i think i think that's what it is"
2446160,2453920," um right so pass events to active widgets right so and we have active global widgets if it's editors"
2453920,2461840," we do that and if it's open file dialogue we call to uh opal for open file dialogue handle event"
2464240,2471760," that is very interesting that is very interesting so let's try to find this kind of thing so uh where is"
2471760,2479760," it defined uh so this is where we're handling this entire stuff and i suppose we went back to widgets"
2479760,2492240," open file right okay and then there are different events and depending on different events uh it does different"
2492240,2499840," things and i suppose it can also switch the active uh global widget right does it switch the active global"
2499840,2506240," widget probably not uh but maybe it deactivates one of the global widgets okay so that's kind of interesting"
2506240,2514960," so the main sort of communication point about what is the currently working widget is active global"
2514960,2521360," widget global variable active global widgets and different widgets uh basically work on that variable"
2521360,2528240," switching it to something checking it from time to time and the main loop switch cases on that global"
2528240,2534240," active widget and call to corresponding widgets okay so that makes a lot of sense um that makes a lot of"
2534240,2544400," sense maybe we can even draw that i wonder if i can do that uh active i'm gonna call it active global"
2544400,2552080," widget right so this is an active global widget and essentially there is a main loop right there is a main loop"
2552080,2562480," that uh checks this active global widget periodically and then you have different widgets like widget one uh that essentially"
2562480,2571200," um can set uh can set uh this entire thing there's another widget too uh that can set this entire thing and then main"
2571200,2579760," based actually maybe it has to be like in a different direction based on active global widget can then sort of like"
2579760,2590880," go and pick into uh different widgets in here and they sort of like the active global widget becomes some some sort of like a state machine"
2590880,2597680," right right it's a state machine and depending on what's the current the active we call to different uh"
2597680,2602480," you know widgets that can also change the active global widgets and stuff like that or something like"
2602480,2606000," that this is how i see that but i'm not 100 i'm sure um"
2609600,2617520," so uh"
2617520,2626720," so uh i suppose one of the things we can try to do we can try to understand what are sort of like the main"
2626720,2633840," um the main methods of a single widgets right so because we have a lot of different widgets in here and"
2633840,2641360," probably one of the things we're going to do uh we're going to create save file dialogue dot j right so"
2641360,2645360," we're going to create this kind of thing but what we're supposed to put in there right we can even"
2645360,2650160," include it somewhere so let's actually find all the places like where this kind of stuff is included"
2650160,2658240," uh right so this is where it is included and there we go we just introduced a save file dialogue"
2659440,2667600," we already made one step further towards implementing that feature right so we already created a file"
2667600,2673200," that will probably hold the the logic of that save file dialogue somehow we don't really know how exactly"
2673200,2678320," but uh we're already there uh so it's kind of funny like i don't know what i'm doing but"
2678320,2682400," we're already getting closer to implemented feature probably uh maybe not"
2685280,2693760," god damn neighbors are smoking freaking okay i should have not opened the window but if i didn't open the"
2693760,2701920," window i would freaking fry life because it's so hard in here it's insanely hard all right it seems to"
2701920,2710720," be working right so we managed to uh to essentially include the syntax okay so let me see what kind of"
2710720,2715680," methods we even have in here how many methods we have so we have in it open file dialogue this one is"
2715680,2723360," interesting so there used to be more stuff in here okay and there is some sort of like a global open file"
2723360,2731520," dialogue uh is it defined anywhere i don't think i think it's okay so there is this okay so here is the"
2731520,2739120," open file dialogue uh right and uh so it is a structure that store okay this one is rather"
2739120,2748080," interesting so there is a lot of interesting stuff in here so maybe we need to introduce like a similar"
2748080,2755520," thing right so a scope file i remember that it basically makes everything in here sort of like a private"
2755520,2762480," but i don't remember don't know what is a scope expert uh right i don't know if it's a scope expert"
2762480,2769600," so here we want to have save file dialogue uh struct and what we want to have in here we probably want"
2769600,2775920," to have something like a needed or maybe something it's something else but even there you need open file"
2775920,2781920," dialogue uh it doesn't even have anything in here so what is the refresh entries this one is a very"
2781920,2794080," interesting function so what it does um oh so the open file dialogue right the open file dialogue if we"
2794080,2801360," do focus the uh this kind of thing um right it contains several entries in here and i suppose refreshing"
2801360,2806240," interest is just refreshing these things right maybe um you know reading them again"
2811920,2817760," um scope export is the default state it's there just to switch back to from scope file scope module"
2817760,2827840," okay um um scope file scope module and yeah okay i suppose i'm gonna be just copying this entire thing"
2827840,2835680," right so i'm gonna be just copying uh all right so open file and so here is the entry right so we can have"
2835680,2844880," different entries in here uh so there's also text input and i suppose text input is one of the widgets"
2844880,2849200," all right so this one is actually rather useful so maybe we we are going to have a text input"
2849200,2857760," uh so we have some sort of entries let's just have a text input just a text input and nothing else"
2857760,2864160," uh right so this one is going to be a scope file uh right so it's going to be hidden from the rest of the"
2864160,2870560," things so scope file it's basically um everything below here is private and it's not going to be"
2870560,2877680," visible outside of that module um if i understand correctly and scope export is sort of like a public"
2877680,2886000," right so it's publicly available uh and because it's the default thing uh save file dialogue save file"
2886000,2892640," so by the way i like i act like i'm implementing this feature like i don't know if i will be able if i"
2892640,2898800," manage to implement a little bit i'm just like trying to like explore and see like what is"
2898800,2903440," possible to do in here and how this entire thing works like i don't know probably i probably won't"
2903440,2908080," be able to implement something usable but i think i feel like we're moving in the right direction that's"
2908080,2915520," roughly where you want to go maybe i don't know just like just exploring just exploring um and here's"
2915520,2921680," an interesting thing so in it open file dialogue where do we call that thing excuse me so where do"
2921680,2930240," we call that uh so let me just i'm pretty sure it's called one time uh yeah i was right it's it's called"
2930240,2940480," one time in a workspace right uh we're initializing a lot of things in this huge s function uh and what is that"
2940480,2945280," huge s function what is this maybe update workspace buffers"
2945280,2955200," so there's a notion of workspace and there's a notion of buffers uh right so there's some sort of a scan"
2955200,2964080," complete so process changed so there's some file watchers and stuff like that and somewhere within this"
2964080,2974880," center i think we need to open file uh dialogue right so workspace space complete shut down scanners"
2974880,2982720," reset so this is a very sophisticated multi-threaded system in here that scans and just collects things"
2982720,2993120," and holy fucking shit oh my god uh and if everything was scanned correctly apparently we initialize open file"
2993120,3000880," that i have no idea what the fuck is going on it looks crazy uh but i i'm gonna just assume that"
3000880,3010000," maybe this is where we want to call in it uh save file dialogue probably maybe maybe that's what we"
3010000,3014800," want to do maybe it's completely redundant because like even you need open file dialogue doesn't really"
3014800,3023760," do anything so maybe we shouldn't do that but i mean i'm really scared of this code so this workspace thing is"
3023760,3029200," intimidating this is how i would uh phrase it"
3029200,3038400," it is a little bit intimidating um so there is is there something like threats in here yeah there's thread"
3038400,3042480," groups holy group's holy fucking shit it's multi-threaded application holy fuck"
3042480,3049280," oh i'm really scared of this part of code so i'm gonna actually focus on set file dialogue okay"
3049280,3059840," so uh let's continue right so i'm gonna be just just slowly copying this entire stuff in here so"
3060640,3070640," if we call to scope um export so that means there's something uh like this in here so scope file"
3072640,3081680," uh so it's it's private again all right and then another scope okay so i see now why it is like"
3081680,3086160," that it's kind of weird but uh all right and open file that look"
3088800,3098080," so now i'm gonna just do it like this actually right you need uh save file dialogue right so we need"
3098080,3105440," save file dialogue uh and here we're gonna do save file dialogue you need it true we don't really have"
3105440,3112320," any uh you know entries in here so we can't really refresh anything uh right in here we say there used to"
3112320,3125360," be more stuff in here uh there there never was uh any stuff here because yeah so it's just like this"
3125360,3131520," is what we started with there there never was any stuff in here uh right which is technically true"
3131520,3138640," so do we want to de-initialize some stuff we don't really uh allocate anything right so"
3139920,3148560," so what else do we have in here so we probably need to do handle events do we also draw this thing"
3148560,3152080," how do we render this entire stuff"
3152080,3165840," so these are different actions these are different actions uh i just oh maybe handle event is actually the"
3165840,3176400," thing that draws this entire stuff uh right maybe handle text input event uh all right and so this is"
3176400,3182720," entire thing and then we do text input handle event and it's probably inside of the text input and then"
3182720,3189040," inside of text input event uh we do some stuff map event"
3193040,3197040," i just realized that i don't know where all of that is rendered"
3197040,3208080," i just don't know where all of that is rendered but maybe this is because i'm a little bit tired"
3208080,3216640," i'm a little bit tired so uh we need to make a small break let's make a small break i'm gonna refill my"
3216640,3222480," water and i'm not gonna drink tea because it's too hard right now and after that we're gonna try to figure out"
3222480,3229280," so i what i want to figure out is just to see like how all of that is rendered right so okay let's make"
3229280,3236960," some break um all right so people have told me uh right so that there is a module called draw.gyi"
3236960,3244560," right uh and in here we have a thing that draws a single frame right and within the single frame"
3244560,3250240," we'll probably uh just look into active global widget and depending on active global widget we can"
3250240,3258160," do draw open file dialogue right we can draw open file dialogue i'm surprised this thing is not complete"
3258160,3261600," why this thing is not complete"
3265280,3266880," is that because not everything"
3266880,3276160," okay so let me try to do the so for those who doesn't know complete uh means that if there"
3276160,3282880," is any case that is not handled in here it won't compile it sort of forces you to handle each individual"
3282880,3289600," case in a switch case and this is a switch case by the way uh right so it's in jai it starts with if"
3290480,3297680," enjoy it starts with you you may say that it's it's kind of a weird switch case it is kind of weird"
3297680,3304320," switch case but in my opinion it actually works out really well uh it actually works out really well i can"
3304320,3312000," show you so it kind of solves one of the problems that i had with any other language out there so essentially"
3312000,3320160," quite often you write an if condition like uh you know x equal 10 right and you have some sort of"
3320160,3330080," like a process x and at some point you decide okay so x can also be equal to 20. so now i need to turn"
3330080,3337520," this into a switch case to turn it into a switch case like what do i have to do i have to change this uh"
3337520,3346000," key uh keyword uh right then i have to remove this entire stuff then make a case in here 10 right and"
3346000,3352240," then i have to put the break in here and like i have to rework the entire sort of construction i have to"
3352240,3360560," rework this entire construction in giant what i have to do i have to just take this right side copy paste it"
3360560,3369920," case boom it's already switch case what the fuck so yeah because it's it's actually a very common"
3369920,3375600," mutation of the code when you just have a if condition that you want to then turn into switch case so you"
3375600,3382960," can then add more cases in here it is actually very ergonomic surprisingly it looks weird at first but when"
3382960,3391520," you think about it it actually makes sense uh right so it allows you to quickly turn if into switch case"
3391520,3401520," um so this is kind of cool i think so it's just like you move that value and there we go you have a case"
3401520,3409920," branch in there so i don't know maybe this is not how the logic went and maybe uh john is going to change"
3409920,3415200," that in the future but this is how i interpreted the the reasoning behind this kind of weird construction"
3415200,3417840," and it kind of makes sense to me um"
3417840,3428320," that's actually a very good point and we have switch as a variable name free yeah"
3428320,3430400," exactly so it's actually a very useful variable name"
3430400,3439520," um so let me try to do the following thing i'm going to um wait a second maybe not because"
3439520,3445760," i never actually added a new sort of case in here so let me try to first build"
3445760,3450400," uh this entire thing and let me try to build this entire thing"
3450400,3458160," and see if it is building so it is complaining uh because i forgot a semicolon in here"
3458160,3469120," okay so i think it's building it's taking some time uh but it is building because i'm on my machine on my"
3469120,3476400," old machine so if i put complete in here okay so there's something that is not handled in here and"
3476400,3481360," the question is what is not handled in here and the thing that is not handled in here is editors"
3481360,3483600," uh and i wonder why"
3483600,3494800," why editors is not handled okay so it's basically skipped i suppose yeah so essentially if i understand correctly"
3494800,3502160," the editors case is when there is no active widget like the editor itself the main window is active"
3502160,3508400," so that's why it is not complete right because in that case you just want to ignore drawing any of these"
3508400,3516160," widgets in here i guess that makes sense right i guess that makes sense uh anyway uh and i suppose one"
3516160,3521840," one of the things we want to add in here is just like uh save file dialogue and we want to be able to draw"
3521840,3529760," save file dialogue right so uh draw file uh open file dialogue what do we do in here"
3529760,3541600," uh oh so it has a special id so we need to allocate a special id for this entire thing okay draw save uh file"
3541600,3549280," uh open file dialogue and we do yes so we're including open file dialogue i'm not really sure if i"
3549280,3557360," want to do that in here so what is ui id this one is rather interesting so is it defined anywhere in"
3557360,3565280," here uh so let's go ahead and search for this magical magical object i'm pretty sure it has the definition"
3565280,3571760," that looks like that there you go it is enumeration and essentially um"
3571760,3579760," open file dialogue the rest will be derived from lock"
3579760,3586240," do we have to add a new thing in here"
3586240,3593520," i'm gonna add a new thing in here i have no idea why it is like that but i'm gonna add a new thing in here"
3594320,3600880," right so uh okay i'm just copying i'm just replicating whatever i have in here"
3600880,3605680," so this is a save uh draw save file dialogue and this is what i see in here"
3605680,3612800," uh if ui active is not equal to none uh oh yeah i think this is a classical"
3612800,3624240," uh classical immediate ui stuff figure out the uh dialogue books i'm surprised none of that stuff"
3624320,3631600," is abstracted away that is a pretty sophisticated choice i'm not gonna lie"
3631600,3637840," right so it's a draw open file dialogue and it's a very sophisticated choice so look at that"
3637840,3642240," um so yeah"
3646560,3655120," so ui active is basically what is the current active widget if uh something is currently active"
3655120,3660800," and that active thing is not us and that um"
3660800,3663680," and us"
3663680,3666960," is not the child"
3668240,3675360," and we are not child of the active thing we just close this entire stuff"
3675360,3681920," so there's also scroll bar id we probably don't need it right now but maybe we will"
3681920,3688480," so what i'm thinking is that we definitely will need this thing right so we definitely will need this"
3688480,3693840," thing but for the save uh file dialogue so for this who doesn't know what the fuck is all of that right"
3693840,3701200," in immediate ui you track different widgets with them like with unique ids right you track them with"
3701200,3706640," unique ids and that's essentially what we have in here and there's usually global variables like this"
3706640,3714560," like what is the current active that holds the current uh sort of like id right and in here uh if"
3715440,3722000," nothing is active or something is active that is not us and uh we are not a child of something"
3722000,3727040," that is active so there is some sort of like a parent child relationship between widgets in here"
3727040,3733840," i do not fully understand in that case we just hide the open file dialogue which is rather interesting"
3733840,3741920," should we do this kind of stuff um should we do this kind of stuff for the safe uh file dialogue maybe"
3741920,3747840," i don't really know but maybe let's just like you know use that but in that specific case we probably"
3747840,3755920," have to do uh you know save hide safe file dialogue which means that we need to introduce a new thing"
3755920,3762960," that closes the file save file dialogue right so and uh save file dialogue so what do we have we have"
3762960,3769920," initialization and here we have a hide uh save file dialogue and how do we even handle that in open file"
3769920,3778800," dialog so hide open uh file dialogue activate editors and what is activate editors uh that's a very"
3778800,3785200," interesting question maybe we can just call this function uh and that will basically just do the magic trick"
3785200,3795360," activate editors so what is going on where is the definition of this thing uh oh okay so it just sets the"
3795360,3804560," the active global widget to edit us and makes the cursor blinking that's the whole thing uh that's the"
3804560,3814160," whole thing so that's kind of funny all right so that makes sense um all right and let's go to draw"
3815760,3821840," and what else can we do so here we're trying to figure out the dialog box size"
3821840,3827920," uh draw rounded rectangle maybe that's literally what i'm gonna do"
3827920,3836720," so there is a little bit of a math involved into figuring out the box for for the dialogue and let's"
3836720,3842960," just draw that box without any implementation or anything like that let's just draw that box and call"
3842960,3849360," it a day right because our goal is to introduce something meaningful i suppose uh right and that's"
3849360,3853920," what we can try to do so let's try to compile uh everything that we're introducing here because i"
3853920,3860560," haven't compiled for quite some time so maybe it doesn't even work anymore uh okay so this one have to"
3860560,3866880," has to be save uh save file dialogue so let's actually align because everything is here in here"
3866880,3873360," is perfectly aligned let's actually keep it tidy because this is not our code this is not our code"
3873360,3880400," we not do not enforce our rules into somebody's else code we're guests in here when you're being a guest"
3880400,3887920," in someone else project you respect their formatting you respect their rules right so this is very important"
3887920,3894160," this is very important so when you come to somebody's project you do not argue uh what is the best"
3894160,3900000," formatting whether you have to use tabs versus spaces no you look what the project already does"
3900000,3906800," and you shut the up and just use whatever the project does that's how you uh you know respect"
3906800,3913280," somebody's else project right so you just respect the rules of that specific project so so everything"
3913280,3923920," is here is aligned so we're gonna align it as well uh okay so uh what do we have in here a save file"
3923920,3929840," dialogue so what does it say uh is not a member of enumeration okay so we need to actually extend"
3929840,3939440," even more enumerations uh all right so let me see let me take a look at the definition uh so it's probably"
3939440,3945680," defined somewhere here no active global where active global widget where are you"
3945680,3953280," oh okay you guys didn't even define a separate enumeration here i see what you guys did in here"
3953280,3959920," okay okay okay okay so you yeah right so you simultaneously define a variable and enumeration"
3960560,3968080," fair enough fair enough uh so save file dialogue so this is a new kind of a file dialogue"
3968080,3977280," uh let's try to rebuild and what else do we have in here okay and this is why complete is so useful"
3977280,3983760," right so it makes you go through all the places where you have to modify this entire thing okay so active"
3983760,3994000," global widget um handled uh so you have to handle events in here so it's kind of cool that i didn't"
3994000,4002400," really know what kind of methods do i have to put into my save uh file dialogue but through implementing"
4002400,4008000," like everything that is needed the code itself kind of tells me what kind of methods should i have in there"
4008880,4025600," uh so that's kind of cool all right so let's go and just implement this entire thing so i think i'm"
4025600,4034640," going to copy paste um uh open uh file dialogue so this is kind of this is what we want to have in here"
4035680,4043280," uh and it should return i could have actually copy pasted the whole signature in here uh save file"
4043280,4054160," dialogue all right and what do we have in here so we map uh event to action uh and depending on what"
4054160,4062080," kind of thing we have in here it's going to be like different actions and what not uh so you know what i'm"
4062080,4071520," going to do i'm going to actually handle keys so event type key pressed and i want to actually see"
4071520,4079200," what kind of key was pressed right so how do i check like the uh like the keys the specific keys"
4079200,4085040," let me go into the map event to action let's find the definition of this thing because i'm pretty sure"
4085040,4094480," that's where that's where it is all defined all right and where is the specific key uh key code"
4094480,4105520," right so this is the key code uh and in a save file dialogue and uh key code is do we have like escape"
4106720,4113520," something like escape so in the case of escape i just want to hide the save dialogue that's basically"
4113520,4118240," what i want to do uh right and in that case i suppose i want to return true and in here i'm"
4118240,4125360," going to return false right so essentially we want to create like a minimal basic save dialogue"
4125360,4132480," without any function of functionality right so when we try to press ctrl s we want something to appear"
4132480,4139120," like a rectangle and when we press escape we want it to disappear so that's my goal for today at least"
4139120,4144480," right because implementing like a full function in save dialogue is actually a very difficult task"
4144480,4151120," and it's probably over like two hours or anything like that um right so yeah i don't want to do that"
4152000,4159280," uh yeah i know that i can look for for the keys in this module it's just like going there and just"
4159280,4164560," doing ctrl f and stuff like that takes time so i just implemented something and if it's not going to"
4164560,4171360," compile only then i'm going to go there that's how i work right it's kind of weird sometimes but it's just like"
4171360,4176880," sometimes some of these small actions like take too much effort for me so i kind of postpone them"
4176880,4182240," uh until i do the the compilation phase where i just compile and go through the compilation"
4182240,4193840," because i don't want to break my flow uh if that makes any sense um anyway so uh i guess that's"
4193840,4200800," basically it i guess that's basically it so if i try to to try to compile okay so we go to that"
4202320,4211840," okay width percentage so this is something that we don't have uh in here aha this is probably part"
4211840,4219440," of the open file dialogue variable so if i go to open file dialogue uh width percentage uh right so i"
4219440,4229920," think i saw it so this is uh this thing how much of the screen okay so we can literally add that thing to"
4229920,4236880," the save dialogue in here because why not okay so that makes sense uh anything else do you want anything"
4236880,4247840," else okay um yeah so this is because i also need to do using using save file dialogue i have some sort of"
4247840,4254400," other completion surprisingly and declared width normal and in open file dialogue what's width normal is it"
4254400,4260640," defined defined anywhere uh i suppose it is defined okay so we can copy paste it here as well"
4260640,4267120," so it's a constant it's kind of cool that you can have constant in here i wonder can you access"
4267120,4276400," those constants like this you should be able to otherwise there is not that much point in defining them"
4276400,4287840," inside of the structure all right and declared uh width animation this one is weird"
4287840,4294880," so there is some sort of animation stuff"
4294880,4304240," okay so do you have like is there some sort of animation when i like open this entire thing this is"
4304240,4310400," kind of weird like why do you have animation probably i don't see any animations to be fair"
4310400,4322720," but there is some sort of animation so let me let me see let me see so with a new open file dialogue with"
4322720,4330240," a new uh twin animation it's probably does it have some sort of a state"
4332160,4338240," i can just include that i can just include this entire thing and see uh if it's going to compile at"
4338240,4343280," least maybe it's will compile uh if it's some sort of animation it has to be pulled somehow"
4343920,4346960," um so i'm not can 100% sure"
4346960,4359520," all right so input direct height so this is another thing aha and it very much depends on this kind of"
4359520,4371440," thing and font ui line height so maybe we also need to include this kind of thing uh so i didn't fully copy paste"
4371440,4376400," everything apparently which is fine this is why we have compilation phase to actually tell us"
4376400,4383920," and declared thing entries okay so this one is interesting uh so this thing i suppose"
4383920,4392880," also renders the entries so entry height if i have an entry height so it is"
4394400,4403120," uh so what if i say that the amount of entries we're going to have one right so what if i have just one"
4403120,4404080," entry in here"
4404080,4416960," seems to be compound so i suppose this is the thing with the entries but we don't really care about the"
4416960,4424960," entries per se i think we care more about input yeah so maybe we should have not copy pasted this thing"
4424960,4432080," uh right so maybe we should not copy pasted this thing draw the filter input yeah"
4434160,4442640," let's actually try to put this thing in here"
4442640,4456880," i lost the draw input filter so cut top ah whatever let's just keep it as it is so everything seems to be"
4456880,4460160," compiling right everything seems to be compiling"
4460160,4474480," so let's go ahead and try to uh run the focus focus debug so one of the things we have in here"
4476160,4480000," let's go ahead let me show all the commands there should be save"
4480000,4500400," where is save though so if i do new and then i do save okay so there is save all and control plus s"
4502000,4510400," i want to find where do we call the platform thing so if we go back to the platform uh specifically for"
4510400,4517440," linux platform save save save get save file name"
4517440,4522880," let me see where do we call this entire thing"
4522880,4531920," where do we call it okay so we call this in two places in a buffer save buffer"
4531920,4539840," to a new file on disk and save buffer to disk all right so and as you can see this entire thing"
4539840,4546000," is blocking uh this entire thing is blocking uh that means this entire thing also should change"
4546000,4556000," this entire thing also should change uh right so essentially this entire code should go somewhere else"
4556000,4563600," and save file on disk should basically activate the save widget um right or something like that so or"
4563600,4572880," yeah that's that's how it should go so for now what i want to do on linux i want to simply activate"
4572880,4577680," the save um the save um the save widget right save file widget"
4577680,4591840," open didn't i have open file i think i never had it so that means in an open file dialogue"
4593120,4599760," there should be show yeah show open open thingy right so because there's a hide"
4599760,4609120," and we need to to have a show show save file dialogue and in here what we do we we do just"
4609120,4616160," additional thing but the most important thing we're doing here is uh set the active global widget to"
4616160,4622640," save save file dialog right and essentially in the platform"
4622640,4631680," uh where was the i think it's linux yeah it's links uh here what we want to do we want to show"
4631680,4639520," save file dialog right so if we're on linux uh we're just gonna return false that means we couldn't save"
4639520,4645440," anything but we're also going to activate the save uh file dialog just to test if it's going to is if"
4645440,4652240," it's going to show anything at all uh right so and let's go ahead and try to recompile this entire thing"
4652240,4658640," uh i just want to see if it's going to show anything right if it's going to behave the way i expect it to"
4658640,4673840," behave all right so it seems to be compiling and uh let me see so um i have this stuff right i'm going"
4673840,4685040," to put some things in here right so let's write hello world okay one two three four and if i try to press ctrl s"
4687840,4697760," do you see this scheisse and according to the logic that we uh coded if i press escape it should disappear"
4697760,4703920," how about first try"
4703920,4712880," like i see this code base for the first time in my entire life uh you could say that this is because"
4712880,4717040," your experience software developer but that also means that the code base is"
4717040,4724720," reasonable it is not convoluted so yeah it's more props to code base rather than me right i'm just a"
4724720,4732240," grapper i'm just a stupid grapper i look at the the code i see that it uses some functions i just grab"
4732240,4738000," those functions and that's it and if the code is good enough you will find you will basically follow"
4738000,4746560," these breadcrumbs and find the relevant places so yeah props to developers of focus this is a goddamn good"
4746560,4756320," code so compliments from zozin i do approve of that so um yeah and essentially the the only thing that is"
4756320,4763120," left to implement right is basically the functionality of the of the save dialogue right so i suppose you"
4763120,4769840," can just copy paste the chunks of open file dialogue in here for uh navigating files and for filtering and"
4769840,4774800," stuff like that right and stuff like that right but also there is a little bit of a difficulty with this"
4774800,4783440," part right because this specific call is expected to be asynchronous right it is expected to be asynchronous"
4783440,4791680," so that means um on linux in here we just have to open the save dialogue and simply exit out of this but"
4792320,4799520," it goes even further because you see here you should return whether you manage to save this thing or not"
4799520,4807120," so the synchronicity of this api leaks even higher in the abstraction it leaks even higher so we need to"
4807120,4811440," look um somewhere here right so we need to look somewhere here right so we need to look somewhere here"
4814880,4819280," so where do we call this thing uh specifically yeah unsaved buffers so"
4819280,4829840," yeah so save buffers i think somewhere here maybe yeah so and essentially um"
4831280,4837040," the actual saving the actual saving the actual saving should happen somewhere within the save file"
4837040,4845120," dialogue specifically within the handling the events so essentially somewhere here if you press like enter"
4845120,4853760," right then you basically perform all of this saving code right all of that saving code you perform it there"
4853760,4860480," so where is the platform yeah so all of that stuff should go into save file dialogue but this is a"
4860480,4868560," kind of a tricky operation and again so according to the to the discussion in here we want to preserve"
4868560,4877680," both like this asynchronous built-in editor window and also synchronous native one for the operating system"
4877680,4885280," so we should be able to handle like synchronous and asynchronous you know save dialogue simultaneously"
4885280,4890320," depending on the parameter or something like that so it gets even more complicated than that"
4890320,4896240," it gets even more complicated than that but i suppose the first step could be just implementing a"
4896240,4902640," functional save file dialogue handle you know save file dialogue right"
4902640,4914400," okay drop is thank you thank you so much for twitch prime i made your channel because of my friend"
4914400,4918800," and in uni it's been really helpful entertaining since uh you're welcome i'm really glad that people in"
4918800,4922240," universities watch me um thank you thank you thank you"
4922240,4932400," uh there is an unsaved file dialogue which saves stuff probably i don't know so it means we need to actually"
4932400,4943120," go a little bit deeper than uh what i did in here because i did like a shallow very shallow thing um so what we can do can we do something"
4943120,4952400," like actually useful that could be used maybe in the future um right so we can partially implement this feature"
4952400,4962160," we can uh let's create maybe put some sort of a text in here saying not implemented"
4965040,4973120," because why not just like literally yeah so just put the text not not implemented um so we"
4973120,4980400," then you can press escape and it's just like it's you can't save files on on linux"
4990320,4996400," so let's go ahead and try to do that i suppose uh so that means we have to do and draw it's kind of"
4996400,5004720," interesting that um all of the drawing methods are located outside of the widgets so the witches"
5004720,5010880," themselves they don't really know how to render themselves and it's the responsibility of this draw module"
5012400,5020000," so yeah so excuse me"
5020000,5031200," um so there's something i think the plan uh how can it jump to to this message is there anyway see okay"
5031200,5039280," see threads i can see the thread uh to remove the native dialogue and use an uh editor maybe uh can confirm"
5039280,5045120," plan to keep both because some people need their uh custom pins in the window dialogue oh okay i see"
5045120,5053840," that so i said by the way i i think that's like the main reason why sublime uses the native like operating"
5053840,5057600," system dialogue um right"
5057600,5070400," and even on linux it uses jtk but i think i think on linux sublime uses jtk all the way through right"
5070400,5076240," so i feel like the menus like a file uh help and stuff like that are also jtk"
5076880,5079760," so i think it's like basically jtk application on linux"
5079760,5087680," i really hate the sublime way i use a package to avoid that"
5087680,5094160," is this the editor written in batch yes it is editor written in batch"
5094160,5101360," so if you take a look at uh at the languages it's 100 batch files"
5103360,5108560," can your linux do that can your linux i didn't freaking think so um anyway"
5108560,5116160," so draw save file dialogue"
5116160,5118240," so"
5130480,5137920," where how do you render the text is there so i suppose it's just like a draw text so there's"
5137920,5144000," the label okay so there is a label where do we use the label how do we use the label"
5144000,5149040," oh okay so it's just like a draw text um so this is an input rectangle"
5153920,5158320," and draw text input and draw text input oh it's just it's a text input specifically"
5158320,5168080," so and in label yeah i see i see i see i see i see"
5168080,5179360," so maybe we can find something relevant within the draw text function itself it should probably uh"
5180080,5185360," do the usual prepare text it should be do the usual prepare text yeah i see in prepare text and"
5185360,5195280," uh you know so small font icons small this one is interesting all right so we prepare the text so"
5195280,5201440," in an icon icon excuse me what the hell is icon um"
5203440,5204880," icon icon is a string"
5204880,5212400," oh i can it could be actually like a unicode something or whatever yeah"
5212400,5218800," and then we just draw that text so essentially the text is drawn through the"
5218800,5226880," um through the sim oh yeah and font icon small is basically actually hints for that so"
5226880,5233120," you basically store the icons in the font it's like font awesome or whatever right so it's a font with"
5233120,5240400," with icons and i wonder if we can is there like a font directory in here so there's a fear code"
5240400,5247040," i literally sent font awesome and you guys use fondos okay so"
5249760,5263360," all right okay it's kind of bizarre to see that outside of web applications because i got used to"
5263360,5270320," seeing that specifically on web applications but maybe i've been out of the loop with like actual real"
5270320,5278560," software developing for quite some time uh right uh we've got some gifted subs thank you so much"
5278560,5284640," core coder for gifting uh one month to obi-wanis thank you thank you thank you that's pretty cool"
5284640,5292720," oh i suppose obi-wanis is like the main developer of focus yo that's such an honor thank you so much"
5292720,5298400," thank you so much for visiting my stream that's actually pretty cool the creator of the focus is"
5298400,5307760," actually watching our stream right now uh anyway so let's just go ahead and draw some text i suppose"
5307760,5313680," i'm gonna just copy paste this entire thing uh the question is like where do we have to even do that"
5313680,5326480," draw file dialogue um so we draw the rectangle uh and what i'm thinking is that so this is the text width"
5327360,5333280," uh but maybe we have to use a different font what kind of fonts do we have i presume that this is a"
5333280,5339840," global thing right so it must be some sort of a global thing so we can find the definition of that stuff"
5339840,5348720," somewhere uh all right so default font icon small okay so font ui size"
5351040,5359120," let's actually use font ui big size um it's it's just a size yeah it's not what i want"
5359120,5365040," this is what i want yes we used to use um font ui"
5365040,5371440," yeah let's let's use font ui i don't know what that is but i'm gonna assume that that's what i want"
5372240,5383040," uh so and this is gonna be font ui um so save dialogue is not implemented"
5385040,5395120," yes uh so that means this is gonna be font ui character height and this is some sort of a button"
5395120,5404960," stuff so button x aha so here i see we're trying to center that half of the box minus half of the text"
5404960,5413840," so this is a classical centering and i suppose um this is basically the rectangle so we can say"
5413840,5420800," box erect right and that effectively will center everything uh the text color right depending on"
5420800,5429280," what we have on what we have in here uh if enabled i suppose we can just like always use ui default uh"
5429280,5440640," and here we're using font ui i suppose that is it right okay so let's give it a try um i'm going to"
5442080,5442880," where's the jai"
5442880,5452080," okay that surprisingly come out"
5452080,5461200," so i'm going to try to put some stuff in here and then ctrl s it's not implemented yet yo"
5461200,5471520," that was easier than expected so though i feel like computing this specific box"
5472400,5477760," is kind of overkill right like that right so because i could be pasted like a lot of this stuff"
5477760,5482800," from open file dialogue and as you can see it's like it uses a lot of shit in here like is"
5482800,5490000," any of that really needed so also redraw requested like if if we just want to show something like"
5490000,5500240," this in here i feel like it's not needed um right on linux uh yeah okay so that was not implemented"
5502080,5508560," on linux on linux yet uh yeah"
5508560,5512560," so let's actually divide that"
5512560,5521920," uh maybe it could have be done a little bit simpler but to make it simpler i actually have to read this"
5521920,5524480," entire thing and understand it and i don't want to"
5526240,5533760," i basically treat this chunk of code as a black box right so i know that in the output of that black"
5533760,5540560," box i have this thing that contains the rectangle that basically places this thing somewhere here"
5540560,5544480," how exactly does that i don't know and i just don't want to read this thing"
5544480,5549920," you know what i'm talking about so i'm just treating this piece of code as like a black box"
5550560,5559120," uh right so but i feel like it is overkill because it involves animation and stuff like that i'm not"
5559120,5564560," sure but maybe this part is a little bit of an uphill but this one looks reasonable more or less this one"
5564560,5573680," looks reasonable uh so yesu yesu yesu and let me try to run the focused bug and"
5576320,5579760," um just do save dialogue is not implemented on linux yet"
5579760,5589760," all right so that is interesting i kind of i think like escape didn't work did it break escape escape"
5589760,5597600," doesn't work though clicking away actually kind of works then control s huh that's really weird why"
5597600,5604320," escape does it i remember it working actually um maybe i'm hallucinating that because ah"
5605680,5613360," because i was explaining thing and i changed escape to enter as you know as an example and enter it"
5613360,5621040," happens to be a valid value as well so i see okay this kind of stuff happens to me way too often for"
5621040,5626640," some reason uh especially when i'm explaining things i just change the code but then i do not"
5626640,5631200," realize that the changes that i made actually affect the behavior of the code and it's just like"
5631200,5637120," then i spent an hour like to debug this and stuff uh yeah oh it's actually small but this is because"
5637120,5645200," i oh that's kind of cool and then you press escape it there we go so does it make sense to submit that"
5645200,5654880," as a pull request because essentially this is this could be like a first step towards a safe dialogue i guess"
5655920,5663120," right uh so it makes sense to submit that all right so i'm gonna work on that a little bit more"
5663120,5669600," off screen to make it a little bit more presentable um just cleans things up and stuff like that and i'm"
5669600,5676000," gonna submit that as a pull request uh i'm gonna submit that as a pull request i'm also not sure about the"
5676000,5682160," workaround uh with mu hash should i also submit that as a separate sort of like a pull request but"
5682160,5689120," i'm not sure about the new hash okay i'm gonna explore uh research what exactly is going on with"
5689120,5696720," mu hash i what i want to do i want to actually pinpoint exactly what's the illegal instruction what's the"
5696720,5704560," actual instruction in the code that my computer considers illegal and maybe look up you know um"
5704560,5711040," yeah so maybe we just need to establish the the minimum you know instruction set for the for"
5711040,5715440," the application right so what's the minimum instruction set uh or something like that"
5724640,5730080," honestly making it a text input instead of a disclaimer uh then calling save buffer with"
5730080,5736080," the text input as a file would be fine that's actually not a bad idea honestly right so we can try"
5736080,5747520," to do that um so let me let me see but how do you render the the input text uh input so let me see so"
5748720,5759600," let me copy paste this kind of stuff um so we have this stuff i'm gonna do if one and this one is going"
5759600,5770000," to be else the classical sort of like a flip-flop thingy uh right input direct cut top input direct"
5770000,5776640," height okay so that makes sense then shrink get ui id from location parent ui okay so i suppose this thing"
5776640,5786960," would work uh all right so so let's do it like that and maybe i'm gonna do focus debug so"
5786960,5792880," what did you didn't you like what didn't you like else without if really"
5792880,5803520," really oh yeah i'm sorry it's like for a second i thought that maybe you can't have else in the"
5803520,5808000," compile time i'm sorry i think i'm already getting tired um right"
5808000,5825280," and uh that didn't work this is probably because we also don't handle the input oh we we never really"
5825280,5831280," render that wait a freaking second we get this is not enough it's a draw filter uh-huh"
5831280,5839520," draw text input and then we use the input okay okay"
5839520,5842960," yeah yeah so there's also label"
5845680,5855200," so let's go back so after that yeah yeah yeah okay so this is a save file debug input we should"
5855200,5861280," have do we have uh input i don't remember actually we do have input okay so that's cool so this is the"
5861280,5869120," input rectangle uid uh you can't see by the way i'm sorry so it is active and label um let's put path in"
5869120,5878240," there let's put path and let's restart uh semi colon imagine asking semi for semicolons in 2023 come on"
5878240,5888480," what's that what's that c c was invented in 1970 uh all right would you look at that we've got the"
5888480,5896880," scheisse we've got the scheisse and uh it does not respond to anything because uh we don't handle the events"
5896880,5905440," there so let's actually go ahead and handle them somehow so now if i go to open file dialog uh handle"
5905440,5914720," open handle yeah there we go so we probably pass oh event type this one is very interesting okay"
5914720,5926320," huh i really like that so if the event type is text input we are sort of like propagating it"
5926320,5933120," into the input so if open file dialog navigate whatever nobody cares seems to be a bug in the"
5933120,5940000," text input module which generates text input event for dell oh thank you so much for the comments in"
5940000,5949760," here thank you that is uh-huh so if open file navigate and character return true so we're taking the"
5949760,5958160," character utf 32 and we're being careful because it might generate the delete thing here all right and"
5958160,5965920," then uh we just text input uh character into the input okay okay that's cool and we should not forget to"
5965920,5970880," do do the save uh file dialog in here and interestingly"
5970880,5976800," i suppose we can do something like this"
5976800,5984800," mm-hmm ah this is not how we're supposed to do that yeah has to be keys"
5986800,5995760," uh-huh and i wonder yeah so let's pull like this and now if i do enter"
5998480,6004320," uh this is where we can save the current file"
6004320,6010000," so this is where we can do that actually"
6010000,6016720," that's kind of interesting uh let's see if it's compiling and so we're going to put to do"
6018160,6024560," save the uh save the uh file right in the path we should get the path out of the input in here right"
6024560,6028720," so we should give the path out of the input uh so let me see let me see"
6028720,6037360," you know what we could have actually we could have print something in there"
6038880,6049200," let's turn this into print like this just to be able to see right enter true so this is to do essentially"
6049200,6063040," all righty so new file let's zoom in uh home streamer uh test.c"
6063040,6068480," and yeah to do save file but that didn't yeah okay so they didn't hide it"
6069440,6076720," all right i think we're like already one step away from working safe dialogue"
6076720,6083920," even a very scuffed one so uh what was the function uh one lives left suggested to use"
6083920,6086400," uh i need to find"
6086400,6098080," save buffer save buffer i wonder like let me try to find the save buffer functions"
6098080,6101520," like which one should i call them save buffer"
6101520,6108480," so this is a buffer id"
6108480,6114560," editor buffer save new file"
6114560,6119760," so that's the problem though that's the problem"
6119760,6122720," so save buffer to disk"
6127920,6134800," is there any function that we can just yeah because"
6134800,6145440," get buffer name get save file name and this one"
6153440,6158320," yeah this one could be um buffer has file"
6158320,6162000," um"
6162000,6166960," how can we get the file the buffer itself"
6166960,6171200," all right how can we get the buffer itself so first of all let me see"
6171200,6175200," uh the definition for the buffer"
6177200,6181440," it's a little bit annoying it's a little bit annoying it's a tiny bit annoying a little bit hackish"
6181440,6185840," so has a file it has file buffer might"
6185840,6188080," not have a corresponding file"
6188080,6191920," yeah"
6195760,6208720," and let me honestly honestly when we press ctrl s we call to the platform save"
6215200,6224240," and you have to you have to get the buffer id from the active editor"
6224240,6230480," so it all looks a little bit complicated for the amount of time that i've left"
6233920,6240560," for the amount of time that i've left so i don't think i'm gonna go that route"
6240560,6246640," yeah so like i literally have like a couple of minutes left and"
6246640,6253840," not gonna go there but it's actually one step away from being able to save right so i can see that"
6253840,6259360," it's just like one step away it's just like you need to do a little bit more routing and stuff like"
6259360,6266640," that and i'm already going uh you know for for two hours and i prefer not to do that uh right so my"
6266640,6272640," goal for today was to actually explore uh this text editor not only from the outside but more of"
6272640,6279200," from the inside right so more from the inside we looked into the private parts of this text editor"
6279200,6285280," and we figured out how it works internally in such a pretty cool editor so i think it does have"
6285280,6292400," potential uh it does have potential and i really like uh how reasonable uh the source code is and"
6292400,6298000," how easy it is to to find things in there right so essentially what i'm gonna do off screen i'm gonna"
6298000,6306640," probably finish this entire thing uh right and i can basically try off screen to like wire it up into"
6306640,6313440," saving the buffer and then submit it as a as a pull request so so we can have at least something working"
6313440,6319120," right so it's kind of scuffed but at least it's going to be working right so that's that's kind"
6319120,6325760," of cool right because as soon as you have something working you can improve it build upon it and uh so"
6325760,6332000," on and so forth all right so that's a pretty cool editor um i guess that's it for today thanks everyone"
6332000,6337520," who's watching me right now i really appreciate it have a good one and i see you all on the next"
6337520,6343360," recreation programming session and we'll do something else as usual right love you"
