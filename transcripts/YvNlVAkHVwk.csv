start,end,text
720,6800," all right we're live hello everyone and welcome to yet another as we're in session hello hello"
6800,12720," welcome welcome welcome let's make a little bit of an announcement and officially start the stream"
12720,21200," so uh we're gonna do live um i mean red circle yeah i forgot uh live on twitch and what are we"
21200,28480," doing today on twitch today we're doing 3d in c yet again and i'm gonna give the link to the twitch"
28480,35600," chat where we're doing all of that and i'm gonna pink everyone who's interested in being pinked"
35600,41360," there we go the stream has been officially started so what we're doing today we continue developing"
41360,46720," uh olivets which is the graphical library that we've been developing for quite some time i think"
46720,52400," like three or four months already uh you can find the source code in here if you're interested i'm"
52400,57920," gonna put that thing in the uh in the description as well so here you go so it's a very simple"
57920,64000," graphical library that is uh rendering everything into the memory right it is not concerned with"
64000,70080," how to display what it's rendering it just fills up the memory that you allocated right so you allocate"
70080,75040," the memory you give the library that memory you ask the library to draw something in there and it draws"
75040,80000," something there and then you do whatever you want with that uh with that drawing so that's basically the"
80000,85920," library and you can do all sorts of things there is a demo there is a demo website on the github page"
85920,90960," and this is kind of things you can render with this thing you can render rainbowish triangles circles"
90960,96080," semi-transparent circles as you can see it have gradients it supports uh transparency and stuff like"
96080,103520," that so we have a little demo that uh you know draws some dots in a 3d space and projects them onto the"
103520,111840," screen and you have this little nice cube right so we also have some sort of a texture resizing with"
111840,117920," bilinear interpolation as you can see there is a smooth uh smooth interpolation no pixelation whatsoever"
117920,124560," right uh so we have a little bit of a 3d right so with shading and stuff like that so the library allows"
124560,131280," you to do very sending coordinates which you can use to decide to actually calculate the depth of your"
131280,137360," of your object so you can actually shade it in a particular way uh you can also rotate textures you"
137360,143440," can actually put textures in here uh and so on and so forth we have a lot of examples and all of that"
143440,151520," is rendered on cpu pixel by pixel into memory without any opengl without any vulcan without anything it's"
151520,157680," just pixel by pixel on cpu right so this library is concerned with portability it's concerned with"
157680,165680," simplicity it doesn't go for speed right so it goes for portability and simplicity right so even and even"
165680,174320," though it doesn't really go for speed uh this is rendered on cpu and this has like six thousand uh"
174320,179440," triangles or i don't remember i think i think it has like six thousand triangles and it's it's not running"
179440,185440," with a one fps which is really kind of cool i think uh on a 10 years old laptop from which i'm also"
185440,192400," streaming right so keep that in mind so considering all of the weird and questionable decision technical"
192400,199280," decisions that we made about this library this should not work like at all this should not work"
199280,205760," like it shouldn't even show anything should be so goddamn slow it's impossible to use yet it is doing"
205760,212320," things which means that computers are much faster than we think they are you just need to remove a lot"
212320,218720," of crap right if you remove a lot of crap and you just like strip it down to bare bones they actually"
218720,227440," surprisingly fast without you doing much which is weird isn't it right so um anyway so what i wanted"
227440,235840," to do today uh so we needed to implement uh near and far clipping plane right so we do a little bit of a"
235840,242880," projection right in 3d space and z is actually going from one to two okay so i i think i need to actually"
242880,251920," uh start my paint and actually bust out my tablet uh okay so we can actually show what exactly what"
251920,260480," exactly we're doing uh so all right so imagine so we're looking from the side right we're looking from"
260480,266000," the side that means z is going to the right in here right let's imagine that z is going to the right so"
266000,276000," this is z and uh here we have y right so this is y uh our eye when we are projecting everything our eye"
276000,282160," is located at zero right at z zero so this is our eye i wish i could actually spell it a little bit more"
282160,290400," nicely so this screen is located at position one of z so if you put it like that this is a screen"
292560,299920," uh so and then we have uh like a limitation to two in here and our object is usually located in here"
299920,305840," and what we effectively do when we're projecting that object onto the screen we just basically draw"
305840,312320," uh these two lines right and now we know the boundaries of this object we projected the points"
312320,316160," of this object onto the screen and this is what we are actually draw on the screen so this is how"
316160,324640," basically projection works right and essentially um we want to keep our objects inside of this specific"
324640,332560," range right we want it to be inside of this specific range if the object goes somewhere uh for example"
332560,339920," like that maybe i actually want to make it a little bit brighter and something like this right so we want"
339920,347360," this part to be cut out so this is what's usually done in open gl there is so called uh near clipping"
347360,354480," plane right so we can say that this specific screen is not only uh a screen but it's also sort of like a"
354480,364080," near uh near clipping play near clip right and uh we can also say that this is going to be far clipping"
364080,373200," plane right uh and everything that falls behind any of these clipping planes uh it should be eliminated"
373200,381200," it should be not drawn right so any question is what if you have a big scene uh right that is much bigger"
381200,388960," than one right you have to basically uh you know take the your scene and project it so it's within this"
388960,393760," boundary so this is how it's usually done i'm not sure how exactly pangelo works maybe it's"
393760,398560," actually configurable so you can actually decide where those planes are located maybe we can do"
398560,404480," that as well but just for the sake of simplicity of the math it's just easier to to do it like that"
404480,409280," right so this is one of the things we want to we want to have and the reason why we want to have that is"
409280,417680," because if your objects like these objects are too big so big that for example a handle starts to poke"
417680,424560," out of the screen right we're starting to have a lot of weird behavior right so to avoid that weird"
424560,430880," behavior we want to kind of like cut everything that goes behind the screen and you know just for"
430880,436320," the symmetry we also want to do the far clipping plane that cuts everything that goes too far because"
436320,442480," why not maybe maybe like far clipping plane plane in our case is not particularly necessary but the the"
442480,446320," nearest one is very important because i'm going to show you what's going to happen if you don't do that"
446320,449760," all right so let me take a look"
449760,459760," so i'm going to open all of that and uh so i think i want to rebuild i think i already"
459760,463760," rebuilt all of the demos so i don't need to do another rebuild so this is the demos"
463760,469040," and let's take a look at the teapot sdl so here is the sdl version this is the native version without"
469040,475440," any web bullshit uh right so it works without browser uh imagine like an application working"
475440,480800," without a browser in 2022 it's unimaginable these days right it's a lost technology nobody's doing it"
480800,488880," like that so and uh let's actually open the build script so we have a function that builds the assets"
489440,496160," right and within the assets we basically take the object file right that you the teapot so here is"
496160,503600," the thing and we're converting it into a c code so we can include this object into our c program so it"
503600,509040," gets baked into the executable so you don't have to think about how to load this object and if you're on"
509040,514080," the web you don't have to think how to query that object over http it's baked into the executable you don't"
514080,519680," have to worry about that so we basically bake everything it's pretty convenient but the utility"
519680,525760," that we use to bake the 3d objects into the executable it has a very interesting flag it allows"
525760,532160," you to scale uh to scale the object right so because the object too big it doesn't really fit in into the"
532160,536560," range from one to two we want to scale it down a little bit so it fits there and doesn't produce weird"
536560,543920," result so if we make it a little bit bigger if in fact we can pick the original scale right one so"
543920,549120," what was the original size of the of the object so let's try to rebuild that specific demo so i'm"
549120,553520," going to rebuild demos and specifically i'm going to rebuild i think i need to rebuild like all of them"
553520,557760," because i need to rebuild the assets right so let's rebuild the assets the assets has been rebuilt so"
557760,563360," look how much time it takes to rebuild the assets right this is just so fast look at that"
563360,570560," right it's less than a less than 100 milliseconds we took all of the all of the images all of the png"
570560,575600," images and all of the object files and we generate it c code out of them so we can bake them into our"
575600,582080," programs and it was just like super fast it's kind of funny anyway so let's actually now rebuild the demo"
582080,587440," the demo that i want to rebuild is a teapot 3d and i want to rebuild it for sdl specifically so i'm"
587440,592560," going to actually be very specific so we don't waste too much time uh all right and let's do build"
593680,602160," demo teapot 3d sdl and uh so as you can see it starts to lag a lot and we are inside of the"
602160,609520," work yeah this is actually kind of cool uh as you can see so there is a lot of weird behavior if you"
609520,619120," don't cut uh you cut your um polygons to to the clipping planes so it gets even more weird uh i"
619120,624560," suppose if we just make it a little bit smaller so you can see the moment when it gets really weird"
624560,631600," uh all right so let's actually rebuild the entire thing uh i wonder if we can just do assets right and"
631600,642640," then just no build demos teapot uh 3d sdl and then run build demos teapot uh sdl you probably can't see"
642640,649280," everything well you can see something which is which is nice okay sure so as soon as it sort of hits the"
649280,658000," handle it gets really weird and it gets also super slow um yeah as you can see that's that's basically"
658000,666720," what's happening right yes yes yes actually it's not that bad if you think about it so i mean visually"
666720,675200," visually speaking visually speaking so if i make it slightly like 60 i wonder how it's gonna behave"
675200,682560," okay so it works nice and as soon as the handle sort of hits the camera we're starting to get like"
682560,688320," all of this weird behavior that is actually it is some of the uh some of the things look at that look"
688320,693440," at that some of them are starting to even cross through these things so it's definitely not correct"
693440,700960," some of the math doesn't work out you see we're starting to get these huge things and i wonder"
700960,707040," like where exactly all that's that's happening right so this is basically the problems uh that we have and"
707040,713040," it's also super slow so maybe there's some sort of like a none um in the coordinates somewhere but but"
713040,718000," this is exactly what we want to explore today right so this is precisely what we want to explore today"
718000,724800," so that's the topic of today's stream okay we got some subs uh thank you so much and shay for um"
724800,730320," for two months of tier one subscription thank you thank you thank you really appreciate it hello hello everyone"
730320,736640," uh welcome welcome welcome welcome how are you guys doing all right so yeah that's basically the the"
736640,743680," plan for today so i accidentally saved the the compilation thing i don't know why okay and the same"
743680,750800," thing uh we kind of have with the cup all right so we have a demo that demonstrates a cup so let's take"
750800,758000," a look so this is a cap 3d sdl uh it works fine if it doesn't clip but if you make it clip it's gonna get"
758000,763200," really weird so let's take a look at the source code of the demo right so here is the cup 3d this"
763200,769600," is for the cup and we also have a teapot 3d so the implementations of these two demos is rather"
769600,774880," interesting so if we take a look at the implementation of teapot 3d it looks like this it's literally three"
774880,785200," lines right and if we take a look at the implementation of the cup 3d it's two lines so these two demos"
785840,793920," uh right these two demos if we go in here uh their implementations are like three and two lines so we"
793920,802000," just include a bunch of files in here and here is an interesting thing so the main uh demo is model 3d"
802000,810480," and model 3d when it renders its model right when it runs its model it looks for global variable vertices"
810480,818880," and faces and those global variables are uh generated by the asset generator uh right so if you take a"
818880,826560," look at for instance um cup right cup low poly i think that's what we need yeah there we go so here's"
826560,835360," the vertices and down there we have faces right so essentially model 3d doesn't care about specific model"
835360,842320," it's rendering it's just expects to have a global variable vertices and a global variable faces"
842320,847920," that's it right so it finds those and it just renders whatever in those global variables right and"
847920,854800," those global variables are defined in different files so if you want to have a demo with a specific object"
854800,863680," model right so in this uh in this case what do we do so cap 3d we just include the cup model right which"
863680,869040," imports the vertices and faces and then we include this thing which also includes the entry points and"
869040,874080," stuff like that and there we go we're good to go you want a different uh different demo you just include"
874080,882080," a different uh different object in here and it's going to be the same code right look at the reusability"
882080,890240," of this code look at the reusability of this code we're not using any fancy abstract factory bin"
890240,894960," visitors pattern or anything like that this is literally a concatenation of two files"
894960,902880," and look how much flexibility you can achieve through just concatenation of two files without"
902880,912640," any ideological oop fp bullshit just by concatenating two files isn't that amazing i think it's freaking amazing"
912640,931200," people spend years studying different patterns reading and writing shetton of books on op op i'm sorry for"
931200,941120," my for my french accent for an op and shit like that just to end up with somebody who programs and see to beat them up in the level of flexibility"
941120,947600," it's just like yeah i just include like i can just substitute like can your dependency injection"
947600,950960," do that without thousands of lines of x"
953360,957760," well it's it's it's kind of like a dependency injection basically anyway whatever"
957760,967040," all right so let's go"
967040,977520," uh anyway so this is basically i was explaining how exactly these 3d demos work right so basically cup 3d and"
977520,983920," teapot 3d are literally the same code so this is kind of important uh for for our case because we're"
983920,988880," going to be fixing both of these things simultaneously right so i'm not working on the code of any of these"
988880,994080," specific demo they share the same code right they share the same code"
994080,1005200," all right so model 3d game okay so how do we do all of that how do we do all that so we iterate through"
1005200,1012240," all of the faces right then face is just the index within the vertex uh vertex array right we get the"
1012240,1019200," corresponding vertices and we take their points in 3d right we take their points in 3d one of the things"
1019200,1028160," we do we add to the z value of all these points 1.5 who knows why why do we need to add 1.5"
1030080,1035840," remember that we're projecting the things that are between these values 1 and 2 it doesn't really"
1035840,1041440," necessarily have to be between 1 and 2 it's just like we set up the math so we kind of expect them"
1041440,1047760," in this specific place to be between 1 and 2. you can set up math in different ways and it's going"
1047760,1052000," to be different values it doesn't really matter it's just the details right it's just look we set up the"
1052000,1057840," math so we have to put these things between 1 and 2. right the next thing we do then we project"
1057840,1064960," this thing onto 2d screen and as you can see we have three points but 2d we had three points in 3d"
1064960,1071360," and now we have three points in 2d we destructurize them so we can have separate variables because it's"
1071360,1077920," easier to to put them into the olivettes and then we normalize the triangle normalizing the triangle"
1077920,1085520," is essentially finding its boundaries finding the rectangle on the screen that surrounds the entire"
1085520,1091120," triangle so we can iterate through each individual pixel and then we have a way to check whether the"
1091120,1096960," pixel that we're iterating is within the triangle or outside the triangle right we we use barycentric"
1096960,1105120," barycentric coordinates to determine that right so and um through the barycentric coordinates we can"
1105120,1111200," actually take the z values of each individual point and interpolate them to know the z value of the pixel of the"
1111200,1119920," of the triangle that we're uh that we're actually uh rendering right now and since the z is projected"
1119920,1126720," the z value is projected it's actually distorted because of the projection so we cannot interpolate z"
1126720,1134480," directly we have to take inverse value of z 1 over z we linearly interpolate interpolate 1 over z and this"
1134480,1142000," value is actually 1 over z not z it's 1 over z then we use a little bit of the z buffer to know whether we"
1142000,1149440," want to render something or not uh then if we actually found something that is closer uh closer to us"
1149440,1156640," to us we render that specific pixel we also store that pixel in the z buffer we also mix the colors and then we"
1156640,1164400," use that uh that value for the shading right so if the pixel is too far away from us we color it a little"
1164400,1170560," bit more darker if it's closer to us we color it more brighter and this is how we achieve this a little bit"
1170560,1175920," of a shading i'm not sure if it's easy to tell but you can tell it if when the handle is actually like a"
1175920,1181120," little bit far away you can clearly see that there's some sort of a shading going on in here right so it's"
1181120,1186720," clear that there is some sort of a shading it's not uh super obvious but if you look closer yeah so the"
1186720,1192320," farther away the pixels the more darker they are so i think it's a little bit easier to see with these"
1192320,1201280," kind of textures right so that's basically that's basically the situation in here uh right and this"
1201280,1210480," kind of setup makes it kind of obvious how to implement the uh near clipping plane because we're"
1210480,1218480," rendering each individual triangle of the model pixel by pixel right so all of that stuff is rendered pixel"
1218480,1226400," by pixel and we have loops uh we have loops that iterate through each individual pixel so we know the"
1226400,1233120," values of the pixel we know the coordinates of the pixel right uh we know the coordinates of the pixel"
1233120,1243600," and uh so what's interesting is that we can now start uh computing the uh near clipping plane"
1243600,1249040," right we can start completing the near clipping plane uh for instance since we know the z we can literally"
1249040,1255040," check if the z turned out to be too close right if it turned out to be too close we just don't render"
1255040,1260880," that pixel we can try to do something like that uh but here's the problem z is inverted values so that"
1260880,1267280," means we have to invert it back so we kind of already invert it in here but uh i mean it's just"
1267280,1273760," like it needs a little bit of refactoring so and now one of the things we probably want to do we want to"
1273760,1279200," check if it's uh less than one right if it's less than one we probably don't want to even render this"
1279200,1284400," entire thing right we probably don't want to even render it so i'm gonna just like rub this entire thing"
1285360,1294000," in a condition and we'll try to see uh we'll try to see if everything is okay right so there we go so"
1294000,1299280," let's actually rebuild this entire thing uh let's rebuild this entire thing and there we go"
1304480,1312400," okay okay so let me see it's going to build demos teapot3d sdl and does it really fix anything and you"
1312400,1318480," know what's interesting is that it doesn't really fix anything right so and this is one of the reasons i"
1318480,1327440," want you to stream today because this idea of just clipping it like that doesn't really work because as you"
1327440,1336080," can see the situation we get is that the points are going somewhere into the infinity which indicates"
1336080,1344640," that there's some sort of a situation that turns some of their values into none probably but we don't"
1344640,1350160," really know for sure right and so this is something that i really want you to explore today right so"
1350160,1355920," spend some time maybe writing some tools that led us to capture the all of the current values of the"
1355920,1362080," things and stuff like that and just explore what exactly going on because uh with this kind of code"
1362080,1368320," setting up like near and far clipping plane should be straightforward you have the z values of the of"
1368320,1375440," the pixels right just check that they are within the the range and you're good to go right so there"
1375440,1380560," should be like disappearing um but but they're not for some reason so it's kind of kind of weird"
1380560,1386400," something is really fishy going on here if i remember correctly it's it kind of works for the far"
1386400,1392160," clipping plane if you say that okay if it's uh bigger than two it it will actually cut them off"
1392160,1399040," but we'll have to go go back into the uh i think it was like around four all right i think it was around"
1399040,1408640," four so let's actually see uh let me rebuild some of this stuff no build demos uh teapot 3d uh sdl and"
1408640,1419600," let's actually try to do this kind of thing um okay uh something is even more funnier than it is but yeah"
1419600,1430560," uh all right so this one is uh greater than that uh let me disable that and just see if it's it if it"
1430560,1439200," worked as as it was before uh okay so oh yeah i did i didn't uh i didn't rebuild the uh the assets"
1439200,1446560," right so i was supposed to rebuild the assets so let's also do that um okay so now it works so now it"
1446560,1454320," works and uh let me go to here so it's something like model 3d uh let's bring this entire thing back"
1455120,1461360," let's bring this entire thing back and uh there we go huh"
1461360,1470240," what's interesting is that it feels like it's working like a near clipping plane"
1470240,1477440," you know maybe we should not invert this entire thing right because as you can see i'm inverting"
1477440,1483680," this entire stuff but we're supposed to invert this thing because it is inverted right because you"
1483680,1491760," cannot interpolate not inverted things so there is something a little bit sus in here for sure okay"
1491760,1498560," i'm gonna try to not invert that and see like what exactly going on in here uh and it's it's completely"
1498560,1506560," okay so it kind of it kind of works but it's a bit weird all right what if i increase"
1507200,1511360," this by two so it works completely counter intuitive for me"
1511360,1517360," aha so that means it has to be smaller"
1517360,1524320," it has to be smaller all right the smaller i this thing i make"
1524320,1533920," uh the more weird it becomes what if it's zero okay so and this is exactly what i wanted to do today i want"
1533920,1540160," you to explore what the hell is going on in here exactly because it's kind of weird uh for instance"
1540160,1548960," one thing i would like to do is to inspect the z buffer right so because it's not pretty into intuitive"
1548960,1555360," for me what are the values of the z buffer and how all of that works right so um"
1556480,1561120," yeah so one of the things we can try to do we can try to write a tool that allows us to stop the"
1561120,1568080," animation and just find the smallest z value and the biggest z value or something like that so it"
1568080,1574800," sounds like a good idea or maybe even that's a cool idea uh basically click on the screen"
1575360,1581200," and it will tell us the z value of that specific thing in there that's actually kind of cool yeah"
1581200,1584960," it's basically like uh printed somewhere to the std out if you know what i mean"
1584960,1590000," uh right so that sounds like a pretty cool idea okay so let's actually start working on that because"
1590000,1596720," i really want to understand what is going on in here right so let me let me see let me actually"
1596720,1604240," disable this in typing and uh let's go okay so i didn't mean to actually put it in here uh"
1604240,1613920," cool um so let's go ahead and try to do that some of the things i need to do"
1613920,1620720," some of the things i need to do i need to be able to interact with the demo"
1620720,1624640," so the problem with the demos right now is that i can't really interact with them apart from"
1625360,1633840," uh making them pose but pose is a feature of the of the framework that this entire thing is using"
1633840,1641280," right so it's a feature of the framework uh and uh we want to probably extend that framework we want to"
1641280,1646320," extend that framework to maybe handle the keys right when the user presses the key we want to"
1646320,1653360," uh pass those keys to the demo so the demo itself can maybe handle them and do something about them"
1653840,1659920," uh all right so let me let me remember this entire thing and uh so what we can do vc"
1659920,1670160," key um maybe key down right uh but maybe we can also have uh something like event"
1670160,1676000," don't really want to introduce the entire framework just for that uh that would be kind of weird"
1676800,1680960," made yourself seven seven seven seven thank you so much for tier one subscription 48 month"
1680960,1687440," of tier one subscription holy that's that's a lot thank you so much uh right so let's actually do key"
1687440,1692480," down uh all right and in here we're gonna actually accept the key which is gonna be probably ascii"
1692480,1700960," uh and i think that's gonna be enough for now and we'll see how it goes right so we have i remember"
1700960,1708480," that we had like a forward declaration here so we can put uh forward declaration uh here as as well key"
1708480,1716400," down int key there we go right so essentially we're gonna add support only for sdl because that's the"
1716400,1724400," only platform that i care about right now uh we can so for the terminal it's kind of i don't think i'm"
1724400,1729200," gonna add it to the other platforms because if i'm gonna it's only needed for debugging and i usually"
1729200,1735200," debug in the sdl platform right so all the other platforms are just for the demo uh right so they"
1735200,1743040," don't really need to handle any of that uh so let me find the platform uh maybe vc sdl platform right"
1743040,1750240," we see sdl platform uh where do we handle all of that there we go so if we do key down so we pause and"
1750240,1760160," pause uh which is fine so but maybe on top of that we can do something like vc key down uh right vc key"
1760160,1766720," down and we can put a symbol in there uh but the problem here is that the symbol is not particularly"
1766720,1773680," ascii right so it is not very much ascii if i'm not mistaken we can always like test it out uh quite"
1773680,1781120," easily so we can just do printf all right so we can do something like this uh right and then something"
1781120,1791600," like key down uh this is the integer and this is the key right uh-huh so it's gonna be um"
1791600,1800240," so what do we do okay so that's fine this is a fine compilation line all right so yeah that's that's"
1800240,1806480," kind of weird okay so when i press space it's 32 which is fine i know that capital e okay it also"
1806480,1815680," handles shift uh e capital e it doesn't really care if it's e or capital e uh all right so i'm gonna take"
1815680,1825680," a look at ascii code right so take a look at ascii code 101 is it's an octal but i need the decimal so"
1825680,1832640," decimal it's actually small e and i was also holding shift so it really didn't care whether it's like"
1832640,1841920," capital e or not capital e it really didn't care okay so what can we do in here so it doesn't really"
1841920,1848800," matter that much because what if i want to extend it in the future to work in other platforms and other"
1848800,1856960," platforms have different schemes of um indexing the keys and stuff like that so i want to kind of limit"
1856960,1864160," this entire thing to ascii uh all right so i want to kind of limit it to ascii and one of the things i"
1864160,1871840," can do in here is probably just like literally check if is this thing and asking uh right is this thing and"
1871840,1880240," ascii and in ascii as far as i know uh we have displayable characters starting from 32 if 32 less"
1880240,1891840," or equal x and x is less uh so the last displayable one is uh 126 right we can say 127 right and if it is"
1891840,1898240," uh we're gonna pass this entire thing in here right so we're only gonna pass this kind of stuff there um"
1898960,1904880," right and what's interesting is that that kind of does not allow us to have shifts right so if i press"
1904880,1913600," the shift it just like doesn't um you know doesn't affect anything we can even check uh how that"
1913600,1921360," specifically works where is my model 3d here is the model 3d and instead of the integer we're gonna do"
1921360,1928400," character right so this is the character so let's take a look one more time uh right so this is j if i"
1928400,1936160," press shift this is still smaller j right but if i port that to the terminal in the future uh the way"
1936160,1941520," we handle that in the terminal we're gonna have a like a capital j so this one is not particularly a"
1941520,1950080," great way to to handle all that uh so maybe we could use something like sdl text uh right sdl text"
1950080,1955360," or maybe maybe i shouldn't care because it's just like for debugging so i think i'm spending too much time"
1955360,1962000," on this thing that is not particularly important right and anyway uh what i want to do i want to be"
1962000,1970480," able to for instance if the key is equal to something like s just do the statistics of like what's going"
1970480,1978480," on right so for instance we render into the z buffer right so we render into the z buffer uh and uh where do"
1978480,1986080," we even clean up the z buffer okay so the z buffer is cleaned up um at the beginning of the frame right"
1986080,1992160," it's coming up at the beginning of the frame and as far as i know keys are handled before rendering the"
1992160,2000720," frame so in um in here we'll still have the z buffer the z buffer of the previous frame so we can take some"
2000720,2008000," statistics of that buffer for instance uh we can just calculate the minimum and maximum value right so"
2008000,2016720," float uh mean means and max uh means if i remember correctly it's something we can take the maximum of"
2016720,2023280," the float flt max right and then we can tell flt minimum uh right and remember if it's like that right"
2023280,2029120," right so the compiler will tell you uh so and then we want to iterate uh the like each individual value"
2029120,2033200," of the z buffer just i want to see what's the minimum and maximum just to get the juice of what's going"
2033200,2043040," on in here uh right so something like this so means is going to be let's put it this way if means is"
2043680,2050080," greater than z buffer i that's the new minimum right so that's the minimum minimum there we go"
2050080,2056960," so query place mean max boom but we have to change the uh these things in here there we go"
2056960,2062400," and after that we can just simply print this entire stuff right so let's just simply print"
2062400,2072720," there we go print f and mean uh means is that so this is going to be means and this is going to be"
2073680,2079520," a new max there we go all right so it's well i mean it has to be within the"
2079520,2086160," pressed key right so it has to be within the pressed key all right what else do we have"
2086160,2095040," okay so cool i can pause and i'm gonna press s so and this is where it's very interesting right so"
2095040,2102480," the maximum z is four even though it's sort of like inverted right so that's that's what it is"
2104000,2111360," if i put it like this and it takes statistics uh so yeah it's from zero to uh to this"
2111360,2113680," okay"
2113680,2122880," that's cool so we can see some information in here and now uh we can try to go ahead"
2122880,2130080," and make this thing bigger and just inspect minimum and maximum value of z"
2131280,2136560," when we start to glitch around a lot a lot when the you know the things that go out of the bounds"
2136560,2142560," and something really weird is going on right so uh we can now have an opportunity to to do this kind"
2142560,2142960," of stuff"
2142960,2154000," okay okay so i'm gonna actually pause so we paused and then i'm gonna take the stats and this is really weird"
2154000,2162640," right so minimum maximum becomes kind of like like this uh so this stays in here"
2162640,2168000," and then the jump uh-huh"
2168000,2173520," hmm"
2175840,2179440," sometimes it's like 420 even sometimes like it's 420"
2179440,2189280," very interesting uh what's funny is that this is inverted stuff the z's are one over z's are they"
2189280,2198560," i think i think they are so if we take a look uh when what do i say uh save in there right so these"
2198560,2206240," are the uh these are the uh this is like that uh i wonder if there's any nuns if i had any nuns would"
2206240,2213200," they go into min z in max z that's an interesting question i don't remember how nan work so i know"
2213200,2219440," that nan has this like weird property that it's sort of like bigger or small or something uh so let me"
2219440,2227920," let me see i remember that c has like is noun function uh is not why is it in russian like"
2227920,2235840," just give me cpp references oh my god google is so dumb it's insane i'm sorry it's just like"
2235840,2244960," it's a multi-billion dollar corporation that has all of my data like it knows everything about me yet"
2245520,2251680," it gives me absolutely irrelevant results like why do you have so much money why do you have so much"
2251680,2260480," data about me if you cannot give a valuable uh service it's just like i don't understand why the"
2260480,2267440," is that that's what infuriates me so much right um i would understand this kind of like quality of the"
2267440,2274560," service if i gave nothing to google but i give a lot right so actually and anyway"
2276480,2283520," so we need to import the math uh so i think we already have the math and it's just is none um"
2283520,2292320," right so there's a true infinity is not none right but maybe maybe not okay so let's do something like"
2292320,2300080," boolean contains uh none and this is going to be something like false uh right"
2301600,2315440," and if z buffer i is none uh we're going to just set this entire thing to true and if contains none"
2320720,2330960," printf i think it would actually show up i'm pretty sure the the properties of the comparison of none"
2330960,2337360," set up so they will show up in minimum and maximum i have the feeling that's the reason why they're set up"
2337360,2347040," like this yeah that's very interesting huh okay well just a second does not uh"
2347040,2350320," contain"
2350320,2355200," does not contain does not contain none okay let me see"
2355200,2360720," it does not contain okay"
2360720,2364960," does not contain none so"
2373280,2379040," it's actually kind of cool so none of that weird bugs result in this thing containing none so this"
2379040,2385360," give me like a very interesting idea just a second i i really want to test it out uh regarded none uh"
2385360,2395120," all right uh stdio and maybe this is going to be main uh return so how can you get none i think the"
2395120,2400880," easiest way to get none is just like divide by zero zero divide by zero and you straight up get the none"
2400880,2406480," right so we can even test it out like so uh all right"
2406480,2417600," so i'm gonna do clang oh foo foo c and i'm just gonna run the foo okay so as you can see it is none"
2417600,2423040," right right we can uh do something like this if x is less than 69"
2423040,2425920," uh we can print f"
2425920,2434960," less if x is greater uh greater if x is equal"
2434960,2442960," equal right so how many of those are going to be printed so that's a very interesting question"
2445680,2449600," okay none of them were printed right none of them were printed"
2449600,2456880," so that means all of that is false right so that means if we have"
2456880,2464720," if we have any none in here it's not going to appear neither in minimum or in maximum"
2464720,2469280," right because none of these results are going to be true so it's sort of like ignored"
2470640,2477440," huh which is fine so that means this sort of condition is necessary for me right so if there"
2477440,2483280," was a noun i wouldn't see that neither in minimums not in not in maximums uh all right so that's that's"
2483280,2495280," pretty cool so that's very interesting um i kind of want to actually rename these values i think this is not"
2495280,2503280," a minimum z it's a minimum inverts inverted z uh you know what i mean because it's not like the the actual"
2503280,2510160," z value and that's quite important to remember a max inverted z right so this is a max inverted z"
2512640,2522880," because i would like to also just see what is not inverted versions for the z so if we invert them"
2522880,2531280," back uh right if we invert them back what do we get right what are the values um so okay so this is the"
2531280,2540800," the wrong thing there uh no such thing and let me let me just see okay i actually want to go into the"
2540800,2553600," normal mode and just see what's going on and we get infinity okay so because of the because of some"
2553600,2562800," values containing uh containing zero we might sometime get infinity and that may mess up some of the"
2562800,2570240," computations okay so that's already interesting uh all right so if i go in here and do stats all right"
2570240,2577120," so some of this stuff actually like works out right so this is like a zero uh max one so and we can just"
2577120,2585760," like see that that it's that it is like that that it is like that okay so that is really interesting"
2585760,2598000," that is very interesting but maybe all of that has something to do with the fact that we probably should"
2598000,2605520," interpolate so maybe it has something to do with this kind of fact because we sort of like moved it"
2605520,2610720," further right we moved it further right we moved it further but maybe when we're actually interpolating"
2610720,2621200," things we have to move them back all right we should maybe try to move it back but this plus one is"
2621200,2626480," really needed for the projection right because otherwise this specific projection is not going to work"
2626480,2630640," or i think rather this one right because otherwise it's just not going to work out"
2632080,2639520," uh so yeah that's something that we need to do but unfortunately i would like to make a small break"
2639520,2645360," before i go and just try to experiment with these things and uh i want to make a cup of tea right so"
2645360,2652000," let's make a small break so uh let's try to understand what the hell is going on with our lives"
2652640,2660320," right uh so essentially uh somebody in the chat noticed that we are initializing everything"
2660320,2667520," with zero right with z buffer and if you invert zero that means the like everything there is infinitely"
2667520,2674560," far away so i suppose those infinities or those zeros if you invert infinity are coming from the"
2674560,2680160," background right so they're basically background so which is actually a very good point uh which is actually"
2680160,2688160," a very good point i wonder if maybe uh one of the things we want to do we actually want to compare"
2688160,2696800," um right to inverted values right so if we imagine that z is a straight up the z value right it's a"
2696800,2706560," straight up z value and uh we don't care about anything else um so what do we do uh we probably would compare"
2706560,2713040," it like this right so z is uh less or equal than one and z is less or equal than two maybe not even equal"
2713040,2720880," just in case let's not make it equal uh right but if z is actually inverted like one over z we probably"
2720880,2728640," want to invert uh these things as well right so uh we want to do this uh one over one is going to stay"
2728640,2734320," one but then this thing uh one but then this thing is going to become uh this so it's inverted but it's"
2734320,2741840," less than one so maybe we're now actually checking uh this thing right so we're checking from"
2741840,2750240," uh zero five to one and that's the clipping stuff and here is an interesting thing"
2751120,2762000," um would it be too much all right okay let's actually try to do it like this right uh let's try"
2762000,2771840," to see if this thing is greater than half but smaller than one right and if it is uh right if it is"
2771840,2781520," we're gonna actually set it in there uh uh right right right right right so maybe that will work out"
2781520,2787760," we might as well we might as well do something like this maybe it has to be actually checked before"
2787760,2795360," this thing right and it has to be checked before this thing uh so first of all we see if we are within"
2795360,2801120," the clipping planes then we see if we are sort of bigger than whatever we have in the z buffer so that"
2801120,2808560," means we're closer and in that case we're authorizing we're authorizing the pixel to be rendered so that's"
2808560,2817840," what we do it's a pixel authorization that's what it is like i'm it's kind of funny how i made like"
2817840,2824240," comparison of graphics computer graphics and web right i said that the shaders are like"
2824800,2829440," uh client server client applications right shader is like a javascript"
2829440,2837200," right so when you visit a server server loads up a code on your machine that code starts executing"
2837200,2842080," connects back to the server and server and clients start communicating and this is a web application"
2842080,2848400," it's kind of similar with the shaders right so you run a program your program loads a shader on the gpu"
2848400,2852880," gpu connects back to the cpu and they start communicating and this is the graphical application"
2853520,2861520," right and here we have uh you know basic pixel alters this is such a cursed comparison holy"
2861520,2867680," shit i love it uh so soon we'll be writing microservices right yes that's exactly what we're doing"
2871280,2883920," um so is it not oh is it not i think it's pretty freaking okay so i'm a little bit nervous if this is going to"
2883920,2887040," you know what this shit worked out kind of"
2887040,2895920," if you think about it there is kind of weird stuff in here"
2897200,2903920," which i do not fully understand why the it is happening uh right i still do not understand this stuff"
2903920,2913200," uh so we have things from zero to like happen here and of course there is infinity but yeah"
2917280,2926000," yeah like i don't understand why this happens"
2926000,2940080," so do you have a computer science degree with your skills you could easily get phd"
2940640,2948640," isn't phd like a philosophy doctor what phd stands for doctor of philosophy do you know what is a"
2948640,2955840," philosophy you think i might doing a freaking philosophy in here you think this is a philosophy"
2955840,2965680," furthermore i'm not a doctor i'm not you know treating people i'm not curing diseases especially in"
2965680,2976400," the field in the field of philosophy what kind of is this title what excuse me no i'm a programmer i'm"
2976400,2981840," solving technical problems i'm not curing people in the field of philosophy i'm not doing any of that"
2981840,2992960," so"
2992960,3001680," there's nothing to do with philosophy yeah everything i do has nothing to do with philosophy"
3001680,3005840," i do agree with that and that's why i don't have phd uh all right"
3011840,3017760," are you authorizing the pixel or vertex of a triangle specifically pixel because here i'm"
3017760,3023760," iterating all the pixels of the triangle right so first of all i'm iterating the all the pixels of the"
3023760,3030240," rectangular boundary right then i check if the pixel within the boundary is within the triangle"
3030240,3037680," uh right then i calculate how far it is from the from the vertices of the triangle so then i can"
3037680,3044160," interpolate the z values and once i interpolated z values i got the z values and now i kind of know"
3044160,3052960," what is going on right so now i can i can go to that uh all right so um okay that's kind of cool"
3052960,3058480," we kind of implemented the far and near clipping plane i'm kind of proud of ourselves because this is"
3058480,3064320," precisely what i wanted right so isn't that cool i think it's pretty cool we can clearly see that"
3064320,3073520," uh like inside of the um of the teapot we can even see that it has some sort of like a thick wall"
3073520,3080160," in it right as you can see there's like this kind of stuff so you can see this thick wall and this is"
3080160,3088240," like uh sort of like below the lid uh right so there's a lot of like inner things that are very"
3088240,3097600," interesting that we didn't see before but yet when we hit the handle or how is it called spout i think"
3097600,3104800," it's called spout yeah i think it's called spout when we hit the handle or spout that are too far away"
3104800,3112400," behind our clipping plane something goes nuts nuts nuts we can even see just a second"
3112400,3121600," uh yeah like what the is going on is that a spout it kind of looks like well but not really is that's"
3121600,3124080," maybe this is what you have in a spout"
3124080,3132320," because who freaking knows like yeah look at that like what the is this"
3136640,3140800," i don't know some some crazy is happening at this point"
3140800,3155120," anyway so maybe something something weird is going on when we are projecting this values so that's the"
3155120,3164880," problem i don't know i've never seen inside the pot yeah exactly so maybe that's how pot pot from the"
3164880,3171760," inside is supposed to look like who knows um maybe our mental image of the spout is wrong yeah this is"
3171760,3180000," how real developers fix the bugs they start to gaslight and question the reality itself until everyone"
3180000,3190080," believes that there is no bug in there so anyway um i want to actually try this kind of stuff with the"
3190080,3201440," with the cup right so uh gaslight the reality uh so imagine gaslighting the reality itself um all right"
3201440,3210800," i need to find the assets uh assets right where do we build the assets so this is where we build the assets"
3210800,3220320," and i want to make uh the cup a bit bigger right so this is going to be s and we can make it like"
3220320,3222480," like this just a little bit bigger"
3222480,3235840," cup 3d up 3d and i'm gonna put it in here so yeah look at that that's precisely what i want that kind of works"
3235840,3242080," perfectly with the cup 3d look at that look at it go hell yeah brother"
3242080,3252240," look at that football maybe it has something to do when these like the vertex becomes sort of negative"
3256400,3263760," maybe when that's when the uh hits the fan but yeah so clipping in here kind of works"
3263760,3270000," i wonder if i make it like twice as big right so we're literally inside of this thing"
3270000,3273840," uh for dt pot yes"
3273840,3282000," well i mean there's some glitches here and there but overall i wouldn't say that it's that bad"
3283440,3291680," mm-hmm so what about if we make it like four times as big so i want to"
3291680,3299200," make it really big so majority of the things are going to be like clipped anyway"
3306640,3314320," okay okay all right so let's go back to the yuta teapot one of the things i want to test with the yuta teapot"
3314320,3316640," uh teapot 3d"
3316640,3319440," teapot 3d"
3319440,3324400," i'm going to make it just a tiny bit smaller"
3324400,3325840," uh"
3325840,3332480," all right so it works let's let's make it five"
3333200,3336480," so i want the spout to clip"
3336480,3344720," but only like a tiny bit of it yeah there should be no such weird bugs"
3344720,3353040," why do we have such weird bugs it's it's a mystery it's truly a mystery for us it is truly a mystery"
3357360,3361200," yeah this is by the way the original size so the clipping planes of"
3361200,3369600," it's actually really cool"
3369600,3376880," yeah if you look inside of the spout we don't have any of this"
3379040,3386880," uh i wonder if some of the weird stuff starts to happen when uh some of the points become like"
3386880,3389600," literally negative or something like that"
3389600,3397360," uh you can see the spout goes inside of the pot yeah you you can but that"
3397360,3402400," doesn't shouldn't cause any any problems it's actually kind of interesting like i actually knew"
3402400,3408080," about that uh before it's like part of the model right the spout actually goes inside of it it's"
3408080,3412160," just like clipped into that um so that's actually pretty cool"
3412160,3422640," we rarely see this uh teapot from the insides"
3424240,3430400," man the clipping plane works so cool and what i like about clipping like that is that"
3430400,3437760," since we work on the level of pixels it just works automatically right uh it just works"
3437760,3443760," automatically you don't have to do any weird uh geometry or anything like that it's just like"
3443760,3449200," yeah it works automatically so that's kind of it's kind of cool um"
3451520,3460160," but let's actually try to imagine what's going to happen if one of the z's become negative right"
3460160,3469760," one of the z's become negative what is going to happen uh all right so i would do plus one but it"
3469760,3480640," ends up to be negative anyway uh all right so here is the 3d 2 2d in here we will divide x and y"
3481360,3489920," by negative value which will make this entire thing negative as well right which will make this entire"
3489920,3500640," thing negative as well uh okay so after that uh here is the screen um and these things are negative"
3500640,3510160," and we're projecting them onto here and we may end up with things that are like way outside somewhere there"
3510800,3522320," right way outside there uh and which may result in something really weird eventually"
3522320,3533280," um yeah i have a feeling that basically this kind of happens when uh some of the z's are literally"
3533280,3547680," negative right right we can maybe even test that's right v1 z greater or equal than zero v1 v2z v3z"
3553520,3558000," okay so we don't have a third let's let me actually quickly include a third"
3558000,3569520," okay so as you can see here none of them uh becoming negative so everything's fine which is nice"
3570640,3579520," uh all right so and we are a certain specifically the already no no no no no no no no no no"
3579520,3588400," maybe i was thinking that we already are certain projected values but projected boys don't have"
3588400,3592720," negative z's at all um okay let's let's actually keep it like that"
3594720,3607280," uh um so let's now go to the build script to the build script uh and let's start making this entire"
3607280,3608320," uh i think a bit bigger"
3608320,3624720," okay and this shot started to happen literally when the spout went towards us and okay so i'm gonna"
3624720,3631120," actually disable the assert uh maybe i'm gonna actually make the assert so it just spams in the"
3631680,3637280," in in in the chat not in the chat but in the log uh right so let's actually put something like uh if"
3637280,3646560," all right if this thing is less than zero which is rather interesting so zero z should not be equal to"
3646560,3657840," zero by the way uh right because we are dividing by z so that's quite important and you can't divide"
3657840,3666400," by the negative failure otherwise you're gonna have a really bad time uh right so print f uh and um"
3666400,3668640," alarm"
3668640,3674960," yeah something like this let's put it something well i mean it's kind of becoming"
3674960,3679120," already obvious what's going on in here right so it's kind of becoming already obvious"
3679120,3684480," it's kind of funny isn't it when as soon as we start"
3687280,3692400," no"
3692400,3693440," okay how can you hear me"
3693440,3697840," we back two back"
3697840,3700400," all right"
3700400,3706720," okay let's give it a try i think"
3716720,3723920," okay"
3723920,3728800," okay so that's cool"
3728800,3733840," um"
3733840,3738800," how can we fix this because this this is kind of an interesting question"
3739600,3742240," um um right this is kind of"
3742240,3746000," i don't know how we're gonna fix that"
3746000,3747280," so"
3747280,3755920," but at least we already know the root cause right the root cause"
3755920,3760400," let's imagine the situation"
3762000,3768320," i want to redraw this entire thing one more time let me actually pick this stuff"
3768320,3773600," and there we go so this is gonna be z"
3774640,3777040," this is why and this is why and this is i"
3777040,3782400," this is one which is the screen"
3782400,3787520," screen screen screen"
3787520,3790960," so this is two this is a far clicking plan"
3791760,3798480," imagine that we have a triangle uh the z will the z will the z will the z value"
3798480,3808160," the z value of which is uh negative right so one of the things like goes away"
3809840,3815600," and it goes like this right it kind of goes like this and this is something that i was afraid of"
3815600,3823280," that will have to do uh so essentially sucks uh it sucks so much"
3823280,3831040," essentially how can we render because we should avoid even touching like these things"
3831040,3839200," right we should avoid even touching these things um so we need to split this triangle into this stuff"
3839200,3843840," right and now we have to split this into two separate triangles or something like that"
3843840,3849040," yeah like this and draw them separately"
3849040,3852320," you know what i mean"
3855440,3862800," because if one of the vertices of the triangle goes below zero we can't just you know throw away"
3862800,3868880," the entire triangle we can't just throw away it right because it could be still visible right just"
3868880,3874720," because one of the vertex kind of touches this entire thing uh right so we have to really handle"
3874720,3881120," this entire shit geometrically we really have to handle this shit geometrically and since we're"
3881840,3887440," kind of going into the business of handling the shit geometrically why can't we just do that right here"
3887440,3893040," right so like why not just do it right here and just throw away this entire thing and just like"
3893040,3900400," draw it like this then um so if we're gonna go into that business of things"
3900400,3908000," uh but it feels like this is something that we have to do right so it feels like this is something"
3908000,3911520," we have to do otherwise we're gonna get this kind of stuff right"
3911520,3924960," how will we handle the rainbow texture when it's two triangles should you just interpolate right"
3924960,3934880," so when you have when you know this point you know how you know it's very centric coordinates right"
3935680,3943920," so usually by rainbow texture you probably mean the um color interpolation between the vertices"
3943920,3949280," right so essentially the way you make a rainbow triangle is that you associate each an individual"
3949280,3956720," quarter uh each individual vertex with a color then while iterating through all the points on the triangle"
3956720,3963280," you calculate their barycentric coordinates which tell you how close it is to each individual vertex and you"
3963280,3969840," use the barycentric coordinates as weights to interpolate the cause between three colors right so you compute"
3969840,3975280," like the average of these three colors according to the weights of barycentric coordinates right so"
3975280,3982000," and essentially what you can do when you split it into in three triangles you can uh compute the resulting"
3982000,3988880," color for that specific vertex and you can associate that color with that vertex in the new triangle and you get the"
3988880,3993440," same result right so all the information is in there is that what you mean i suppose that's what you mean"
3993440,3995440," um right"
3995440,4010160," so yeah but i'm still looking for something easier than that i'm really hoping to find something easier"
4012400,4018960," um all right so how can we do that we can effectively um"
4018960,4025840," project this thing onto the screen can we"
4025840,4027760," huh"
4027760,4036640," we already are kind of computing the projection and this is what we get"
4038320,4044000," right we already are kind of computing the projection and maybe this is what we have to do at the end of"
4044000,4045280," the day um"
4045280,4052560," oh not really so essentially we have to pretend that this is the eye"
4052560,4057440," but again so we're starting to have a lot of like situation when it's"
4058080,4062000," it's kind of weird you know what i mean when it's kind of weird"
4062000,4071760," ideally i would like to have something like this where i could just put a single condition and it just"
4071760,4077680," works automatically you know what i mean uh right i just like want this thing to work out automatically"
4077680,4082000," i think that will be kind of cool so where is the no build so this is no build"
4082720,4085840," where is the asset building uh asset building"
4085840,4090560," so let's put four in here right"
4090560,4096480," so if we do it like that it just works out automatically without me doing anything"
4096480,4101760," uh that would be kind of cool what's interesting is that when z is negative"
4101760,4109120," you end up with negative x and negative y in the projected space right which is somewhere"
4109680,4125520," here in the left top even if the value has to be somewhere here there right"
4136320,4144960," what i'm thinking is that what if i just say it"
4144960,4156400," and just do it like that"
4156400,4162080," that's an interesting idea"
4165840,4169520," so what what kind of results are we going to get what kind of results"
4169520,4175360," a second"
4175360,4180240," this is actually not bad"
4180240,4184400," we mirror in them"
4184400,4193840," we mirror in them and we get values on the screen but when we're interpolating we get negative values that"
4193840,4197040," we can use for clip uh far and near clip stuff"
4197040,4203440," this is kind of cool you will be able to see stuff behind you exactly"
4203440,4211360," but we can preserve the original z values while while we do the z checking which will end up"
4211360,4215280," cutting off or culling those pixels"
4216160,4220960," but it will keep the projected coordinates the screen project coordinates within the screen without causing"
4220960,4224080," negative like oh like blowing up this is theory"
4224080,4227120," this is at least theory"
4227120,4231040," but this is an interesting idea i like that idea"
4231040,4238000," okay so there is a little bit of a problem with like zero and stuff like that but i'm not quite sure how to"
4238000,4246320," handle it so essentially i feel like this kind of stuff has to be done within the project 3d to 2d"
4246880,4249920," do you know what i mean uh somewhere here"
4249920,4266480," uh this exact math definitely um breaks at z equals zero because of this"
4267680,4272240," but it right now it definitely breaks even if it's negative so let's actually test it"
4272240,4282400," whether it's negative or not uh let me try to do if v3 z less uh less than zero let's do v3 z"
4282400,4291360," equal uh negative right let's try to do that and see how much it changes"
4293280,4299200," all right so this is without negative z's this you can't see that but i mean yeah so this is without"
4299200,4308320," negative z's so let's introduce some negative z's by making the teapot a bit bigger let's make it a bit bigger"
4308320,4316960," there was a glimpse of something but i suspect that that glimpse was because of zero value"
4318480,4325840," you see how it works out it works out precisely uh because i keep negative values while interpolating"
4325840,4333440," so yeah i think i i think we fixed it okay i'm sorry like so here's the result"
4333440,4344160," i think we fixed it look at that look at this mother flipper we fixed it this is this is it i think this is"
4344160,4351040," literally it's i don't like that okay so there's some problem with uh equal zero but i mean it's not"
4351040,4359360," that often so it's gonna end up with just infinity and it's just like whatever i suppose uh at least"
4359360,4371360," here it doesn't really cause that much problem"
4371360,4384560," what i wanted to do i want it to also do the following thing so this is one over one right"
4386400,4394560," this is one over one and this is one over two uh one uh over two so the reason why i'm doing that"
4394560,4404240," explicitly uh right so let's actually put it like this so near is one far is two and i'm gonna like"
4404240,4415040," literally put them in here so this is near uh this is far near and far uh what if i make this stuff a bit"
4415040,4422480," closer and this stuff a bit further so now we can kind of kind of control these things can we i think"
4422480,4428880," that i think that's what we can do chat i think that's what we can do yo that's super cool i'm really"
4428880,4435280," happy that we're getting somewhere with this bug uh right because it was kind of annoying but i just"
4435280,4439440," didn't have time to address it"
4439440,4448960," uh that sounds like counter strike where they basically build maps far removed from zero zero zero"
4448960,4452640," because of the weird box so i mean it sounds sounds good to me i mean why not"
4456560,4463520," it's one solution uh but another solution is to maybe just basically remap all of the coordinates"
4463520,4471120," like in in some engines that are trying to make it comfortable for users what they can do is that"
4471120,4478480," do all the calculations actually far away from zero zero but store data close to zero zero you know what i"
4478480,4486240," mean i mean who said that you cannot when doing all of the uh you know tricky computations you can just"
4486240,4492080," basically move everything far away from zero zero do all the computations and and then bring it back when"
4492080,4501280," presented to the users so you can do this kind of stuff why not um but i don't really know how uh like"
4501280,4505760," modern engines do that i'm not an engine developer i'm not a game developer i'm not even even computer"
4505760,4512560," graphics developer i doubt that i'm even even a developer to be fair uh i'm just a post on twitch"
4512560,4520640," just three and math so dividing by zero doesn't break you can probably do that but you'll have to"
4520640,4528400," reinvent everything around that just a humble philosopher exactly oh that's why somebody was"
4528400,4532080," asking whether i have a philosophy degree or something right"
4532080,4543440," imagine a computer scientist and getting a philosophy degree and co and then calling yourself a doctor"
4543440,4547280," insanity literal insanity"
4547280,4551840," anyway"
4555600,4562080," is biscuit still around i don't know i haven't followed his video lately i hope he is he's doing"
4562080,4562480," some cool"
4562480,4569920," uh has been doing at least what what am i doing by the way i forgot"
4569920,4580160," um yeah i wanted to see what's gonna happen if we change the uh near and far yeah that's what i wanted"
4580160,4586560," oh my oh this is so satisfying look at that"
4586560,4598640," oh this is such a cool demo it like clipping it it works it works you know what i wanted to do"
4598640,4605840," chat i actually want the near clipping plane to be as close as possible so you can do some cool"
4605840,4616480," shit um all right let me see i'm not in the model 3d here okay let's actually put this stuff like this"
4616480,4621280," is going to be three and this one let's put like one zero one and see how it's going to work out"
4621280,4630560," uh yep yep so you can be very close so we we saw some glitches probably because of equal to zero so i can show you"
4630560,4640800," well it wasn't that glitchy to be fair okay anyway so the next thing i want to do"
4640800,4647200," i want to make uh the teapot huge let's actually take its original size of one"
4647200,4651920," right let's let's keep it at one and we're inside of it"
4651920,4658880," we're literally inside of this and i think well we can do something like five to make it even bigger"
4659920,4666080," uh just to see what's going on in there uh okay so i think it's too big all right so let's make it"
4666080,4672080," like two so one of the things i really wanted to do is to just like make it so we can see inside"
4672080,4682160," of the of the thing okay so we can try to control the near and far stuff so let's actually make it 25"
4682160,4691200," but make this thing a little bit too like like much far much further uh yeah maybe we should actually"
4691200,4697520," disable shadow yeah i think that's one of the things we can do we should disable the shadow"
4697520,4705120," uh so the shadow is done in here so let's go ahead and disable it just to see how it's gonna go"
4706560,4712400," yep yep yep yep let me go it needs a flashlight holy okay"
4712400,4722800," so there should be some sort of like a shadow but i don't know it"
4722800,4732640," how to say that it becomes too shadowy very quick if you know what i mean it becomes too shadowy very quick"
4734160,4742320," uh and in here we're doing minus one and maybe what we have to do"
4742320,4749440," yeah so this is because it's too big all right so we can do minus one and then we can divide by"
4749440,4757520," far clipping plane interpolating that value yeah interpolating that value far so it can actually"
4758160,4764480," um produce a better lighting or shadowing so it's more of a like a shadow rather than lighting"
4764480,4770320," yeah we can kind of control that but it's kind of like difficult to look at"
4770320,4777760," if you know what i mean right so if i put three in here so maybe it's gonna be a little bit uh yeah"
4783280,4788160," that's kind of cool that we can see inside all this entire stuff but at the same time it's kind"
4788160,4794480," of difficult to look at right all right so we figured out what was the problem with this thing right"
4794480,4803280," uh so and the only thing we needed to do in here is when we dividing and projecting is just to uh to"
4803280,4811760," negate the z if it's negative right so uh so what we're gonna do when z is equal to zero right so that's"
4811760,4819040," very interesting question so z is straight up equal to zero what do we do about that um i don't know"
4819040,4829040," so far it doesn't really cause that many problems right so maybe i'm gonna actually leave it as this"
4829040,4835920," because like i don't have a like right away answer what to do when z is straight up equal to zero um"
4837520,4846080," add a very small number i get maybe that's one of the things we can do um handle situation when uh"
4846080,4855440," v3 z is equal to zero when you put a very small value yeah so essentially we can do something like"
4855440,4863120," this v3 z straight up equal to zero right or maybe let's put it this way the absolute value well it's"
4863120,4868640," already absolutely we can keep it like that it's smaller than a certain epsilon right it's smaller"
4868640,4874080," than a certain epsilon and in that case uh we can just add that epsilon"
4881200,4889760," so and we can just define this epsilon 1 e minus 6. is that a good idea what do you guys think i think"
4889760,4891120," that's a reasonable idea"
4891120,4902400," it's like yeah sort of and it's gonna be it's gonna be behind the near clipping plane anyway so during the"
4902400,4908720," computation it's gonna be cut off right so all of that is just needed for i suppose stability so it"
4908720,4916080," doesn't uh produce the inf value of float so it doesn't ruin all the computations i guess that's the reason"
4916080,4923440," why we want to do that um like that kind of makes sense um so"
4929440,4941360," that's cool uh so near far and now uh i want to bring back the original sort of values right so assets"
4941360,4954960," uh assets assets so i don't know what it was so i kept the cup as it was and the teapot was zero zero four"
4955440,4963280," right there we go so this is zero four um so this one yeah this doesn't have to be equals"
4963280,4972080," all right so that's what we have so did it actually cut a little bit i think it did"
4977840,4982880," you can you can you can clearly see that it actually cuts yeah this is in size of this of this thing"
4982880,4989840," right so we probably have to uh make it a little bit closer right so let's actually put like one"
4989840,4996640," uh bearish tangent coordinates yes we're using bearish centric coordinates that's true"
5003040,5016400," this is how we compute them"
5016400,5028480," so all right so we probably don't need this key down stuff anymore we can remove that uh so none of that is"
5028480,5028960," this is important"
5028960,5040240," implement near far clicking plane so there we go that's pretty cool uh let me now go ahead and"
5040240,5044640," rebuild everything uh let's go ahead and rebuild everything so"
5044640,5055040," i'm gonna keep doing the new way of doing things so vc is not needed anymore so the whole fix"
5056320,5064000," surprisingly well this is not part of the fix this uh was caught accidentally the whole fix is first of"
5064000,5070560," all fix the projection 3d to 2d right so when z becomes negative just you know make it positive and"
5070560,5075200," if it's less than epsilon just add a little bit of epsilon so it doesn't cause the division by zero or"
5075200,5081200," something like that right and then just introduce a near and far clipping plane and compare them in inverted"
5081200,5086800," uh so here we also divide by three but this is to actually let the lighting to go further"
5086800,5091600," so it was not in the original uh demo so i think i'm gonna actually bring it back"
5091600,5097280," so it's kind of cool the original lighting is actually works better in my opinion because it goes further"
5097280,5101520," right i think we can even um"
5103440,5113440," so this was division by three but what if i multiply this thing by two making the shadow even"
5113440,5119120," closer so by by modifying this thing we can actually control how close the shadow is"
5119120,5124000," so this thing is going to be a little bit more shadowy if you know what i mean we can multiply it by"
5124000,5131520," four now so it becomes even more interesting well it's it actually makes kind of a sharp edges for the"
5131520,5138880," shadow so what i'm trying to do actually trying to bring it close i wonder if i can do that good enough"
5138880,5145760," something something non-linear is happening here so i'm not gonna play with that anymore i think the"
5145760,5155760," original shadow was fine uh i think the original shadows okay so and this is basically the entire"
5155760,5162960," fix i'm actually surprised so i guess the main problem was like with this stuff okay and it's"
5162960,5168080," cool that we actually understood the problem uh all right so let me go ahead and like rebuild the entire"
5168080,5178480," stuff like everything from scratch oh shit damn i forgot that i don't have a cert in web assembly right"
5178480,5187840," so when we're compiling to web assembly we don't have a lipc right so anything from the c is just not gonna work"
5195360,5201360," does olivc have quaternions for rotation no it doesn't have a 3d 3d is implemented outside of olivc"
5201360,5212160," um so but i think i'm starting to think how to move some of the 3d stuff inside of olivc so it's"
5212160,5219840," available for everyone uh okay so let me now uh maybe run some tests let's actually run some tests"
5220880,5230480," tests"
5230480,5230720," okay"
5230720,5236880," okay so i actually want to refresh the cache as well"
5236880,5242880," so let's do control r just in case"
5244720,5245280," have a ring"
5245280,5249760," seems to be working seems to be working seems to be working"
5249760,5254080," that's a big cup"
5254080,5262480," i mean what caused the cup to be so huge"
5266480,5270160," because i set the scale of the cup to one"
5270160,5277840," okay that's very interesting so it should not affect the scaling"
5277840,5283840," that is really weird all right so let's rebuild now the demo then"
5286080,5294800," no build demos uh cup 3d actually all all the things all the platforms was in terminal nsl"
5302800,5309520," hmm what changed though"
5309520,5313120," okay it copied it"
5313120,5321120," is that because of what we changed"
5324640,5330320," i can't believe that what if i run some other things red build demo cup 3d sdl"
5330320,5331760," yeah"
5331760,5338800," is that really because of the things we changed i don't think we changed that much"
5338800,5339200," do we"
5339200,5347280," okay what if i stash that stuff and i rebuild this thing one more time"
5351280,5353760," and then i run the cup one more time"
5353760,5357040," it is still big"
5357040,5359680," what is going on"
5359680,5363840," it wasn't this big before"
5363840,5368000," magic"
5368000,5374320," always has been i don't think so but we can always just make it you know"
5379040,5380080," this is not what i want"
5380080,5392560," did i just lose okay so i just lost all of the changes"
5392560,5400320," well kind of all right i still have them saved"
5400320,5408880," yeah i still have been saved uh i didn't lose them i have them saved in in the buffer so"
5408880,5412320," everything's fine close call yeah exactly that was close call"
5412320,5416080," uh yeah so let's actually commit everything um"
5416080,5419120," very quick so we don't we don't forget"
5419120,5423280," um implement near far clipping planes"
5428000,5443120," implement and then we push that right here we didn't have yes yes yes everything seems to be fine"
5443120,5452320," everything seems to be fine uh but the fact that it just looks different now is so sus because if i just go"
5453120,5459600," and like literally go one commit before and rebuild the demo cup 3d"
5459600,5465200," i'm pretty sure it wasn't that big before am i tripping"
5465200,5470480," i remember it was way smaller"
5473200,5478800," okay okay let's take a look at the build processing"
5478800,5484000," okay so everything is built correctly"
5484000,5492160," this is probably because we need to regenerate the assets"
5492160,5498240," that's right i forgot to regenerate the assets that's what happened and if now i rebuild the demo"
5499280,5506480," of course that's why you have to use make files right uh yeah there we go so that that's the the original"
5506480,5513120," size i was hoping for that's the original sense cool so let me go back"
5515760,5521280," uh-huh how do we go back i want to do master"
5521280,5525520," i don't rebuild everything"
5525520,5537120," so it also rebuilds the end stuff"
5539920,5544480," okay okay so we're already streaming for two hours i suppose so maybe i'm gonna call it a day"
5544480,5551600," so today was rather productive stream we implemented the far near uh clipping planes"
5551600,5558080," right and it worked out exactly as i as i wanted to work out so i'm super happy about this entire stuff"
5558080,5560880," i'm super happy"
5565520,5570240," um is there a function in no build script that recompiles everything generating assets too yes"
5570240,5576880," i just run it and it just worked okay so that's it for today boys and girls that's it for today"
5576880,5584080," thanks everyone who's watching right now i really appreciate it have a good one and i see you all uh"
5584080,5589520," next time next time i'm gonna do something else i suppose all right love you"
5595520,5600720," um"
