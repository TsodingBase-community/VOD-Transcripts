start,end,text
0,6060," Hello everyone and welcome to yet another recreational programming session with Ahu Amista"
6060,11980," Azorzin. So we continue working on this game and one of the things that we're currently doing"
11980,18760," with this game, we are rewriting it in WebAssembly, right? So we're kind of in an interesting"
18760,26000," situation where half of the game is written, specifically Renderer, in TypeScript, right? And"
26000,31080," half of the game is written in C3 and compiled to WebAssembly. And it's kind of interesting,"
31080,38900," how can you have a renderer that is partially written in TypeScript and partially written"
38900,50720," in WebAssembly? Yeah, by the way, 60 FPS. So WebAssembly is working, apparently. So WebAssembly"
50720,56600," is good. So, and how can we have this situation where half of the game is written in JavaScript"
56600,61960," and half of them written in WebAssembly? Like, how do they render things? So the way it is"
61960,71280," rendered, it is rendered into WebAssembly memory, right? Even JavaScript part of the game renders"
71280,77440," into WebAssembly memory. So the canvas into which we render things pixel by pixel is located"
77440,83160," within WebAssembly. And that's how we do that. So, and we are kind of in the middle of taking"
83160,87680," the code, reading in JavaScript, aka TypeScript, it doesn't matter, the same shit, TypeScript"
87680,94560," is just a preprocessor, and just slowly moving into WebAssembly, very slowly and very carefully"
94560,101160," without breaking the game. So I want it to be like a smooth process that doesn't really break"
101160,107120," the game. And because of that, we have a lot of, like, weird things where we have huge functions"
107120,112020," that accept a lot of arguments, right? So I can even show you this kind of situation, I think."
112020,118340," So we have an interface called wasmclient, and it's pretty nasty, right? So it is really freaking"
118340,124400," nasty. So look at these functions that accept a lot of, like, arguments. And all of them are numbers,"
124400,129960," right? All of them are numbers. And these functions are calling to the code in WebAssembly. And the reason"
129960,138200," why they accept numbers is that you can only pass numbers to WebAssembly. Yeah, so if you didn't know"
138200,143880," about that, you can pass only numbers. But you probably, maybe you're using some sort of a language,"
143880,150220," high-level language, and some sort of framework where you can pass complicated things to WebAssembly."
150220,156420," And because of that, you're thinking, I'm some sort of a moron. Well, let me tell you, that is"
156420,164260," probably abstracted away. On a lower level, WebAssembly can only accept numbers. And that's it."
164260,172640," It can't accept through the arguments anything else. Anything else. If you want to pass something more"
172640,178180," complicated than numbers, like, for example, a structure, what you have to do, you have to place"
178180,183860," that structure to WebAssembly memory, right? And to do that, you need to understand how WebAssembly"
183860,189620," memory works, right? Because it's just an array of bytes. So you need to know how to encode that"
189620,196180," structure in WebAssembly. And the only thing you can do, you can pass an address to that structure"
196180,202320," as a number. That's the workaround you do in WebAssembly. And if your magical high-level language"
202320,209080," with huge overbloated framework just allows you to pass structures, I have bad news for you. All of that"
209080,215900," nastiness is just simply abstracted away from you. It is simply abstracted away from you. So to not bother"
215900,222300," you. Right. But here, we're doing a real software engineering. Right. So, because, because, listen,"
222300,228220," listen, you may argue, like, why are you using this low-level stuff if you can just use this"
228220,236060," higher-level stuff and save time? Well, guess who wrote that low-level stuff that saved your time?"
236060,244860," Who wrote all of that? You think it just magically appeared on NPM one day? No, somebody had to sit down"
244860,251260," and write it for you. Because you can't do that yourself. And guess who did that? People like me."
252220,256620," crazy nerds like me do that. Thank you very much."
256620,260780," Anyway, I'm sorry. I'm joking."
260780,267980," Cheers, by the way. So, I have nothing against using high-level frameworks. Just saying,"
267980,268860," I'm just joking wrong."
272140,277580," So, anyway, here we're just doing recreational programming. And in recreational programming,"
277580,282780," I kind of like to just do things for the heck of it. Right. So, just doing things for the heck of it."
282780,289180," Right. So, and essentially, right. So, we can only pass numbers. And we need to pass complicated things."
289180,293980," And that's why we have a lot of arguments. Some of these arguments could have been actually passed"
293980,301420," as structures. For example, it would be kind of nice to grab these three things. Like display. I'm"
301420,306780," not sure if you can see that. Like display, display width, and display height. And just combine it into"
306780,313980," a single structure. Right. That would be nice. But the thing is, this is the thing that is also used"
313980,321660," in JavaScript. It is also used in JavaScript. And that means that we need to have a structure that is"
321660,328460," both accessible in JavaScript and WebAssembly. So, that means JavaScript part that is using that structure"
328460,334220," needs to manipulate bytes of the WebAssembly memory, which is not particularly convenient. So, it's just"
334220,339260," easier to pass this thing as three numbers. Right. Because I don't want to be dealing with offsets"
339260,343900," within the structures, especially C3 structures. I don't really know how C3 structures work. They"
343900,348060," probably work like C3 structures with some padding. I want to be dealing with that. I don't want to be"
348060,354140," dealing with that. Because of that, I just like pass all of these structures as arguments. Right. So,"
354140,359980," I just take the structure and spill it over the arguments. Right. So, that's basically what's"
359980,364380," going on in here. But what's interesting is that eventually all of that go away. All these functions"
364380,369980," are going to be tucked into WebAssembly, where we'll be able to actually use them properly and pass"
369980,377660," structures properly. So, we just have to grind through that. We just have to grind through that. Right. So,"
377660,386060," sometimes in software development, you just have to grind through the things. So, anyway, we already"
386060,395740," rewrote rendering of walls and floors and ceiling to WebAssembly. Right. So, basically, everything you see"
395740,402940," right now on the screen is already rendered in WebAssembly. Like, everything. Seriously. The only"
402940,410300," thing that is not rendered using WebAssembly is sprites, like bombs and also, you know, particles"
410300,416300," and stuff like that. And this is probably the last thing in the renderer that we'll need to translate to"
416300,425660," WebAssembly. Right. That's the last thing that we need to translate to WebAssembly. And I suppose that's what we're going to be doing today. Right. So, we're going to be translated to WebAssembly. The ability to"
425660,431900," render this sort of like pictures that are facing constantly to you. Right. They're constantly"
431900,440700," facing to you. All right. So, let's go ahead and freaking do that. Let's go ahead and freaking do"
440700,447500," that. So, we've got some subs. Thank you so much, Philippe version 2 with a message. Cool. Cool indeed."
447500,454620," Thank you. Thank you. Thank you. Thank you. So, all right. Yeah. How are we going to be doing all of"
454620,462300," that? So, what we're doing, we have a sprite pool. Right. So, we have an interface sprite pool, which is"
462300,468860," simply a collection of sprites. And a sprite, if I'm not mistaken, is a structure. Right. So, it is,"
468860,474860," in fact, a structure that has an image. And was an image. It's just a pointer width and height. Honestly,"
474860,482540," that thing. Right. I said, could have been a structure. Let me actually find this. So, display."
482540,488700," Yeah. So, these three parameters. Display, display width and display height. This is basically them."
490540,496620," This is basically them. So, eventually, maybe this sort of thing is going to become sort of like a C3"
496620,503020," structure at some point. But not right now. Right. But eventually. So, this is basically the structure."
503020,510860," And I feel like we need to just start by moving this structure into C3. Right. So, this should become"
510860,518060," a C3 structure. Let's go into the client C3. And I'm going to just literally copy-paste this. And I think"
518060,523420," right in here. So, obviously, we don't really have interfaces in C3. Actually, we do have interfaces"
523420,530300," in C3, if I'm not mistaken. Right. So, but they kind of mean a different thing. Right. So, let me find examples."
530300,538540," So, the website of C3 is actually kind of good. It's actually kind of good. A good website is one"
538540,547660," thing C3 did right. Because remember that. I'm not sure if I... Okay. So, if you ever visited a Neo"
547660,556700," Vim. Neo Vim website. I just realized that. This is so fucking funny. So, let me actually open it."
556700,562220," So, there's impressions on a Neo Vim website. And one of the impressions at the bottom."
562220,569100," A nice looking website. That's one thing Neo Vim did right. Do you guys know who is Bram?"
569100,573100," Do you guys know who is Bram? Bram is the creator of original Vim."
574620,582460," So, yeah. Basically, on one of the interviews, Bram was basically dismissing Neo Vim. I was just like"
582460,587500," another fad. Right. So, it was just like, it's never going to replace Vim or anything like that."
587500,592860," But nice looking website is just one thing they did right. Right. So, and the Neo Vim kind of like"
592860,601100," responded to that by putting that quote in here. Right. And it kind of reminded me. So, C3 has a really good"
601100,608780," website. And a good looking website is one thing C3 did right. This is so good. It's kind of sad that"
608780,612140," he died recently. So, rest in peace, Bram. But I mean, it's still kind of funny."
612140,619420," This is like beef between the original Vim creator and the Neo Vim creator is just like translated on"
619420,626380," website. And it's just like... Just like, you know, trash on each other. We like that. We like that."
629740,637420," So, yes. So, but yeah, maybe that's indicator that C3 will make... Maybe. Right. So, the website is very"
637420,645660," ergonomic. And Lerner, I think he actually like puts a lot of attention into the website. So, and that's"
645660,652540," how people judge languages. Right. So, by the website usually. And it's like a thumbnail in the video."
652540,658220," Right. So, thumbnail and title are the most important parts of the video. Because if people didn't click on your"
658220,662460," video, it doesn't fucking matter how good your video is. Nobody's going to watch that anyway."
662460,665740," So, it's the same with the website. It's a thumbnail to a language."
665740,673340," After all, Neo Vim is basically the Vim now. I don't know. I still use Vim. I kind of find Vim more"
673340,681180," responsive, honestly. I'm sorry. The thing is, I like... I don't... When I use Vim, I don't need a"
681180,689740," like a full-blown ID. I just need a simple editor. Right. And Vim, original Vim, is okay as a simple"
689740,697500," editor. So, I just like... I just use it. Right. So, one thing I like about Vim is just like the"
697500,702220," responsiveness. Right. So, how quickly it responds to the key phrases. So, I keep using Vim."
705660,712380," And have you seen the Vim website? It's the most based website on planet Earth. I'm fucking telling"
712380,720860," you. Look, look how based this website is. It's straight from the zeros. Like, Neo Vim website"
720860,725100," can't compete with that shit, honestly. Like, you can't compete with this web. This is a peak"
725100,734300," performance website. So, honestly, I don't know what Bram is about. Right. This website is way better than..."
734300,743020," Yikes. Now, that's a based website. Look at that. That's a based website. Straight from the 90s. Yeah,"
743020,749900," probably. Anyways. So, it does have interfaces. But the interfaces can mean a different thing. They're"
749900,756940," kind of like a Go interfaces, if I'm not mistaken. Right. So, interface. Any. And yeah. So, it's kind"
756940,765820," of like... It even has any. Right. So, this is not what it means. And honestly, I think the legacy"
765820,773980," legacy mode for Emacs doesn't even highlight this interface thing, unfortunately. Right. But anyway. So,"
773980,781820," this has to be a structure. So, okay. We don't really have an image in here. I'm thinking, what"
781820,791340," if I just, like, go ahead and introduce a notion of an image. An image is going to be just, you know,"
791340,797180," like a color, pixels. Right. So, this is the pixels that we have in here. And then we're going to have,"
797180,802140," like, a width and a height. Right. So, that's what we're going to be doing in here. Right. So,"
802140,808220," we have an image in here. Okay. So, now we have a position. Right. And it's a vector 2. But we also"
808220,815500," have z. Maybe we should introduce something like a vector 3 and, like, tuck z in there. So,"
815500,820860," do we even have vectors there? So, in the common in here, we have vector 2. So, I think one of the"
820860,826620," things we want to do in here is to actually replace 2 with 3. There we go. So, now we're going to have"
826620,831740," 3. So, scale is how scaled the entire thing is. Right. So, this is going to be just a float."
831740,839180," Crop position. Right. So, this allows you to make sprites out of the atlases. Right. So,"
839180,843420," in the atlas is basically a bunch of frames concatenated together. And you can say, okay,"
843420,850140," so, this sub image from atlas make a sprite out of that. So, that's basically what those parameters are."
850700,855500," Right. So, we probably want to actually do it like that. Right. So, this is going to be crop size and crop"
855500,862940," position and stuff like that. So, all of that is intermediate values that are generated during,"
862940,870700," you know, first phase of the sprite processing because we have a whole pipeline for processing sprites."
870700,877980," The game that uses the renderer, it just pushes the sprite into the sprite pool. But they need to go"
877980,885180," through the entire process of projecting them on the screen, calling them, sorting them and stuff like"
885180,891340," that. So, this is the values that sort of like used throughout these phases of the pipeline,"
891340,898540," right, of the sprite rendering. So, they are not really, you know, used when you define the sprite."
898540,903820," Right. So, basically, this is the actual distance from the eye to the sprite. And then we have a"
903820,909180," perpendicular distance, which is needed to get rid of the fisheye effect. Then we have a value from 0 to 1,"
909180,914060," which is a normalized horizontal position on the screen. Right. So, like a technical system things."
914060,921340," So, you do not specify them directly. They are just calculated automatically for you throughout the"
921340,929180," pipeline of the sprite rendering. Private members. Well, well, yeah. Technically, you may say this is a"
929180,936620," private member, but we are not in the OP paradigm. Right. So, we are not in the OP paradigm. We are in"
936620,940860," the based imperative paradigm. That's where we are right now."
940860,948460," So, anyway. So, we got this thing. And what if it's going to compile? So, let me go into the compilation"
948460,954780," script. In the compilation script. And let me straight up disable the TypeScript compilation. And I'm going to just"
954780,962700," go ahead and npm run build and see if it fails or not. Does this... Okay. So, this entire structure compiles."
962700,971980," So, we literally migrated this one single structure. This one single structure to WebAssembly effectively."
971980,980460," All right. And now I need to migrate sprite pool. Where is the sprite pool definition? I can't find it."
981260,988300," So, here's the sprite pool. Cool. So, it's an array. It's actually a dynamic array,"
988300,994860," but we're reusing the slots allocated within the dynamic array. So, because of that, I think in the"
994860,1003500," WebAssembly part, we want to make this array fixed. Right. So, we don't really want it to be dynamic and"
1003500,1010380," growing indefinitely. I think we should limit it to some value, maybe thousands of these sprites. Right."
1010380,1017660," So, I think thousands of the sprites is out to be enough for anybody. Right. So, and essentially,"
1017660,1021420," if you're trying to render more sprites, then basically not going to be rendered. Right."
1021420,1024860," So, we're going to just like, you know, drop them. The droppage of sprites."
1024860,1032860," So, fisheye. I once implemented 3D based on vanished in point and I was getting a very strong fisheye effect."
1033660,1038780," So, the idea of getting rid of the fisheye effect is the following. I can show you."
1038780,1043900," So, essentially, specifically for the ray casting. Right."
1043900,1047500," It's a specific report. What the fuck has happened?"
1047500,1056380," Right. So, essentially, you have an eye. Right. So, and you have a screen and you shoot in rays."
1056380,1063740," You shoot in rays like so. Right. And then this rays hit certain objects. And what you do,"
1063740,1072060," you're using the distance from the eye to the object to basically figure out the size of that"
1072060,1079100," object on the screen. That's basically the idea. But since the rays are shot"
1080460,1085180," in a sort of like a circular motion. Right. That creates the fisheye effect."
1085180,1092620," To get rid of the fisheye effect, don't use the direct distance. Use perpendicular distance. So,"
1092620,1100460," basically, take this thing and project it on the thing behind the eye and use that distance instead."
1100460,1105340," Use that distance instead. So, what it does basically takes the fisheye effect and just"
1105340,1110220," straighten it up. And this is how we get rid of it. And this is what we use, by the way, in here."
1110220,1117580," And this is, by the way, why in the sprite structure, we have both actual distance,"
1117580,1124460," the actual distance and the perpendicular distance. So, right. So, we use both for different phases,"
1124460,1128780," for different things. Right. So, perpendicular distance is usually used for, you know,"
1128780,1136140," getting rid of the fisheye effect. So, that's basically how we do that. So, make sense? Make sense?"
1137820,1144940," Hopefully, it does. All right. So, let's actually go to here. And yeah. So, I think what we want to do,"
1144940,1152300," we want to store this entire thing as well in here somewhere. So, this is going to be a structure."
1152300,1159260," So, in here, this is going to be just an array of sprites. Right. So, this is a sprite"
1160060,1164860," and this is the item. So, let's actually have something like a sprite pool capacity. Right."
1164860,1171180," And that capacity is going to be like a constant. So, where do we have all of the constants in here?"
1171180,1177740," So, let's actually say that this is going to be, this is not where I put equals. Let's go with 100 for now."
1178940,1183420," Right. Nice. Thanks for the commission. You're welcome. You're welcome. I actually stole that idea"
1183420,1192140," from the tutorial as well. It's not my idea. Right. So, the tutorial I stole it from is actually credited"
1192140,1203180," in here. Right. So, yeah. So, basically, this one. Right. So, there's like three or four tutorials in here."
1203180,1209180," And I stole this idea from this tutorial. I didn't take the entire implementation of this thing because"
1209180,1217580," this tutorial is kind of dense. It is insanely difficult to read. So, I rather just got inspired"
1217580,1223580," by the pictures and explanations. But the code itself is just like I had no use for it, unfortunately."
1223580,1230780," That's how dense and terse it was. Right. So, I'm going to put this thing in here for the description in case."
1232060,1239020," Picoma is also cool. As far as I know, Picoma's, you know, courses are paid, aren't they? Right. So,"
1239020,1244300," picoma.com. So, I'm going to promote his website."
1244300,1248380," Yeah. They're also paid. Right."
1248380,1256620," So, I don't know. Picoma, if you're okay sharing a little bit of money, I can put your website in the"
1256620,1260780," description of my video. It's actually not his name. It's a name of the platform."
1260940,1267100," But anyway. So, anyways."
1267100,1272060," That's why I started reading the fundamental book. I see. I see."
1272060,1278140," Let me see. Let me see. So, this is what I want to do in here."
1278140,1286300," Can I... What I'm thinking is that I'm going to create like an allocator for the sprite pool."
1286300,1291020," Right. So, we're going to have a function that returns a sprite pool pointer. I'm going to say allocate"
1291020,1298460," sprite pool. Right. So, we're allocating the sprite pool and it doesn't accept anything. So,"
1298460,1303820," this is going to be an external function with the same name. Literally the same name. And it's going"
1303820,1309580," to be a WebAssembly function. Wasm. And what we're going to do in here, we're going to just do mem new."
1310380,1318940," And we're allocating that specific type in here. There we go. So, and the idea is on TypeScript side,"
1318940,1323660," inside of the structure, we're not going to be storing these things. We're going to be storing the"
1323660,1333180," point. Yeah. So, that will cause all of the places that use the internals of the sprite pool interface"
1333180,1340220," within the TypeScript code to fail. And we're going to go through all of them and we will know what"
1340220,1346860," needs to be translated to WebAssembly. So, that's how we're going to go about, you know, doing all of"
1346860,1354780," that. If that makes any sense. All right. So, that looks all right. So, one of the things I probably want"
1354780,1360140," to do, I want to go into the interface Wasm. All right. And in here, I'm going to just add this"
1360140,1365420," allocator that doesn't accept anything, but it does return a number. Right. So, we updated the interface."
1365420,1372620," So, now we have this function in here. All right. So, I made a few modifications for the client MTS."
1372620,1379980," Right. So, specifically, yeah. I just removed two fields from the sprite pool and replaced them"
1379980,1385740," with the pointer which points to the address with WebAssembly memory that should store these things now."
1385740,1393660," That breaks a lot of code. That breaks every single place that used these fields in here. And this is"
1393660,1399500," from where we're going to start our compiler-assisted refactoring. Right. So, because all the places that"
1399500,1405500," are broken are the places that need to be moved to WebAssembly. Right. So, that's how we would do that."
1405500,1409500," Right. That's the good strategy. And that's one of the reasons why I use TypeScript. So,"
1409500,1416140," because with static typing, it is easy to use this kind of like compiler-assisted refactoring tricks."
1416140,1422060," Right. Makes sense? Like that? I think it does, in fact, make sense. So, thank you so much,"
1422060,1428380," pattywaxkikknack. Thank you so much for tier one. I hope probably no sneak name correctly. Thank you."
1428380,1435180," Thank you. Anyways. So, let's take a look at how many compilation errors we have in here. So, we have 26"
1435180,1441820," compilation errors because of that. Right. So, because of that simple change, we have 26 compilation errors."
1441820,1448540," And as I already said, sometimes you just have to grind through that. That's what you have to do. You"
1448540,1451820," have to grind through that. So, let's actually take a look at the first compilation error. How about that?"
1451820,1457740," So, yeah. First compilation errors is in the constructor of this sprite pool."
1458540,1468300," So, in the client C3, we already have an allocator. Right. So, we are going to accept wasm client in"
1468300,1477740," here. Right. So, and within the wasm client, we have allocate sprite pool. Right. So, that should create"
1477740,1484060," the pointer. And that is the thing that we're going to be returning here. Right. So, eventually,"
1484060,1489340," we're going to get rid of all these functions, but I'm going to just keep them because I think they're"
1489340,1495020," useful. Right. So, I don't want to break the code that calls to this function yet. Right. So, I want to"
1495020,1501260," keep the scope of broken code smaller. Right. It's still pretty big because we have 26 compilation errors,"
1501260,1507180," but I mean, it could have been bigger if I start breaking even more interfaces. So, now we have reset"
1507180,1513260," sprite pool. Right. So, in how many places it is used in a single place? So, maybe I can get rid of this"
1513260,1521020," function. But I need to move this function to C3, to web assembly. So, let's go ahead and do that. Right."
1521020,1527180," So, we're going to have something like a reset sprite pool. Right. So, this is a reset sprite pool,"
1527900,1540220," sprite pool. And obviously, it's going to be an external function, like so. So, bam, wasm. And so,"
1540220,1546460," resetting sprite pool, if we take a look at the definition of sprite pool, just setting its length"
1546460,1553740," to zero. Right. So, we're going to do sprite pool length equal to zero. That's it. So, now, what we have"
1553740,1559580," to do, we have to go to the definition of wasm.client. Right. So, this is wasm.client. And let's add this"
1559580,1565660," function in here. So, this thing turns into a number and it doesn't really return anything. So, now we have"
1565660,1572940," this kind of thing. Right. So, this is sprite pool. There we go. So, and in here, when we're resetting"
1572940,1580540," the thing, what we're doing, we're going to be accepting wasm.client, wasm.client. And maybe I should just"
1580540,1585100," like get rid of this function completely because it's used only once and I can just call this"
1585100,1591740," wasm.client directly anyway. So, who freaking cares. All right. So, next compilation errors. What's"
1591740,1594940," going to be the next thing? Okay. This one is interesting. This one is interesting."
1594940,1602460," Render minimap. Render minimap. Oh, yeah. So, we are rendering the minimap in here."
1604700,1607580," Maybe we should move rendering of minimap to a separate..."
1607580,1612460," Yeah. Minimap is actually kind of special."
1612460,1623580," Because unlike the entirety of the game, minimap is not rendered pixel by pixel."
1623580,1630460," Yeah. So, this entire thing, like everything you see right now, is rendered pixel by pixel."
1630460,1636060," Right. But minimap is not... We don't even use it anymore, but I don't really want to get rid of it"
1636060,1643100," yet. So, let me find a minimap. So, let's put... What the is going on? Okay. So, let me revert everything."
1643100,1650540," This is true. Right. So, and I would like to maybe npm run build and rebuild everything just in case."
1652460,1659020," Rebuild everything just in case. It is rebuilding. So, if I refresh this entire thing. Yeah."
1659020,1665900," So, it is not rendered into the same display buffer as the entirety of the game. It is rendered using the"
1665900,1676140," HTML canvas techniques and stuff like that. Right. So, but maybe I should actually rewrite it using"
1676940,1682700," like pixel by pixel. Right. So, because what kind of techniques do we use in a render minimap? Right."
1682700,1687980," So, here is the context, the canvas context that we use to render things. So, what are we doing here?"
1687980,1692300," We're just scaling and stuff like that, but it's needed to actually scale everything down to the"
1692300,1697820," size of the minimap. So, we fill rectangles. Okay. I can fill a rectangle myself pixel by pixel."
1698940,1704860," We draw lines. Right. So, but I suppose we only... Well, these are the thick lines. Right. So,"
1704860,1711020," this is a little bit of annoying. So, we fill rectangles. Do we do any text in here? We don't"
1711020,1716940," do any text. Right. So, the only thing we do in here is just like we're, you know, drawing rectangles and"
1716940,1722940," drawing thick lines. So, drawing thick lines is a little bit painful. Right. I'm not really sure how"
1722940,1729980," exactly we can do that. But drawing rectangles is super easy, honestly. So, and in here, this is a grid."
1729980,1739980," So, and grid uses only perpendicular, you know, lines. Right. So, they're either vertical or horizontal."
1739980,1746300," So, they're very easy to emulate using rectangles anyway. So, do we use a stroke line anywhere in here?"
1746940,1753900," Yeah. Well, we use them to denote the POV. But I mean, I can just command out this entire thing. Right."
1753900,1761340," And just like implement it later. Yeah. Yeah. So, this is exactly that. So, I do have angled lines"
1761340,1766860," for FOV stuff. Yeah. So, but it's actually such a small thing that I can just command it out for the"
1766860,1773020," time being and I put it to do in here. Just like implement it properly or something. Right. So, I don't"
1773020,1778620," really use Minimap that often, which probably means that I should probably remove it. But it's such a"
1778620,1783900," useful debug tool. Right. And I'm pretty sure I'll need it the next time I have some sort of a problem"
1783900,1791980," with the rendering. So, I think I want to translate the code to, you know, to WebAssembly. I think it's"
1791980,1797660," kind of important. Anyways. So, it accepts a lot of things. So, how are we going to be doing all of that? I"
1797660,1805900," want them. So, let me copy paste. Oh, yeah. We are in the wrong place. Uh-huh. So, this is that. This is"
1805900,1814860," that. And let me unstash my changes. So, these are my unstashed changes. So, client.mts. I'm going to"
1814860,1825420," revert the whole thing. Yep. I'm going to copy paste the whole thing into the C3. Right. And in here,"
1825420,1830620," what we're going to do. So, this is a render minimap. All right. So, render minimap. For the"
1830620,1837100," time being, I'm going to just comment out the body of this thing. So, and this is an external function."
1837100,1845660," External function, which is called render minimap. And it is an assembly, a WASM function."
1845660,1852620," Okay. Obviously, this function doesn't need WASM common. It's already inside of WASM. Canvas."
1853820,1860300," So, let's actually say that it's going to be rendering itself into a separate display. All right."
1860300,1868540," And that display is not the game buffer, but its own separate display for minimap that is probably going"
1868540,1873820," to be allocated with allocate pixels. Right. So, just like a separate thing. And then we're going to be"
1873820,1880300," combining it together when we're rendering it. So, that's basically going to be the idea, I think. Yeah."
1881260,1885020," So, that's how we're going to go about that. So, that means this thing should accept the display."
1885020,1891340," So, it's going to be color display. So, let me kind of have this kind of thing. Like,"
1891340,1899020," where do we accept this? Yeah, there we go. So, this is the triple. So, the reason why I'm okay"
1899740,1906220," with passing too many arguments is because I don't view them as separate arguments, honestly."
1906220,1910940," Right. When I see these three arguments, my brain ultimately kind of collapses them into a single"
1910940,1916700," structure. Right. Because I plan in the future to collapse all of these triples into a single structure."
1916700,1923500," But for the time being, it's easy to keep them as separate things. And that's why it is the way it is."
1923500,1929100," Sometimes I separate these sort of things into like lines, its own lines, to denote that, oh, okay,"
1929100,1936220," this is a single sort of argument that I pass in here. This is a single structure, the fields of which I just"
1936220,1944220," basically, you know, spread into the arguments. That's the way I think about it. And that's why"
1944220,1948620," I'm fine with a lot of arguments in here. Because I actually mentally kind of group them into the"
1948620,1953660," structures into which I'm going to refactor them later. So, does it make any sense? I'm not sure."
1953660,1959500," But I mean, that's how I view that. And that's why it makes sense for me. Right. For example, camera in"
1959500,1964540," here. Right. So, for the camera, I think we only need the camera position and the camera direction."
1964540,1971900," So, because of that, I'm going to do something like camera position also reduces intermediate"
1971900,1978460," bike shading and wrong grouping. Yeah, sure. So, because you can actually group arguments kind of"
1978460,1984940," differently. Right. So, you can kind of group them differently. And if you pre-group them, you kind of"
1984940,1990700," solidify a certain view on the architecture. You know what I'm talking about? Right. So, it's just like,"
1992220,1998380," it's kind of hard to explain unless you actually wrote like a lot of code like that. Right. It's"
1998380,2007180," the same why OOP is kind of like a huge waste of time. Because you're building these hierarchies,"
2007180,2013100," but you can actually build hierarchies differently for the same thing, for modeling the same thing. And"
2013100,2017740," depending on how you group things together, it's going to be different architecture. But ultimately,"
2017740,2021820," it's just like the same. And if you group it incorrectly, you're going to have a hard time"
2021820,2027980," then layering or factor in or something. So, it's kind of similar to that. So, yeah."
2029820,2038140," And the way OOP wastes your time, it makes you constantly think about what's the best way to group"
2038140,2041900," things together. So, then I'm not going to have problems later. But you're always going to have"
2041900,2049580," some problems somewhere later. So, it doesn't matter. Right. So, the camera direction. Anyway."
2050140,2057420," So, here I'm passing one display. One camera. Right. So, and then here I'm going to have a player."
2057420,2062940," Right. So, and the player. What are you using the player? Actually. Oh, apparently I only use the"
2062940,2069100," position of the player. So, might as well just, you know, pass player x and player y. Right. This entire"
2069100,2075260," thing is going to be player. Player position x. Player position x. And just player position y."
2076780,2084700," All right. Scene. We already kind of pass scenes. And I think we pass them as just, yeah, as these"
2084700,2093100," walls. Wait. Why do I pass this as a caller? Doesn't make any fucking sense. This should be boolean,"
2093100,2102220," honestly. Huh. And C3 didn't complain because I, yeah, because I used wall. Whoa. Do I even? Wait."
2103820,2109100," Ah. No, no, no. Wall is a picture. That's why. Okay. Okay. I'm sorry. So, and scene. Okay."
2109100,2116060," Got confused by my own code. This is because I passed too many arguments. That's why I got confused. Okay."
2116060,2125180," Right. So, and sprite pool. Oh, visible sprites. Visible sprites. This is kind of a very interesting thing."
2126940,2131660," So, let me take a look at what is visible sprites. Visible sprites is an intermediate thing."
2131660,2135420," Yeah, yeah, yeah. So, look. Where is it?"
2135420,2143820," Cool. Yeah. The first phase in the pipeline of sprites is that we take whatever we have on pool"
2143820,2152700," and we basically project and call the sprites and the result is put into the visible sprite. So,"
2152700,2159580," basically it's a second phase in a sprite pipeline. It's the second phase. Right. And the rendering,"
2159580,2165180," actual rendering, is actually iterating through visible sprites and putting them on the screen."
2165180,2173420," Right. So, render minimap actually renders visible sprites for debugging purposes."
2174540,2182060," But for some reason, I actually put visible sprites as a separate global... Yeah. So, it's part of the game."
2182060,2189580," You know what? I feel like visible sprites should be part of this sprite pool. I think it only kind of"
2189580,2198220," makes sense. Right. So, this is a sprite pool. So, we can do something like visible items and this is a"
2198220,2205100," visible length. Right. So, sprite pool contains both. And because of that, maybe I should just get rid of"
2205100,2211180," the visible sprites in here. But maybe not. I'm not sure if I want to actually go that route because,"
2211180,2216300," again, it will break all the places that use this thing. So, I have to be super careful."
2217580,2227340," But anyways, so, in a client C3, where do I accept the visible sprites? So, now this thing is part of the"
2227340,2233740," sprite pool. And in here, we're just accepting the pointer to the sprite pool. We're just accepting the"
2233740,2239420," pointer to the sprite pool. So, this is going to be the function that we're talking about. I'm not going to"
2239420,2247340," spend time translating all of that code to C3 as of right now. I think I'm going to keep this function"
2247580,2253260," empty. Right. I'm going to be keeping this function empty. And maybe I'm going to do something like"
2253260,2261180," to do translate. So, I'm basically going to be moving all of these functions from TypeScript to C3"
2261180,2267740," until all of that TypeScript code compiles and all of the code move to C3, but it's commented out. And then"
2267740,2275420," I'm going to be going through @translates and just translating them one by one. So, that's basically how"
2275420,2280620," i'm going to be approaching this entire thing. Does that make sense? I'm not sure if that makes sense,"
2280620,2285180," but yeah. This is what we're going to be doing anyway. So, we've got some subs that I didn't acknowledge."
2285180,2290140," @christ1111, thank you so much for a tier one's question. Thank you, thank you, thank you."
2290140,2297500," Anton Piper, thank you so much for tier one. Thank you, thank you, thank you."
2297500,2304460," Really appreciate all of the subs, all of the ripsubs, recommitments, resubscriptions, and stuff like that."
2304460,2314220," Okay, so, and we need to, I suppose, add this function to the wasm client, I suppose."
2314220,2320940," All right, so let me try to rebuild this entire thing and it doesn't even compile. Okay, so what do we have in here?"
2326540,2334620," ""Violated with alignment exceeding the default must be a log-aligned instance"". What the fuck is that?"
2334620,2343340," So, something with this structure sprite pool, it doesn't like something about structure,"
2343340,2346940," it's not aligned properly or something? What are you talking about, brother?"
2347900,2349900," Bruh, what are you talking about, bruh?"
2349900,2357740," I don't fucking know. So,"
2357740,2367340," is that because, so what if I just allocate, you know, a sprite, a single sprite, is it going to be okay"
2367340,2368940," allocating a single sprite?"
2369660,2372540," Ooh, it's something with a sprite that is misaligned."
2372540,2374940," Very interesting."
2374940,2377340," Something with a sprite."
2377340,2382460," Is that because of the position three? What if I just go back to float z stuff?"
2382460,2383900," Are you going to be okay with that?"
2383900,2385260," Yo!"
2385260,2393100," But this is misaligned."
2393100,2399180," What if, okay, okay, this is very interesting."
2399180,2401500," Wait a second, what if it's four?"
2401500,2404860," Aha!"
2407180,2411820," So, yeah, if I put position four in here, is it misaligned?"
2411820,2416940," Um, yeah, it is."
2416940,2422140," So, the only thing that kind of works is when you have this extra z in here."
2422140,2424380," I have no idea what to make up of that."
2424380,2435980," But, yeah, I wonder if I can, I wonder if I can reproduce that somehow,"
2435980,2437260," so I can report maybe."
2437260,2439660," Let me see, let me see."
2439660,2444140," So, let's have something like main C3."
2444140,2446060," So, it's kind of, it's kind of bizarre."
2446060,2449100," Does grouping order change things?"
2449100,2450220," Maybe it also does."
2450220,2453980," So, let's actually see."
2453980,2457340," I'm going to do that not in WASM yet."
2457340,2458940," So, this is going to be stdio."
2458940,2462220," So, fn void main."
2462220,2463180," All right."
2463180,2465180," So, it's going to be io printn."
2465180,2467980," I'm not really sure if I won't do any of that stuff."
2467980,2476060," So, let's have vector2, which is going to be, I might as well copy paste this stuff from here."
2477660,2478940," So, vector2 and vector3."
2478940,2490940," So, what if I try to do io printn mem new sprite."
2492380,2507980," Bro, we'll live desect the C3 compiler again."
2507980,2509500," I'm not going to be doing that."
2509500,2509980," I'm sorry."
2511100,2525180," But from time to time, as I program in C3 offline, quite often I just encounter some weirdness and I may usually grab the source code of C3 compiler just to check what's up with that and sometimes maybe fix something."
2527260,2529740," That happened to me like two times in the wrinkle."
2529740,2536780," So, and that's why I kind of enjoy programming in C3."
2536780,2539500," Not because it's a super great revolutionary language."
2539500,2543740," It's kind of like a mid language, I would say."
2543740,2545820," No, not super great, but not super horrible either."
2545820,2548060," But the source code of it is hackable."
2548060,2549020," Right."
2549020,2550140," So, that's what's cool about it."
2550140,2551180," Like, it's hackable."
2551180,2553980," Still less obtuse than Rust."
2553980,2554780," Yeah, I suppose."
2554780,2557740," So, yeah."
2557740,2559580," I don't think it's something like a revolution."
2559580,2562060," Everyone should program, videos should program in C3."
2562060,2563180," Like, I honestly don't care."
2563180,2566620," And I don't think that it's a super cool language."
2566620,2567580," But it's hackable."
2567580,2569340," And that's the appeal of it."
2569340,2570300," That's the appeal of it."
2570300,2571260," Like, I can change it."
2571260,2574300," So, anyways."
2574300,2577180," Anyways, anyways, anyways."
2579020,2584860," Is it compilable?"
2584860,2586380," Oh, we don't have an image."
2586380,2586700," Okay."
2586700,2589180," So, we can try to translate maybe the image."
2589180,2590460," Right."
2590460,2592220," So, where is the image?"
2592220,2594540," All right."
2594540,2597020," Let's go."
2597020,2598620," Color."
2598620,2598940," Okay."
2598940,2600940," So, we also need to bring the color."
2600940,2601260," Right."
2601260,2603260," So, we have all these things in here."
2603260,2606060," And it's compiled."
2606060,2609820," But this is a x86-64."
2609820,2610060," Right."
2610060,2612780," This is a x86-64."
2612780,2613900," 866-64."
2613900,2618140," We need to set the target to WASM32."
2618140,2621660," Linking is not supported for unknown OS."
2624540,2628860," So, maybe nol.libc."
2628860,2629980," I think that's one of the..."
2629980,2632780," It's something like a link."
2632780,2633660," libc.nol."
2633660,2635740," I forgot."
2635740,2636460," Let's take a look."
2636460,2638220," libc."
2638220,2639260," Yeah."
2639260,2642860," I think this is literally what I did in here."
2642860,2645980," Ah."
2645980,2646300," Okay."
2646300,2647900," I put it in the wrong place."
2647900,2648540," Just a second."
2648540,2649100," Just a second."
2649100,2650220," Chat, I see it."
2650220,2650700," I see it."
2650700,2652940," I actually see it."
2652940,2653740," Everything's fine."
2654620,2655100," All right."
2655100,2656540," Okay."
2656540,2661020," And I also need to put a null entry in here because it's a web assembly and shit."
2661020,2662220," All right."
2662220,2663740," It's totally fine."
2663740,2665980," But now, what if I say..."
2665980,2670780," It probably actually factored out this entire function."
2670780,2672780," So, I probably have to do something like extern."
2672780,2674460," All right."
2674460,2675180," So, main."
2675180,2677580," And also, this has to be WASM or whatever."
2677580,2678540," All right."
2678540,2679340," So, on and then..."
2680540,2681260," No, it's still..."
2681260,2684540," That is sus."
2684540,2685900," So, why does it just work?"
2685900,2686460," Ah, because..."
2686460,2686700," Yeah."
2686700,2687260," Okay."
2687260,2688940," So, that's understandable."
2688940,2690940," Yeah."
2690940,2691420," So, now..."
2691420,2692700," Oh!"
2692700,2698380," So, maybe it is reproducible with x86.x4 now."
2698380,2698940," Right."
2698940,2703020," Maybe I can just like get rid of this and that thing and it will also..."
2703020,2703900," Okay."
2703900,2705900," So, it's only reproducible with WASM."
2705900,2706620," Right."
2706620,2708300," It is only reproducible with WASM."
2708300,2708540," Okay."
2708540,2709020," So, that's cool."
2709820,2712220," So, that's what we have in here."
2712220,2717660," I wonder if I'm going to start like removing things."
2717660,2721100," So, if I remove this single float, is it going to be compilable?"
2721100,2722380," Aha."
2722380,2723420," It's still not compilable."
2723420,2723660," Okay."
2723660,2724540," So, we're removing that."
2724540,2726220," Still not compilable."
2726220,2727980," Removing that."
2727980,2728700," Still not compilable."
2728700,2728860," Okay."
2728860,2732060," So, we don't need these things for this to be reproducible."
2732060,2732380," Okay."
2732380,2733420," So, this."
2733420,2736460," Okay."
2738460,2738940," Okay."
2738940,2740860," Remove that."
2740860,2741820," Ooh."
2741820,2743980," Aha."
2743980,2746380," So, if I remove that..."
2746380,2747900," Okay."
2747900,2748460," Cool."
2748460,2750220," So, can I just say..."
2750220,2750540," Okay."
2750540,2751340," Vector3."
2751340,2755420," All right."
2755420,2757020," This is actually super cool."
2757020,2759740," So, we don't need that at all."
2759740,2762620," And we don't need that at all to reproduce this entire thing."
2762620,2766540," So, just that is already not alignable."
2767740,2770060," But if I do something like this..."
2770060,2772300," Is it alignable?"
2772300,2772540," All right."
2772540,2773580," So, we have four."
2773580,2779020," Yeah."
2779020,2781740," So, it is insanely bizarre."
2781740,2788220," So, types alignment exceeded the default."
2788220,2792700," I would like to maybe know the size and alignment."
2792700,2794620," So, it says..."
2794620,2797260," I can probably find the default alignment."
2797260,2797500," Right."
2797500,2799660," So, I can probably find this default alignment."
2799660,2804220," But, how do I know the alignment of this thing?"
2804220,2809500," Because I'm pretty sure if I compile it for x864, where I can print on the console,"
2809500,2810620," it will tell me one thing."
2810620,2812620," But in WebAssembly, it's actually a different thing."
2813340,2814860," Does Vector2 work?"
2814860,2815500," Let's find out."
2815500,2817100," Let's actually find out."
2817100,2818140," That's a very good question."
2818140,2822140," Oh, yeah, it does."
2822140,2824860," Let's do that."
2824860,2831100," STD menu aligns eight bytes and Vector3 is 12 bytes."
2831100,2832780," But why not Vector4?"
2832780,2834300," Vector4 doesn't work."
2834300,2834860," I don't."
2834860,2838380," Vector4 doesn't work."
2838380,2839740," I don't."
2839740,2842460," We can try to maybe Vector5 as well."
2842460,2848380," Printf type align off."
2848380,2850940," Printf doesn't work in WebAssembly, first of all."
2850940,2854540," We can compile to x8664."
2854540,2858060," But in x8664, these values are going to be different."
2858060,2861340," So, it's kind of a weird situation we're currently in."
2863020,2867340," So, what's interesting is thatâ€¦"
2867340,2869660," Yeah, so like it's kind of annoying."
2869660,2875100," Is that it would be kind of cool if this require thingy"
2875100,2878060," actually printed the values it's talking about."
2878060,2882380," Return type align off and check."
2882380,2885740," Sounds like a cool idea, I suppose."
2885740,2886940," Maybe."
2886940,2890140," Maybe we can do that."
2891580,2893340," So, let me see."
2893340,2896540," So, this one is going to be in extern."
2896540,2899340," Yeah, yeah, yeah."
2899340,2905180," So, extern align off Vector4."
2905180,2908220," Oh, this is actually a very cool idea."
2908220,2910220," I can even check that from the node."
2910220,2911900," That's really funny."
2911900,2914380," Yeah, I can check that from the node."
2914380,2915260," So, this is bosn."
2915260,2921260," And this one is useSizeReturn."
2921260,2928300," So, Vector1 align off."
2928300,2931260," Is it compilable?"
2931260,2932620," It's not even compilable."
2932620,2933340," What was there?"
2933340,2938300," So, align off without underscore."
2939260,2939660," Yeah."
2939660,2941340," All right."
2941340,2943660," So, let's actually generate a bunch of things."
2943660,2946300," Three."
2946300,2951500," Three, four."
2952780,2957740," And then, plus four, five."
2957740,2959580," And it didn't work."
2959580,2963580," So, and what did we have?"
2963580,2966860," Something like default alignment, blah, blah, blah."
2966860,2967260," All right."
2968220,2969500," I already forgot what it was."
2969500,2973660," So, let's actually do mem new Vector3."
2973660,2976940," So, let's try to compile that."
2976940,2980460," And default mem alignment."
2980460,2986460," Default mem alignment."
2986460,2991180," And here, we're going to just return this thing."
2991180,2994860," So, this is extern."
2997820,2999660," Maybe target wasm is the problem."
2999660,3001500," No."
3001500,3003660," Well, I mean, it is a problem."
3003660,3003820," Right."
3003820,3005260," But we can't get rid of that."
3005260,3006540," We're compiling for wasm."
3006540,3011020," Well, I mean, I didn't think it is the problem."
3011020,3015420," It's just like a memory model of wasm is different from x86-64."
3015420,3016140," And that's fine."
3016140,3020380," So, wasm32 is a 32-bit."
3020380,3022540," I mean, is there wasm64?"
3022540,3023260," Yes, there is."
3023260,3024780," But it's unstable and experimental."
3024780,3025580," We can't use it."
3026940,3027500," All right."
3027500,3030460," So, we have to use wasm32."
3030460,3034780," You can technically use wasm64."
3034780,3037980," But it's a little bit of a pain in the ass."
3037980,3039980," And you have to do a little bit of a hacking."
3039980,3043980," So, you have to use such thing as wasm64 to 32."
3043980,3046460," And I had to do that for Jai."
3046460,3048380," But because in Jai, you have no choice."
3048380,3049420," Here, we have choice."
3049420,3052060," So, I'd rather use wasm32."
3052060,3052940," Yeah, yeah."
3052940,3055660," All right, all right, all right."
3055660,3059260," So, yeah, let's just go ahead and just test all of these values."
3059260,3061260," Let's just go ahead and test all of these values."
3061260,3064940," So, default, it's global modules must be prefixed with module."
3064940,3067020," So, it's really important."
3067020,3073900," Learner is imposing arbitrary, opinionated, stylistic things on me yet again."
3073900,3075180," Mom!"
3075180,3077660," Why does he do that again?"
3083020,3084620," Anyways, okay."
3084620,3086620," Where is the define?"
3086620,3087580," Is that like a mem?"
3087580,3089180," Right."
3089180,3092460," I think it was a mem."
3092460,3092940," All right, all right."
3092940,3095420," I think it was a mem."
3095420,3100140," It's because of 32, but maybe flow10 also breaks x64."
3100140,3101660," Yeah, maybe."
3101660,3106300," Why the hell does it say assuming non-posex environment, by the way?"
3106300,3108940," Because wasm, because we're compiling for wasm."
3109580,3114140," And in wasm, we don't have a POSIX environment by default."
3114140,3115900," That's why."
3115900,3124060," It's kind of safe to assume that you have non-posex environment when you literally have non-posex environment."
3124060,3129020," It's a very safe assumption in a non-posex environment to assume that it's a non-posex environment."
3129020,3132060," Wasm sounds like a pain in the ass."
3132060,3135420," What did you..."
3135420,3138220," Like, do you know how wasm is translated?"
3139260,3141100," Do you know how wasm is translated?"
3141100,3145900," It's translated as web assembly."
3145900,3153900," What the fuck did you expect from a technology with the word web in it at the first place as the freaking prefix?"
3153900,3156780," It literally says web at the beginning."
3156780,3159260," What did you expect?"
3159260,3160460," I don't know what you expect."
3160460,3163260," So it even has s also in its name."
3163260,3165020," Exactly."
3168940,3169500," Assembly web."
3169500,3169740," Yeah."
3169740,3174860," It is what it is and it isn't what it isn't."
3174860,3176380," So yeah."
3176380,3179500," That's how it goes."
3179500,3180780," That's how it literally goes."
3180780,3181260," Anyways."
3181260,3185340," Let's go ahead and just like try to do node."
3185340,3187100," I'm going to start with node."
3188220,3189740," I suppose we need to do fs."
3189740,3191900," Can I just require fs?"
3191900,3195740," Read the file synchronously and the file."
3195740,3196140," Well, okay."
3196140,3199260," So where is the wasm module?"
3199260,3200460," Oh, it's output."
3200460,3201980," Is that the output?"
3201980,3202700," I think it is."
3202700,3203820," So wasn't to what?"
3203820,3206220," Wasn't to what?"
3206220,3208620," Wasn't to what?"
3208620,3209020," What?"
3209020,3213020," 12 megabytes."
3213020,3214140," My God."
3217580,3222140," It's like even Emacs is scared to open this file."
3222140,3223820," Anyways."
3223820,3224140," Okay."
3224140,3226380," I think I can actually bring the size a little bit down."
3226380,3228940," If I just do O5."
3228940,3231820," I think O5 brings the size down."
3231820,3232060," Yeah."
3232060,3233660," So now it's 85 kilobytes."
3233660,3236700," And if I just translate wasm to what?"
3236700,3238140," Wasn't to what?"
3238140,3241500," So the wasm and out what?"
3241500,3243740," It's 84 kilobytes."
3243740,3243900," Okay."
3243900,3244700," So that's fine."
3244700,3245980," So export."
3245980,3248540," So here are all of the functions that we have on here."
3248540,3249820," So default memory alignment."
3249820,3250700," Align effect two."
3250700,3252700," Blah, blah, blah, blah, blah, blah, blah, blah, blah, blah, blah, blah, blah, blah, blah, blah."
3252700,3253900," All right."
3253900,3256620," So I'm reading out wasm, right?"
3256620,3258620," So here it is."
3258620,3260140," So this is a bunch of bytes."
3260140,3263420," Web assembly instantiate."
3263900,3264140," All right."
3264140,3266620," So we're instantiating web assembly."
3266620,3268620," So here we have wasm."
3268620,3270860," And in terms of environment, do we have to specify environment?"
3270860,3271980," I didn't think so."
3271980,3273180," So this is a promise, right?"
3273180,3276300," So we have to do some stupid shit like await."
3276300,3279340," Oh, it's I can't even fucking."
3279340,3282940," Okay."
3282940,3284700," Just a second."
3284700,3286860," Freaking JavaScript."
3286860,3291260," It's fs const fs, right."
3292540,3296620," Maybe I'm going to just do that without any of the bullshit bullshit."
3296620,3298300," So this is going to be let."
3298300,3298700," Okay."
3298700,3302940," Wasm instance exports."
3302940,3304220," And what do we have in here?"
3304220,3305020," So let's take a look."
3305020,3305180," Okay."
3305180,3305980," There we go."
3305980,3310460," So default memory alignment is a function and it's eight."
3310460,3312780," So this is the default memory alignment."
3312780,3317340," So default mem alignment is eight."
3317340,3318940," We know that cool."
3318940,3327660," So align of back to is eight, three, 16,"
3327660,3334460," four, 16, five, 32."
3334460,3337660," Is it really alignment or is it, is it the size?"
3337660,3345180," What does alignment mean, by the way?"
3345180,3345500," Right."
3345500,3346380," I'm not really sure."
3346380,3352060," Ah, yeah."
3352060,3354060," It has to be aligned on this."
3354060,3354380," Okay."
3354380,3359340," So the address has to be like a, you know, multiple of these values."
3359340,3359660," Right."
3359660,3362220," So that's what it has to be."
3362220,3364220," The address has to be multiple of these values."
3364220,3373260," So, and I suppose it is probably needed for some sort of a CMD stuff."
3374220,3387740," Because at least in x86-64, the, you know, the stuff, the, the vectors that you read from memory,"
3387740,3389900," they'd have to be aligned in memory in certain way."
3389900,3394220," Do structs and C3 use padding?"
3394220,3394540," Maybe."
3394540,3397820," Or maybe they do."
3397820,3399260," I'm not sure."
3401660,3405180," Wasm has a generic 128-bit CMD interface."
3405180,3408140," Maybe, maybe you need to have some sort of alignment for it."
3408140,3411100," You probably need some sort of an alignment for it."
3411100,3411340," Right."
3411340,3418620," So if Wasm is used to generate, if it's translated to actual machine code at runtime,"
3418620,3425420," the fastest and easiest way to do that if, is, if when everything is just already properly aligned."
3425420,3426300," Right."
3426300,3428940," So reads and writes are aligned."
3428940,3431180," And so the data is aligned within the memory."
3431180,3433340," So it kind of makes sense for it."
3433340,3437500," So do we have any documentations about, like, you know, Wasm CMD?"
3437500,3438140," Right."
3438140,3439340," I never actually tried it."
3439340,3440700," It's actually kind of interesting."
3440700,3443740," Maybe this sounds like an epic stream, honestly."
3443740,3449340," This sounds like an epic stream to just dedicate it to Wasm CMD."
3451500,3453020," Um, T time."
3453020,3453260," Yeah."
3453260,3454860," So we'll probably need to do a T time soon."
3454860,3458940," This was to hold a proposal for adding 1928."
3458940,3460060," Okay."
3460060,3461260," Spec, citing."
3461260,3464140," So proposal CMD."
3465980,3470380," So it's archived, the binary CMD implementation status CMD MD."
3470380,3472300," I don't know."
3472300,3475900," So there's a bunch of documents on here, but, oh, there's a text CMD."
3475900,3476620," This one is interesting."
3476620,3478540," It probably explains the, yeah."
3479580,3487100," So text format for CMD, uh, instruction has multiple, uh, valid text formats corresponding to different"
3487100,3488140," lane interpretations."
3488140,3491180," The valid text are, uh, I see."
3491900,3492220," Okay."
3492220,3500540," Uh, WebAssembly aims to take advantage of common hardware capabilities for near native speed."
3500540,3505580," The motivation for this proposal is to introduce WebAssembly operations that map to commonly available"
3505580,3507580," CMD instructions and hardware."
3507580,3512780," CMD instructions and hardware work by performing simultaneous computations over packet data in one"
3512780,3513580," instruction."
3513580,3513820," Yeah."
3513820,3514780," Okay."
3514780,3521660," WebAssembly exists standing with the new V128 value type and a number of new"
3521660,3525500," kinds of immediate operands used by CMD instructions."
3525500,3532060," CMD value type, value, uh, uh, uh, and imbyte."
3532060,3536380," So it's probably immediate, uh, operations with CMD values."
3536380,3539900," Uh, uh, uh, uh, okay."
3539900,3540540," I'm a byte."
3540540,3541020," Yes."
3541020,3541900," I'm a byte."
3541900,3546860," We had like, I'm a moving, uh, event in our game."
3546860,3547100," Right."
3547100,3550300," So it's a common, uh, common MTS."
3551420,3552220," Uh, where is it?"
3552220,3554380," I don't see it moving."
3554380,3556300," I think."
3556300,3556540," Yeah."
3556540,3557980," I was, it's, it was this one."
3557980,3558780," I'm a moving."
3558780,3559740," Not I'm a moving."
3559740,3563020," I'm actually, yeah, exactly."
3563020,3563420," Exactly."
3563420,3569820," So this sounds like a very interesting stream and I think it's also very clickbaitable, right?"
3569820,3577900," So people will see like CMD and WASM and everyone is going to be like, and we'll have an excuse"
3577900,3580860," to do like WASM textual WASM yet again."
3580860,3583580," I actually had fun doing, uh, WASM text."
3584460,3586460," So I think I'm going to be, yeah."
3586460,3593420," Um, I think I will put that to my to-do and maybe eventually we're going to have like a dedicated"
3593420,3594140," WASM stream."
3594140,3595420," Sounds good."
3595420,3595820," I think."
3595820,3600060," Um, so yes."
3600060,3600380," So yes."
3600380,3603740," So I think the time has come to do, to do a small break guys."
3603740,3604940," I think the time has come."
3606540,3608460," Uh, just to say clipped."
3608460,3611100," Also love, uh, your content, your motivation."
3611100,3612940," So you clipped, uh, I think."
3612940,3614620," Oh yeah."
3614620,3617180," I know what you, I know exactly what you clipped."
3617180,3617820," Just a second."
3617820,3620220," Uh, it's, it's a web stuff."
3620220,3621340," Yeah."
3621340,3626220," Um, it's, it's a web thingy."
3626220,3631740," I see, I see."
3631740,3634940," Uh, yeah."
3635500,3637500," So it's about web in its name."
3637500,3639100," All right."
3639100,3641820," So I think the time has come to make some break and um."
3641820,3642460," All right."
3642460,3645740," So, uh, I don't know what we're going to be do doing with all of that."
3645740,3647100," So it's kind of interesting."
3647100,3654700," Uh, I think I'm going to just use vector two with a separate Z, uh, Z field."
3654700,3654940," Right."
3654940,3660780," And, uh, then I'm going to put a to-do to investigate what's up with alignment, um, later."
3660780,3664940," So, but I suspect this is because C3 is probably using CMD extension for"
3665580,3667420," working with the vectors and stuff like that."
3667420,3671500," And, um, so it requires a certain alignment."
3671500,3677020," Uh, maybe as I already said, I'm probably going to do like a web assembly CMD stream."
3677020,3680780," And maybe on that stream, I'm going to explore that aspect of C3 as well."
3681740,3686940," Um, so yeah, so I think that's a reasonable thing to do as of right now, because I can"
3686940,3692620," spend a lot of time just digging into how C3 works without advancing the development."
3692620,3692860," Right."
3693900,3699820," So, uh, let's go ahead and maybe, um, um, go into the client."
3699820,3703180," So it's going to be C3 client C3."
3703180,3705900," Um, yeah."
3705900,3712460," So, um, use vector three, uh, instead."
3712460,3714220," All right."
3715740,3718060," So let me try to build the whole thing."
3718060,3722220," So it's going to be NPM run build, right."
3722220,3723180," NPM run build."
3723180,3724860," Is it building?"
3724860,3725740," It seems to be building."
3725740,3728540," Okay."
3728540,3729020," Very cool."
3729020,3733020," Um, so all of that is fine."
3733020,3738300," So we probably only have, uh, compilation errors from the typescript."
3738300,3739180," So let's take a look at them."
3739180,3741420," So we still have 26 compilation errors."
3741420,3743020," This number didn't decrease."
3743020,3745340," And this is exactly what I'm talking about."
3745340,3745580," Okay."
3745580,3747500," So here, uh, right."
3747500,3749020," So here is the render function."
3749020,3751100," Let's get rid of that."
3751100,3754380," And let's try to call the WebAssembly function."
3754380,3756700," Let's call the WebAssembly function."
3756700,3759180," This one is interesting."
3759180,3767500," So we probably want to have a separate display for this entire stuff."
3769180,3774220," So first of all, this has to be WASM client, not WASM common."
3774220,3775980," So this is a WASM client for sure."
3775980,3783340," Um, visible sprites is not a thing that is needed anymore in here."
3783340,3784780," So we just have a sprite."
3784780,3791100," Um, so the context, instead of the context, we have to accept the display."
3791100,3792860," Right."
3792860,3798860," So, but the display, uh, only contains the other thing."
3799180,3807180," So it contains the back image pointer, back image width and back image height and stuff like that."
3807180,3808780," So that's what it contains."
3808780,3815660," I have a feeling that we need to introduce, um,"
3817580,3826460," minimap pointer number, minimap width, uh, minimap height."
3826460,3829260," So that's what we need to introduce."
3829260,3836940," And honestly, I think it would be way better if we replaced back image ptr width and height with just back image,"
3836940,3841020," which is a WASM image because that's what it is."
3841020,3843180," It's a pointer width and height."
3843180,3847740," But doing that, we'll open up another session of compiler assist refactoring."
3847740,3849820," So it will break all of the code as of right now."
3849820,3852380," So I think I'm not going to be doing it right now."
3852380,3857980," So what I'm going to do, I'm going to put it to do, uh, replace with minimap WASM image."
3857980,3859180," Right."
3859180,3862060," And replace with back image WASM image."
3862060,3865900," And this is basically is going to be the point of collapse of all of that stuff."
3865900,3867580," Uh, hopefully."
3867580,3868620," Um, right."
3868620,3870220," So where's the render minimap?"
3870220,3873900," Um, right, render minimap."
3873900,3875980," So here's the function."
3875980,3877340," So here is the display."
3877340,3879100," Um, all right."
3879100,3881180," So here's the camera and stuff like that."
3881180,3886940," And in here, we're going to have a display, display minimap pointer."
3886940,3887820," Emacs, come on."
3887820,3888380," You can do that."
3888380,3888700," Okay."
3888700,3895340," So it's managed to actually, uh, go through, uh, minimap, minimap width."
3895340,3897420," And this is display."
3897420,3901900," Uh, you can, you see, you can't see shed minimap height."
3901900,3902860," So that's what we have in here."
3902860,3904380," So let me actually put it a little bit higher."
3904380,3907740," So now the camera, the camera is rather interesting."
3907740,3913900," So camera position, uh, X and Y."
3913900,3916540," So what's interesting is that what we're doing right now,"
3916540,3922140," we're taking the structures and we're spreading in, spreading them into the arguments, right?"
3922140,3924860," So this is exactly what I was talking about, right?"
3924860,3929340," So I just pass a structure and I just spread it in here because it's just easier to pass"
3929340,3932460," structures like that to WebAssembly as of right now."
3932460,3936220," As soon as majority of the code is moved to WebAssembly, none of that is will be needed."
3936220,3938060," So all of that is going to be collapsed, right?"
3938060,3941180," Well, I keep explaining that, but I think it's kind of important to emphasize that."
3941900,3944140," I think it is in fact important to emphasize that."
3944140,3944460," Okay."
3944460,3946940," So this is the, basically the position like that."
3946940,3948620," So, yeah."
3948620,3949820," So scene."
3949820,3950060," Yeah."
3950060,3951260," We need to pass the scene."
3951260,3953900," So any scene."
3953900,3954060," Yeah."
3954060,3955340," It's a walls pointer."
3955340,3955820," Yeah."
3955820,3956140," Okay."
3956140,3958140," Uh, right."
3958140,3962780," So this is going to be scene walls, uh, walls PTR."
3962780,3963180," Right."
3963180,3967260," So then scene width and, uh, scene height."
3967260,3971660," So then we have a sprite pool and here is the sprite pool in here."
3971660,3973900," And inside of the sprite pool, we just have a pointer."
3973900,3974220," Right."
3974220,3977660," So this is just, uh, that's there we go."
3977660,3980540," So, and we just pass all of the necessary information to that function."
3980540,3982220," Uh, right."
3982220,3989260," So from OOP perspective, I actually stopped reading the message after that."
3989260,3991020," So it's just like, I see your message."
3991020,3994860," It's pretty big message I see from OOP perspective and I didn't read the rest of the message."
3994860,3995660," I'm sorry."
3995660,3999740," That's the most reliable way for me, uh, like to, to make me ignore your message."
3999740,4000540," Thank you very much."
4000540,4003020," Uh, all right."
4003020,4010540," So, so this is going to be a render minimap and wasmclient doesn't have, uh, this thing."
4010540,4015500," Where is the, uh, no, it's not client C3."
4015500,4016300," All right."
4016300,4018940," So do we have this shit in the wasmclient?"
4018940,4021020," I didn't think so."
4021020,4021260," Yeah."
4021260,4022380," I don't think we have."
4022380,4024620," So this is a render minimap."
4024620,4026380," Let's actually bring it here."
4026380,4029100," Uh, right."
4029100,4031100," So, uh, void."
4031100,4032300," Let's go."
4032300,4039020," Very funny."
4039020,4039980," Thank you so much though."
4039980,4041980," Uh, okay."
4041980,4044940," So this is going to be number number."
4044940,4053580," I wonder if you can, can I use a little bit of an emacs magic to do all of that shysung?"
4055980,4069820," Like, can your vim do that?"
4069820,4078700," Who needs code generation if you have multiple courses?"
4082940,4083740," Holy shit."
4083740,4085500," Anyways."
4085500,4092700," Stupid paid question."
4092700,4093980," What the Rexim stands for?"
4093980,4095420," It's actually reverse mixer."
4095420,4100940," That was my original nickname ever that I came up with when I was 16."
4100940,4102300," Right."
4102300,4110300," Uh, then like I would register in different websites and if mixer is already taken, I would use Rexim."
4111500,4113740," So, yeah, that's it."
4113740,4117100," And it actually kind of stick."
4117100,4118540," So this is my personal nickname."
4118540,4120300," Sodding is not my nickname."
4120300,4127100," Sodding is the name of the project for recreational programming that I'm running since 2017."
4127100,4129580," Technically since 2015."
4129580,4130700," Right."
4130700,4137340," So we've been doing project Sodding for promoting recreation programming since 2015."
4137340,4140860," And at the time I was not even doing that on Twitch."
4140860,4141100," Right."
4141100,4145980," So I started also on YouTube channel, I think, on not even Sodding daily."
4145980,4147260," Right."
4147260,4148860," So, and how long has it been?"
4148860,4149180," Right."
4149180,4151580," So 2024 minus 2015."
4151580,4153660," So, holy fuck."
4153660,4153980," Almost."
4157260,4164300," Damn, that's for how long I've been doing recreational programming promotion."
4164300,4166860," Damn."
4166860,4170940," Holy shit."
4170940,4171900," And I'm 30."
4171900,4175260," So I've been doing this project for a third of my life."
4175260,4179100," One thing Python is good for."
4179100,4179900," yeah, calculator."
4179900,4185260," Sobering."
4185260,4185900," Yeah."
4185900,4188460," It's a very important project."
4188460,4188940," Sobering."
4188940,4190620," Age leak."
4190620,4191900," Everybody knows my age."
4191900,4192300," I think."
4192300,4195420," Um."
4195420,4199580," I'm 34."
4199580,4200060," No, no, no."
4200060,4202060," 33."
4202860,4204780," I'm going to be 34 this year."
4204780,4210220," I'm also 30, by the way."
4210220,4210460," Nice."
4210460,4213980," 30 years old."
4213980,4214940," Boomers unite."
4214940,4218460," Uh, so."
4218460,4220220," We've got some subs."
4220220,4221420," Thank you so much."
4221420,4221740," Um."
4221740,4223420," Chemical luck."
4223420,4224460," Thank you so much for pitchmime."
4224460,4225100," And thank you so much."
4225100,4225740," Same mantra."
4225740,4226620," Uh, for."
4226620,4228060," We for tier one."
4228060,4229740," Um, sub with the message."
4229740,4230300," You missed it."
4230300,4231580," Searching your solid streamer."
4231580,4231980," Thank you."
4231980,4233500," I'm really glad that I'm not liquid."
4233500,4234540," Love the content."
4234540,4237580," Uh, you should look into Dano as a no GS replacement."
4237580,4239500," Lots of cool stuff happening there."
4239500,4240780," I already looked into them."
4240780,4242220," Dan a long time ago."
4242220,4243740," And it's just like, I'm not into."
4243740,4246540," Don't want to sound like an asshole."
4246540,4248700," But I guess I just have to accept that."
4248700,4249660," That I'm an asshole."
4249660,4251820," I'm not into reviewing."
4252860,4254620," JavaScript engine distributions."
4254620,4256220," Sorry."
4256220,4259660," It's just like."
4259660,4261740," Okay."
4261740,4266860," Listen, the most difficult part of all of these JavaScript runtimes is the engine."
4266860,4275100," And all of these things like Node, Dano, Bun, whatever."
4275100,4281900," They're just capitalizing on somebody already solving the hard part of JavaScript runtime."
4283820,4286780," They're just JavaScript runtime distributions."
4286780,4288140," Like Linux distributions."
4288140,4291020," So I'm not saying that it's super easy."
4291020,4293900," But the hardest part of that is already kind of solved."
4293900,4296380," So it's like, why?"
4296380,4298780," It's like reviewing Linux distributions."
4298780,4299420," Like why?"
4299420,4302460," I just like, I don't understand."
4302460,4309180," Maybe I'm, maybe I am an asshole."
4309180,4311580," But I mean, it's just like, this is how I view the things."
4311580,4312060," But yeah."
4312060,4312460," Thank you."
4312460,4313420," Thank you for the sum up."
4313420,4315820," It's just like, okay."
4315820,4316540," Let's put it this way."
4316540,4319500," I just personally don't find it interesting."
4319500,4327900," So, yeah."
4327900,4330860," Let's continue."
4330860,4334140," Just don't understand."
4334140,4337740," All right."
4337740,4338460," So, we got that."
4338460,4341740," So, we still have 26 compilation errors."
4341740,4342300," How come?"
4342300,4348060," So, I keep fixing things and the compilation errors doesn't go away."
4348060,4349340," Player size."
4349340,4351340," We don't use player size, apparently, by the way."
4351340,4351660," That's kind of interesting."
4351660,4352300," Interesting."
4352300,4352620," Okay."
4352620,4354060," So, next."
4354060,4354700," Oh."
4354700,4356860," Oof."
4356860,4357260," Oof."
4357260,4357820," Oof."
4357820,4360140," This is very interesting because."
4360140,4362220," Aha."
4362220,4362700," I see."
4362700,4369180," So, all of these constants were used by Minimap."
4369180,4374460," So, that means we also have to move them like inside in here."
4374460,4376460," All right."
4376460,4379020," So, this one has to be Boolean now."
4379020,4379260," Right."
4379260,4380860," So, this is obviously float."
4380860,4382060," And this is obviously float."
4382060,4384860," So, player size."
4384860,4388300," Do we have player size anywhere in here?"
4388300,4390780," Well, eventually, we will have player size."
4390780,4392060," But it's part of the common."
4392060,4393740," Right."
4393740,4395260," So, player size."
4395260,4397100," I'm going to just copy paste it in here."
4397100,4399420," But it has."
4399420,4401100," Well, I mean, we have player size in here."
4401100,4402140," So, we don't have to do anything."
4402140,4402540," That's nice."
4402540,4403020," That's nice."
4403020,4404380," All right."
4404380,4406780," So, let's go back to the client MTS."
4406780,4409020," And let's get rid of that."
4410860,4412060," Let's go back to the client MTS."
4412060,4413020," Let's go back to the client MTS."
4413020,4414060," Let's go back to the client MTS."
4414060,4414700," Let's go back to the client MTS."
4414700,4415660," Let's go back to the client MTS."
4415660,4416060," Let's go back to the client MTS."
4416060,4417100," Let's go back to the client MTS."
4417100,4421340," Let's go back to the client MTS."
4421340,4422300," Let's go back to the client MTS."
4422300,4424300," Let's go back to the client MTS."
4424300,4424300," Let's go back to the client MTS."
4424300,4426300," Let's go back to the client MTS."
4426300,4426300," Let's go back to the client MTS."
4426300,4427300," Let's go back to the client MTS."
4427300,4428300," Let's go back to the client MTS."
4428300,4429300," Let's go back to the client MTS."
4429300,4430300," Let's go back to the client MTS."
4430300,4431300," Let's go back to the client MTS."
4431300,4432300," Let's go back to the client MTS."
4432300,4433300," Let's go back to the client MTS."
4433300,4434300," Let's go back to the client MTS."
4434300,4435300," Let's go back to the client MTS."
4435300,4436300," And let's go back to the client MTS."
4436300,4437300," Let's go back to the client MTS."
4437300,4438300," Let's go back to the client MTS."
4438300,4439500," This one is interesting."
4439500,4445620," So it very much depends on how big of a display we want to have."
4445620,4452300," So let me let me think."
4452300,4457180," I think I want to rename the arguments in here."
4457180,4462060," I want to call them back image width and back image height."
4464140,4475740," So that will enable me to just pass them like so without specifying the name of the prefixes"
4475740,4476940," or anything like that."
4476940,4478780," Right."
4478780,4480460," So it's back image width."
4480460,4483980," This is a back image width."
4483980,4488060," All right."
4488060,4493420," So we need to now introduce something interesting."
4493420,4497180," We need to introduce mini map width."
4497180,4498860," Mini map width."
4498860,4502940," Which is based on back image width."
4502940,4504140," And mini map height."
4504140,4506700," Which is based on back image height."
4506700,4508860," So this is width."
4508860,4512220," This is height."
4512220,4514380," All right."
4514380,4518540," And then we should have mini map pointer."
4518540,4521020," Which is basically pixels."
4522780,4523340," Right."
4523340,4526540," This is mini map width and height."
4526540,4530540," So how do we compute mini map width and mini map height?"
4530540,4533260," We do that at the render mini map."
4533260,4538700," Maybe even inside of the render mini map."
4538700,4548700," I remember the code that would actually make a decision of the size of the mini map."
4548700,4552060," It's probably somewhere here."
4552060,4554700," So we have a display width and display height."
4554700,4556540," How is it used in there?"
4556540,4557740," Yeah."
4557740,4557980," Okay."
4557980,4558700," So here it is."
4558700,4559740," I see."
4559740,4560060," I see."
4561740,4564140," So we would use canvas."
4564140,4564140," So we would use canvas."
4564140,4565740," So this is a cell size."
4565740,4568540," So this is a cell size."
4568540,4572540," So then we do canvas width."
4572540,4575660," So mini map scale."
4575660,4578460," Do we use mini map scale anywhere?"
4579900,4587660," So that's what it is."
4587660,4595420," So we're starting from the cell size."
4595420,4595420," So we're starting from the cell size."
4595420,4598220," So we take canvas width."
4598220,4600220," So we're starting from the cell size."
4600220,4612140," We take canvas width."
4612140,4614860," We scale it."
4614860,4620060," And then it just creates this whole thing."
4620060,4623740," So we have scene width and scene height."
4623740,4627980," I don't really know how we go about that."
4627980,4632300," So I feel like what we're going to be doing in here, at least for now,"
4632300,4638060," is just multiplying it by some sort of value."
4638060,4641580," So we're going to take a fraction of the mini map."
4642460,4644700," I'm going to take a fraction of the mini map right there."
4644700,4647260," Create mini map."
4647260,4649340," Where was I?"
4649340,4650060," I don't remember."
4650060,4650860," Yeah."
4650860,4655500," So we can just say that this is sort of like a 0-3."
4655500,4658220," But it's kind of not translating existing code."
4658220,4662060," I want to kind of go off of the translation of the existing code."
4662060,4664940," How do we decide the size of the whole thing?"
4664940,4667980," I think it's about the translation."
4667980,4668220," Yeah."
4668220,4672220," That's kind of stupid, isn't it?"
4672460,4672860," Yeah."
4672860,4673660," It's kind of stupid."
4673660,4675420," So we take..."
4675420,4678780," Oh, yeah."
4678780,4681180," So we just like multiply it by 0-3."
4681180,4683420," And that's what we have in here."
4683420,4685020," It's just that."
4685020,4692460," So translate this and then scale."
4692460,4693420," But it's just translate."
4693420,4694620," It's padding, actually."
4694620,4695500," It's actually padding."
4702460,4707180," So in terms of mini map scale."
4707180,4716060," Ah."
4716060,4719500," It actually distorts that in a bit, I think."
4719500,4728700," Yeah, it's kind of a weird situation."
4728700,4732060," So I suppose what I'm going to do, I'm going to just like do it like that."
4732060,4733500," All right."
4733500,4737260," And it's probably going to be broken, but that's fine."
4737260,4739340," I don't use mini map that often anyway."
4739980,4741980," So we're going to just like live with that."
4741980,4743020," So it's going to be hide."
4743020,4744060," So we got some subs."
4744060,4744380," Ah."
4744380,4745580," Thank you so much."
4745580,4749260," Texas Jack 666 for the message seems good."
4749260,4750220," Seems good indeed."
4750220,4751260," I do agree with that."
4751260,4751900," It's pretty good."
4753900,4756620," So that breaks."
4756620,4759660," So that means I'm basically going to be rewriting mini map from scratch."
4759660,4760940," So that's basically what it means."
4760940,4763180," Like I don't like when this situation occurs."
4763180,4763500," Right."
4763500,4768460," So because I want to smoothly translate things, but it doesn't really allow me to smoothly translate things."
4768460,4769100," Okay."
4769100,4770940," So here is an interesting part."
4770940,4776620," So this is the function that needs to be moved inside of the WebAssembly."
4776620,4778460," So that's the function."
4778460,4782380," So in here, this is a fan void."
4782380,4783660," So we accept the camera."
4783660,4787020," So the camera should be this triple."
4787020,4787980," All right."
4787980,4789660," So that's basically the camera."
4789660,4792940," That's basically the camera."
4792940,4799660," And we have a sprite pool and visible sprites are part of the sprite pool."
4799660,4801580," So that's what they are."
4801580,4805980," That means this is going to be the pointer to the sprite pool."
4805980,4809500," And this thing, this entire thing goes away."
4809980,4812220," And this entire stuff is just that."
4812220,4816540," And it's going to be to do translate to do translate."
4816540,4819340," So as you can see, we're moving some code to WebAssembly."
4819340,4820700," So this is going to be an external function."
4820700,4824220," So let's actually do snack case."
4824220,4825740," Right."
4825740,4827820," So and sort sprites."
4827820,4831820," So this is an external function."
4831820,4833500," Like so."
4833500,4835660," And this is going to be WASM."
4835660,4837740," Let's go."
4837740,4839500," Okay."
4839500,4847260," So that means in WASM client, this is what we're going to have."
4847900,4849020," So that's the function."
4849020,4857260," Can we now use an epic Emacs magic again?"
4857260,4860300," I think we should be able to look at that."
4860300,4861420," Right."
4861420,4862460," Let me just do that."
4862460,4865180," Removing this in the Ashaise."
4865180,4865740," Going that."
4865740,4867420," Number."
4867420,4868060," Boom."
4868060,4870460," Can your beam do that?"
4870460,4872860," Can your beam do that?"
4872860,4874540," I don't fucking think so."
4874540,4877020," I don't fucking think so."
4877020,4879740," Can your beam do that?"
4879740,4882220," Can your beam do that?"
4882220,4884620," I don't fucking think so."
4884620,4886860," I don't fucking think so."
4886860,4887260," Okay."
4887260,4890460," So we've got."
4890460,4890860," Okay."
4890860,4892220," So that's pretty cool."
4892220,4894860," So cool and sort."
4894860,4902540," So and in here, since we moved this entire code to C3, we don't need any of that Ashaise anymore."
4902540,4903020," Right."
4903020,4904780," So we don't need any of that Ashaise."
4904780,4907260," We do need WASM client, I think."
4907260,4908300," WASM client."
4908300,4912540," And in WASM client, so we call to this function."
4912540,4913500," Right."
4913500,4915820," So we put it in here."
4915820,4917820," So WASM client like so."
4917820,4919500," This is the camera position."
4919500,4922220," So it's that."
4922220,4927180," And this is another camera position like so."
4927180,4930540," It's a camera direction like so."
4930540,4932620," Sprite pool is just a pointer."
4932620,4937180," Sprite pool PTR."
4937180,4938300," Let's go."
4938300,4939820," Is that it?"
4939820,4941020," I think that's it basically."
4941020,4943500," So we have 24 errors now."
4943500,4945660," We have 24 errors."
4945660,4946940," So next error."
4946940,4948780," Push Sprite."
4948780,4949420," Okay."
4949420,4950540," This one is interesting."
4950540,4951980," This one is actually interesting."
4951980,4955340," So this is a function also has to be moved to WebAssembly."
4955340,4962860," So yeah."
4962860,4965420," All right."
4965420,4966540," So let's go ahead and do that."
4967100,4968620," So let's move it to WebAssembly."
4968620,4975180," So it like requires like moving a lot of things, like blindly even."
4975180,4976460," Okay."
4976460,4978140," So this one is going to be just a pointer."
4978140,4979500," So this is very easy."
4979500,4982380," So here we're moving an image."
4982380,4983340," All right."
4983340,4987260," And while I'm image, we can't really move it easily."
4987260,4989980," So it has to be more like image pixels."
4989980,4991500," So it's a color."
4991500,4992140," All right."
4992140,4993420," So this is image pixels."
4993420,4998060," And then here is the integer image width, integer image height."
4998620,5001500," So then we have a position and z."
5001500,5007740," So I suppose the easiest thing to do in here is to actually do something like x float x float y"
5007740,5010140," and float z."
5010140,5010380," All right."
5010380,5012220," So that's what we pass in here."
5012220,5015820," Then we have essentially float scale."
5015820,5017820," Crop position."
5017820,5018140," Okay."
5018140,5024460," So in original thing in here, it is optional, but in here it is mandatory."
5024460,5027020," So it's a little bit weird in a sense."
5027020,5034540," So some of the code is probably going to be like that is responsible for preparing the default values"
5034540,5037740," for these things is going to be still in JavaScript, which is probably fine."
5037740,5039180," Right."
5039180,5040300," Which is probably fine."
5040300,5043340," crop position y."
5043340,5043660," Right."
5043660,5048380," So and then crop size width."
5048380,5049740," Right."
5049740,5052780," So and then crop size."
5052780,5054460," Maybe let's call it x and y."
5054460,5054700," Right."
5054700,5057900," So because it will be make it easier to translate this entire thing."
5057900,5059660," So in here we have push sprite."
5059660,5061660," Right."
5061660,5063340," So here we have push sprite."
5063340,5065580," So extern."
5065580,5067020," Right."
5067020,5068700," So push sprite."
5068700,5070060," And this is wasm."
5070060,5071660," Right."
5071660,5078380," And all of that code is bound to be translated eventually."
5078380,5080140," Just translate that."
5080140,5082060," All right."
5082060,5084220," So that's the thing we're doing here."
5086220,5089180," So and obviously now we kind of need to."
5089180,5096940," Yeah, this one is a little bit annoying because this code will stay in JavaScript because it's responsible"
5096940,5103420," for figuring out the default crop position, like a crop size things to path to WebAssembly."
5103420,5105420," Right."
5105420,5109660," So it's going to be kind of annoying in that regard, but that's okay."
5111260,5114220," It is okey dokey karaoke, my new friend."
5114220,5116700," It's okey dokey karaoke."
5116700,5119740," So obviously in here we're going to be accepting wasm client."
5119740,5120940," Wasm client."
5120940,5123020," Uh, I can't see the chat for some reason."
5123020,5127820," Um, this is a pretty big refactoring compiler carrying a whole stream."
5127820,5128860," Exactly."
5128860,5129340," Right."
5129340,5137420," So, um, this is why statically typed languages are just objectively superior than dynamically"
5137420,5142060," typed languages, because I cannot imagine how would you do something like that in a dynamically"
5142060,5142700," typed language."
5142700,5151020," And unless you have some sort of a very smart IDE, but in that regard IDE is just fixing a broken,"
5151020,5151820," stupid language."
5152700,5153020," right."
5153020,5156540," It's just like, I mean, statically typed languages are just objectively better."
5156540,5161820," They are serious languages for serious software development because this is the kind of refactoring"
5161820,5163580," you're doing in a serious software development."
5163580,5167500," Um, so yeah."
5167500,5175740," I had to implement stuff in Groovy for Jenkins and it was nightmare."
5175740,5176700," I can understand that."
5176700,5178060," I can actually see that."
5178060,5179740," I worked with dynamic languages."
5179740,5181180," It's always fucking nightmare."
5181180,5183420," Um, especially if you need to do big refactoring."
5183420,5189660," So you still kind of can do this style of refactoring in dynamic languages, but you need to"
5189660,5194860," force the execution to go through all of the paths where you need to do the refactoring."
5194860,5200620," And that is much more difficult than if you just had a statically compiled language that is kind of"
5200620,5204220," checking all the execution paths for you automatically."
5204220,5205820," Um, right."
5206780,5210380," So, um, I don't know, I don't know, I don't know, I don't know."
5210380,5215740," I think the statically compiled language camp one long time ago, I think it did."
5215740,5223420," Um, anyways, anyways, anyways, anyways, anyways, uh, so what do we have in here?"
5223420,5224460," What do we have in here?"
5224460,5230380," We can, I want you to go to wasm client, right?"
5230380,5235260," So wasm client and we need to introduce push sprite function in there."
5235260,5239900," Let's introduce the push sprite function in there."
5239900,5241260," All right."
5241260,5243180," And that's a very interesting function."
5243180,5247260," So, and in here we just, uh, grab the commas."
5247260,5248140," All right."
5248140,5254780," So we just grab the commas and a boom, a boom, a boom, a boom."
5254780,5260220," That is so fucking satisfying, isn't it?"
5260220,5262620," Hell yeah."
5262620,5263900," That's the most satisfying thing."
5265740,5267820," I just figured out that they can do this kind of stuff."
5267820,5268060," Right."
5268060,5269340," So it's actually so crazy."
5269340,5272460," Damn."
5272460,5275180," Uh, can you IntelliJ do that?"
5275180,5275820," Yeah, exactly."
5275820,5277180," Exactly."
5277180,5277660," Exactly."
5277660,5278140," Exactly."
5278140,5280380," Anyways."
5280380,5287660," Um, so, but I feel like I need to just grab this function super quick."
5289340,5291100," Uh, just put it in here."
5291100,5294460," So this is wasm client."
5294460,5298700," So in terms of sprite pool, this is just a pointer."
5298700,5300940," So then we have an image, right?"
5300940,5304540," And image pixels, it's basically wasm image."
5304540,5304700," Yeah."
5304700,5306060," It's wasm image pointer."
5306060,5310460," So this is image pointer like so."
5310460,5314460," Then image width and image height."
5314460,5316540," So X, Y, Z is pretty easy."
5316540,5319580," So position X, right?"
5319580,5326220," So position Y, just Z."
5326220,5332860," I want to maybe in here, I can just straight up get rid of the, all of the numbers like so."
5332860,5335660," So crop position."
5335660,5336700," Okay."
5336700,5343500," So this one is very interesting because we need to figure out the default values for all of these things."
5344220,5344540," Right."
5344540,5349820," And we're not doing that anywhere in here."
5349820,5352140," So we're doing that somewhere here."
5352140,5356540," Ah, so we're checking if it's a position."
5356540,5357260," Yeah, that's fine."
5357260,5362460," Um, it's always an image, so we don't have to even worry about that."
5362460,5364940," Okay."
5367980,5370140," So if crop position isn't defined."
5370140,5371500," Yeah."
5371500,5377820," I need intermediate values for crop position and crop size."
5377820,5380940," How can I call them?"
5380940,5382060," So."
5382060,5386300," Crop position one."
5386300,5388220," I honestly don't know how to call them."
5388220,5390380," So position size."
5391580,5392300," I'm sorry."
5392300,5394140," I just like don't know how to fucking call them."
5394140,5395660," Right."
5395660,5395980," So."
5395980,5400780," So there's only three of them."
5400780,5403180," So it's a crop position one."
5403180,5404220," All right."
5405100,5407100," And, uh, this one."
5407100,5408460," So this is a crop size."
5408460,5413900," So it's a crop size one."
5413900,5414700," Boom."
5414700,5415900," Right."
5415900,5420060," Now what I'm doing in here, I'm just like passing them like so."
5420060,5423340," Because I figured out their default values."
5423340,5426620," Crop size one."
5428060,5428860," Size one."
5428860,5429420," Why?"
5429420,5431980," So it has to be sort of like an intermediate value."
5431980,5434860," So, and all of that stuff goes away."
5434860,5438220," Um, yeah."
5438220,5442940," So this is because these, uh, these things can be missing."
5442940,5445100," So we need to come up with the default values for them."
5445100,5448620," So that's what we're doing in here, essentially."
5448620,5450540," It's not that much work, honestly."
5450540,5451500," It's not that much work."
5451500,5456300," It would be kind of cool to move all of that work entirely into WebAssembly."
5456300,5460300," But that means I have to modify every place that does push sprite."
5460300,5461100," And I don't want to do it."
5461100,5463980," It's actually convenient to do it like that."
5463980,5465660," But anyway."
5465660,5467980," So we only got nine errors."
5467980,5468620," Look at that."
5468620,5469980," We only got nine errors."
5469980,5471020," That is insane."
5471020,5473660," That is insane."
5483820,5486380," So we need to push actually WASM client in here."
5486380,5488460," But where can we get the WASM client?"
5488460,5494060," So the WASM client, WASM client, WASM client."
5494060,5494300," Okay."
5494300,5495660," So that's, that's fine."
5495660,5496700," Still nine errors."
5496700,5497660," Okay."
5497660,5498460," WASM client."
5498460,5505420," Bilingual jokes."
5505420,5506540," Yes, I really like that one."
5506540,5509100," Nice one."
5509100,5513020," So this is update particles."
5513020,5516060," Oh, WASM client, WASM client."
5516060,5518140," All right."
5518140,5521740," So, still nine."
5524620,5526220," Ah, this is WASM common."
5526220,5527580," It should become WASM client."
5527580,5536460," This is WASM client."
5536460,5538380," Eight."
5538380,5541180," Finally, we got it down to eight."
5541180,5543020," Oh, my God."
5543020,5544460," Oh, shit."
5544460,5546300," I don't even know which ones are."
5546300,5556140," So we can figure it out."
5556140,5557500," I think we can figure it out."
5557500,5559100," So just a second."
5559100,5563820," I think eight errors is fine for now."
5563820,5565980," Yeah, maybe."
5565980,5567180," Maybe they are."
5567180,5569340," So what are we missing in here?"
5569340,5574460," We're definitely missing reset sprites and sprite pool."
5574460,5576860," So, yeah."
5576860,5580300," So this is the buffer and the flow."
5580300,5584860," And between those things, we have allocate sprite and this thing."
5584860,5587740," And essentially what we have to do in here,"
5587740,5591900," we have to take this thing and just say WASM instance,"
5591900,5596380," experts, this thing as that."
5596380,5597260," And that's fine."
5598380,5598860," All right."
5598860,5598940," All right."
5598940,5602780," And also after that, so render walls."
5602780,5605020," Here's the render walls."
5605020,5608220," And after render walls, we edit a bunch of things as well."
5608220,5612300," So which we want to actually put in here."
5612300,5614780," Uh-huh."
5614780,5620220," So this is going to be comma, comma, comma, comma."
5621660,5622540," Uh-huh."
5622540,5625900," And I wonder how can we easily just do the thing."
5625900,5630380," I think the way we do the thing is like this."
5630380,5637820," I just grab these things and WASM instance, experts, boom, as."
5644540,5651500," This is literally why people hate C developers, because we can just do shit like that, like nothing."
5651500,5658620," Like, this is literally why people hate us, because we can easily work with this kind of code."
5658620,5663340," Which is probably causing like a rendering artifacts on your screen right now."
5664780,5665820," I can actually read that."
5665820,5666700," It's, it's fine."
5666700,5668940," Like, it's like, it's a normal code for me."
5671340,5678780," Why C developers are constantly obfuscating their code?"
5678780,5694140," This is art."
5694140,5696700," But we're now down to seven compilation errors."
5696700,5698540," All right."
5698540,5699980," Show me the next compilation."
5699980,5700620," Uh-huh."
5700620,5703100," So this one is just accept WASM client."
5703100,5703980," No big deal."
5703980,5704380," Easy."
5704380,5706620," Six compilation errors."
5706620,5709100," Reset sprite pool."
5709100,5709660," Ah."
5709660,5711500," This one is not even accessible."
5711500,5711740," Right."
5711740,5713740," So here we have to accept WASM."
5713740,5716860," We have that in the game, I think."
5716860,5717340," WASM."
5717340,5717580," Yeah."
5717580,5718300," WASM client."
5718300,5720940," Reset sprite pool."
5720940,5724620," And we just do game sprite pool point."
5724620,5725900," So it's no big deal."
5725900,5728300," Wait a second."
5729180,5730860," Um, reset."
5730860,5734300," And in the sprite pool."
5734300,5737980," I think we actually have to reset visible length as well."
5737980,5739260," I think that's kind of important."
5739260,5740860," Sprite pool."
5740860,5742620," Visible length."
5742620,5742940," Also."
5742940,5743180," Yeah."
5743180,5745020," So we have to reset both of them, I think."
5745020,5747340," So update items."
5747340,5749660," I suppose now they accept WASM client."
5749660,5749900," Right."
5749900,5752940," So WASM client like so."
5752940,5757100," So game WASM client like so."
5757100,5758860," All right."
5758860,5760380," So here's the push sprite."
5760380,5762620," Game WASM client."
5762620,5765820," Uh-huh."
5765820,5767340," Game WASM client."
5768140,5773500," And now we don't need visible visible sprites."
5773500,5778220," And in here we also don't need visible sprites."
5778220,5781580," Single compilation errors."
5781580,5781820," Okay."
5781820,5782940," So it's probably game."
5782940,5784300," Oh, no."
5784300,5787340," Uh-huh."
5787340,5789180," It's just display with LCTX."
5789180,5793020," Zero compilation errors."
5793020,5796060," Zero compilation errors."
5797820,5799420," This is the ideal code."
5799420,5800220," You may not like it."
5800220,5802300," But it's what peak performance looks like."
5802300,5804140," I don't know."
5804140,5811340," I mean, in a statically typed compiled language, it just doesn't matter."
5811340,5812140," Right."
5812140,5816860," So because the compiler is going to tell you like where the problems are essentially."
5816860,5819500," None of that matters."
5819500,5822620," By the way, visible sprites."
5822620,5824060," I think we need to get rid of that."
5824060,5826140," So that caused a couple of compilation errors."
5826940,5827180," Yeah."
5827180,5829020," It's when we constructed those things."
5829020,5830220," Right."
5830220,5833740," So and we don't need visible sprites anymore in here."
5833740,5835660," Next error."
5835660,5837180," Yeah."
5837180,5839260," So when we're rendering the sprites."
5839260,5841660," Ooh."
5841660,5844460," This one is interesting."
5844460,5852540," This function needs to be moved to WebAssembly as well."
5852540,5853500," I didn't think about that."
5853500,5856540," So this is kind of the main function that needs to be moved to WebAssembly."
5856540,5859660," Honestly, it's the one that renders the sprites in the first place."
5859660,5862700," And it renders them as visible sprites."
5862700,5865020," So and it only accepts like a display."
5865020,5868380," And yeah, so it's actually very easy to move to WebAssembly."
5870060,5871500," Yeah, so let's put it like this."
5871500,5871500," So let's put it like this."
5871500,5873740," A fan void."
5873740,5876780," Render sprites."
5876780,5878940," Do we all have?"
5878940,5880300," Yeah, so this one is fine."
5880300,5882460," So this one is extern."
5882460,5883980," This one."
5883980,5886940," Wasm."
5886940,5889580," So display."
5889580,5893900," So display, display."
5893900,5894860," Where is the display?"
5894860,5895420," I want to..."
5895420,5896780," Yeah, so here is the display."
5896780,5899020," So that's how we're going to do that."
5899020,5900780," And this is the display."
5900780,5904700," Wasm client."
5904700,5907420," We don't need Wasm clients, honestly."
5907420,5909340," So then sprites."
5909340,5911740," Here I'm going to accept only sprite pool."
5911740,5913660," Which is going to be the pointer to the sprite pool."
5913660,5915660," Sprite pool."
5915660,5916060," Like so."
5916060,5917020," This is the pointer."
5917580,5920460," And I'm commenting out this entire scheisse."
5920460,5922700," And just saying that I need to translate that."
5922700,5924540," All right."
5924540,5925340," So."
5925340,5930860," Let me go to Wasm client."
5930860,5932780," I'm going to put that stuff at the bottom."
5932780,5935740," And I'm going to do the usual trick."
5935740,5938780," Get ready, chat."
5938780,5940620," Get f*cking ready."
5940620,5941260," A boom."
5941260,5942300," A boom."
5942300,5943660," A boom."
5943660,5944140," Boom."
5944140,5944700," Boom."
5944700,5945260," Boom."
5945260,5946060," Boom."
5946060,5948140," I won't shoot in my room."
5948140,5950300," Let's spend and try together."
5950300,5951980," Together in my room."
5951980,5953660," Why the f*ck is it?"
5953660,5953980," Okay."
5953980,5955500," All right."
5955500,5956620," That's pretty poogers."
5956620,5966300," So your sprite pool is messed up now."
5966300,5968060," Why is it messed up now?"
5969420,5970860," Eh, it's fine."
5970860,5972620," I mean, the compiler will tell me."
5972620,5973180," So it's."
5973180,5976380," So it's really fine."
5976380,5977820," It's fine."
5977820,5979500," Not coping, chat."
5979500,5980140," I'm not coping."
5980140,5980700," It's fine."
5980700,5982540," Oh, this one."
5982540,5982860," Okay."
5982860,5986460," Oh, that's a very funny sprite pool."
5986460,5989580," All right."
5989580,5990940," So I think it's."
5990940,5992300," Yeah."
5992300,5993820," It's fine."
5993820,5995420," All right."
5995420,5996860," So we have two compilation errors."
5996860,5998140," Let's take a look at them."
5998140,5999100," Far clicking plane."
5999100,5999420," Do we."
5999420,6000300," Do we have it already?"
6000300,6000460," Yeah."
6000460,6000620," Okay."
6000620,6001900," So it's already got migrated."
6001900,6003020," So we don't need it in here."
6003020,6005020," Next error."
6005020,6005420," Yeah."
6005420,6008700," So let me."
6008700,6011020," Split this in half."
6014380,6014940," Go here."
6014940,6015020," Go here."
6015020,6017500," Grab this thing."
6017500,6020380," And then put it in here."
6020380,6029740," So what we just do is wasm instance exports that as that."
6029740,6031820," Is everything okay?"
6031820,6033580," So one compilation left."
6033580,6038060," Some reason I just imagine a pool full of sprites."
6038060,6038860," There is soda."
6038860,6039980," Oh, okay."
6039980,6042140," Very funny."
6042140,6044300," So render sprites."
6044300,6046860," So what is it?"
6046860,6047740," What is it talking about?"
6047740,6049900," So we don't need these kind of sprites anymore."
6049900,6054140," Still one compilation."
6054140,6054540," Aha."
6054540,6058620," This is because we have to now call the wasm function."
6058620,6060700," That's what we have to do now."
6063260,6064780," So we're calling the wasm function."
6064780,6065740," Wasm client."
6065740,6069980," Oh, I think I did a oopsie-doopsie-fucky-fucky-fucky, but that's fine."
6069980,6071100," Wasm."
6071100,6073020," This thing."
6073020,6074300," Render sprites."
6074300,6078380," So display back image pointer."
6078380,6082620," Display back image width."
6082620,6088300," Display back image height."
6088300,6092380," And sprite pool should be its own separate thing"
6092860,6094540," that we pass in here."
6094540,6096700," So sprite pool."
6096700,6099420," Sprite pool."
6099420,6101900," All right."
6101900,6103820," So that creates one compilation error,"
6103820,6106860," but it's very easy to fix because it's just sprite pool."
6106860,6108860," Zero compilation errors."
6108860,6110060," Bravo."
6110060,6114780," We moved shed ton of code to C3."
6114780,6118460," So how much code we moved to C3?"
6118460,6120060," This one, this one."
6121580,6126300," So we can even count the amount of lines we moved to C3."
6126300,6132220," We haven't translated them to C3 yet, but that's the code that we moved effectively there."
6132220,6142860," So at least two-handed lines of code were just moved to C3, plus some stuff that are like structures."
6142860,6146380," So more than 200 lines of code, we just moved them to C3."
6146380,6148780," We haven't translated them yet, so they kind of like disable."
6148780,6157820," But the JavaScript code kind of already calls to that code, so it works out."
6158380,6159580," It actually works out."
6159580,6167340," So it's kind of a cool idea to keep these external JavaScript functions that still accept JavaScript"
6167340,6170540," objects, but they just adapt them to WASM."
6170540,6176780," Basically the same thing I said about the frameworks that you use at the beginning of the stream."
6179100,6181020," So it's kind of funny."
6181020,6184540," Anyway, so I think we need to try to compile this entire thing and see how C3."
6184540,6187020," Yeah, C3 also compiles."
6187020,6192220," But does it still render walls and floor ceiling?"
6192220,6192940," I think it should."
6192940,6197820," So I think it should stop rendering the sprites."
6197820,6204140," So we won't be able to see bombs or anything if everything went correctly, if everything went"
6204140,6205500," exactly as we expected."
6205500,6207180," All right."
6207180,6212460," So let me go to the build.js and I'm going to enable building of the TypeScript because I want to"
6212460,6217900," make sure that all of the things are building coherently and there's no errors, mistakes anywhere."
6217900,6222380," We're still assuming non-posex environment, which is everything compiles, right?"
6222380,6230540," So we went through a pretty huge refactoring so far and everything compiles,"
6230540,6233420," which is a good sign, right?"
6233420,6235020," Which is a good sign, very good sign."
6235020,6236620," All right."
6236620,6240460," So let me now do the run."
6240460,6241340," Okay."
6241340,6242940," So this one is missing."
6242940,6246540," So I probably want to get rid of some of these things in here."
6246540,6247980," Right."
6247980,6249740," So we have too many open tabs."
6251100,6253020," npm run serve."
6253020,6254940," All right."
6254940,6256140," So is it serving?"
6256140,6257740," It is in fact serving."
6257740,6258860," Holy shit."
6258860,6260300," This motherfucker still works."
6260300,6261420," How is that even possible?"
6261420,6262540," Wait a second."
6262540,6263420," So console."
6263420,6266620," Console doesn't have any errors."
6266620,6268140," If we did everything correctly."
6268140,6271020," If we did everything correctly."
6271020,6277020," We don't see the sprites, but we hear everything."
6277020,6278940," And if we take a look at the dev tools."
6279820,6282300," There's no errors anywhere in here."
6282300,6288140," So we successfully moved all of the code related to sprite rendering to C3."
6288140,6293660," That is very fucking impressive, honestly, that you can just do that easily."
6293660,6295900," All right."
6295900,6296860," So that's pretty cool."
6296860,6300620," Let me create a separate branch because I want to commit whatever we have in here."
6302380,6306940," So sprites, let's say wasm sprites."
6306940,6309180," So this is a wasm sprites."
6309180,6311580," And all right."
6311580,6317020," So move all these sprites"
6317020,6322860," related code to C3."
6322860,6323180," Right."
6323180,6323820," Okay."
6323820,6325020," We did the committee committee."
6325020,6333660," So now in common C3, we may want to try not really common client C3."
6333660,6335180," I apologize."
6335180,6338460," We want to try to start translating things."
6338460,6340540," So what kind of things we have?"
6340540,6342060," Translate."
6342060,6343500," Render minimap."
6343500,6344620," I'm going to keep it as it is."
6344620,6348860," I don't really use a minimap very often, so I'm going to just keep it in here."
6348860,6352940," I just don't want to lose all of this code in here because it's useful during debugging."
6352940,6356060," I think I'm going to only translate it when I actually need the minimap."
6356060,6356300," Right."
6356300,6357980," So I'm going to keep it like that for for a while."
6357980,6361980," So call and sort sprites is not really that interesting."
6361980,6364220," I think I want to start with pushing the sprites."
6364220,6366300," I think it's more interesting."
6366300,6367900," All right."
6367900,6369740," So what are we doing here?"
6369740,6374700," So this entire thing just allocates the new sprites."
6374700,6376620," So it resizes the array."
6376620,6381020," But we came to a conclusion that we don't really want to resize anything."
6381020,6383820," So we're going to have a fixed array."
6383820,6390300," And if something doesn't fit into the sprite pool, we simply don't push that sprite in there."
6390300,6393100," So what we want to do, we take the sprite pool."
6393100,6399100," So maybe I'm going to do clear replace sprite pool to sprite pool."
6399100,6400300," There we go."
6400860,6405900," So if the length is greater than the sprite pool capacity, sprite pool capacity."
6405900,6407580," Very cool."
6407580,6410540," We just do return and don't do anything."
6410540,6413180," So that's basically what this condition turns into."
6413180,6415340," To make it cooler, I'm going to make it one liner."
6416460,6419740," So see chad one liner return."
6419740,6422300," This is how see chad return from the phone."
6422300,6423340," I'm joking."
6423340,6427420," But anyways, so in here we have last."
6427420,6430460," So I suppose we just do sprite."
6430460,6436300," I think I'm going to go through this entire thing and create replace sprite pool like so."
6436300,6444380," So if there are too many players throwing bombs, someone could throw invisible bombs."
6444380,6444860," Yeah."
6444860,6445580," For now, yes."
6445580,6451100," But it's very easy to fix in the future."
6451100,6452140," It's very easy to fix."
6452140,6452940," So don't worry about it."
6452940,6454700," Okay."
6454700,6456060," So what do we have in here?"
6456060,6458460," So this is the last thing in here."
6458460,6458780," Right."
6458780,6460700," So, and this is what we do."
6460700,6463580," So an image."
6463580,6467020," So if I try to compile the current thing."
6467020,6470940," And when I'm compiling thing, I think I'm going to disable TypeScript."
6470940,6475820," All right."
6475820,6476540," So we have."
6476540,6481020," So image, you can't really assign image like that."
6481020,6483660," So we only have image pixels and everything."
6483660,6485020," So struct image."
6485020,6486460," Yeah, it has pixels."
6486460,6487420," So pixels."
6487980,6488780," I wonder if I can."
6488780,6492620," Yeah, pixels, pixels."
6492620,6496780," So in here I can just do width."
6496780,6499420," And in here I can just do height."
6499420,6501820," So are you happy with this kind of thing?"
6501820,6507580," So suppose here I can also do X and this one can be Y."
6507580,6509820," And that's about it."
6509820,6515100," So this code is still in JavaScript."
6515100,6515900," So it doesn't matter."
6516540,6519260," And after that, we just increment the length."
6519260,6521100," So that's about it."
6521100,6525420," So that's how we sort of like add a new thing to the pool."
6526060,6529820," So we just translated the code, which is very cool."
6529820,6531100," All right."
6531100,6532220," So let's try to compile that."
6532220,6533260," I think it will compile."
6533260,6535580," All right."
6536220,6538620," So the thing I want to check now."
6538620,6544060," I want to check if it still works, if it doesn't generate any errors."
6544060,6545980," The sprites are not going to be visible."
6545980,6547420," And that is fine."
6548060,6554380," But now these sprites are actually populated when push sprite is called."
6554380,6555980," Right."
6555980,6559900," So now we're actually adding sprites to the WebAssembly memory."
6559900,6561420," And that's what's important."
6561420,6563900," We're actually adding it to WebAssembly memory."
6565580,6566620," So yeah, that's pretty cool."
6566620,6572300," So the next thing we'll probably need to implement is a call and sort arrays."
6572300,6573980," Should be very easy."
6573980,6574620," But we'll see."
6577100,6577420," Okay."
6577420,6580780," So this entire thing compiled without any errors."
6580780,6582860," Let's restart the server just in case."
6582860,6586780," So let's go to here."
6586780,6589180," Oh, bravo."
6589180,6590300," That is..."
6590300,6593740," That is nasty."
6593740,6601100," So something is just corrupting the memory."
6601100,6602700," Like fucking crazy, bravo."
6602700,6605180," A new level pop."
6605180,6605900," Yeah, exactly."
6607260,6608780," So push sprite."
6608780,6611020," So this is bad, by the way."
6611020,6612940," This is insanely bad."
6612940,6615660," Because this is like a memory corruption bug."
6615660,6615900," Right."
6615900,6619180," So that's why you have to program in, you know, in Rust."
6619180,6621980," So I don't really know what the fuck is going on."
6621980,6624460," So let's actually just return out of the push sprite."
6624460,6626300," Right."
6626300,6628140," So the code will never be executed."
6628140,6629100," But is that an error?"
6629100,6630780," I don't think it's an error."
6630780,6634780," So let's just do it like this."
6637100,6638700," The code is never going to be executed."
6638700,6640140," It's all right."
6640140,6644700," Okay."
6644700,6648620," Do we see any mistakes or errors anywhere?"
6648620,6650940," So we're probably not passing shit correctly."
6650940,6652300," Yeah."
6652300,6657900," Push sprite fucks up a lot of shit."
6659180,6659980," I wonder why."
6659980,6666060," I wonder why it fucks up so fucking much."
6666060,6674380," Probably because we do not zero out when we allocate this entire thing."
6674380,6679180," So allocate sprite pool."
6679180,6681900," When we do this kind of thing, do we zero it out?"
6681900,6684460," I don't know."
6684460,6686620," Actually."
6686620,6689980," I don't actually know."
6689980,6691180," It's very interesting."
6691180,6693580," We can give it a try."
6693580,6694940," So let me do node."
6696060,6697340," So we have client and shit."
6697340,6699660," So let's do require."
6699660,6701420," Fs."
6701420,6702940," Const fs."
6702940,6703260," Right."
6703260,6707180," So read file synchronously."
6707180,6708460," And this is a client."
6708460,6708940," Wasm."
6708940,6711500," Web assembly."
6711500,6712860," Instance sheet."
6712860,6715820," And we're going to await the whole thing."
6715820,6717100," Const wasm."
6717100,6720860," So import."
6720860,6721580," What does it say?"
6721580,6723500," Wasm wasm."
6723500,6724300," For fucks sake."
6724300,6724700," Okay."
6724700,6726300," So wasm 2."
6726300,6727980," Whatever."
6727980,6732540," Imports argument must be presented and must be an object."
6732540,6734380," Fuck."
6734380,6738220," Yeah."
6738220,6742780," It wants to have this environment, which is nothing."
6742780,6744220," Yeah."
6744220,6744540," Okay."
6744540,6747500," That's a bit annoying, but that's fine."
6747500,6749980," Client mjs."
6749980,6752620," Make environment."
6754860,6755500," All right."
6755500,6757900," So give me that."
6757900,6764380," Can I wasn't to make environment?"
6764380,6767740," Yes."
6767740,6769100," Finally."
6769100,6769580," Thank you."
6769580,6772300," Exports."
6772300,6774140," And what do we have in here?"
6774140,6775020," Allocate."
6775020,6777740," Sprite pool."
6778380,6780940," So and what we get, we get a pointer."
6780940,6781340," Right."
6781340,6783820," So let's actually save it somewhere here."
6783820,6785900," Null function."
6785900,6787660," Ah, I have to."
6787660,6794380," So maybe I have to initialize this thing first and then."
6794380,6795180," Yeah."
6795180,6795500," There we go."
6795500,6796540," So we get a pointer."
6796540,6796940," That's great."
6796940,6798460," So this is the pointer."
6798460,6802860," So then I do wasm2 instance instance expert."
6802860,6807100," So before you do any allocations, you have to initialize the WebAssembly memory."
6807100,6807900," So that's kind of important."
6807900,6810860," And because of that, I need to actually load it one more time."
6810860,6811740," All right."
6811740,6817580," So wasm2 instance experts initialize."
6817580,6818780," Right."
6818780,6820620," So then a pointer."
6820620,6821100," There we go."
6821100,6821900," We got a pointer."
6821900,6824700," So this is where the sprite pool is located."
6825740,6829020," So then I need to get the memory of this entire thing."
6829020,6831100," So it's going to be experts memory."
6831100,6832220," And we take the buffer."
6832220,6835260," And new int 8 array."
6835260,6837500," Maybe clamped array."
6837500,6839340," So this is that."
6839340,6840940," Pointer isn't offset."
6840940,6842620," And the size, I don't freaking know."
6842620,6845740," Let's actually take maybe 200 bytes."
6845740,6845980," Right."
6845980,6847100," So this is going to be bytes."
6847100,6849900," And everything is just filled with zero."
6849900,6850220," Right."
6850220,6852460," So it's generally zeroed out."
6854780,6856940," Are you only allocating space for a single sprite?"
6856940,6860700," I'm allocating space for the entirety of the thing."
6860700,6862780," So I expect this entire thing to be."
6862780,6865820," Like, yeah."
6865820,6868140," So I expect this structure to be big."
6868140,6870060," So that's what I expect."
6870060,6875580," So what's the size of this structure?"
6875580,6877500," What's the size of the structure?"
6877500,6878700," That's a very interesting question."
6878700,6884220," We can create the trick that was suggested in the chat by somebody."
6884220,6884860," I forgot who."
6884860,6890620," We can just do size of sprite pool function."
6890620,6893820," New sprite is only one sprite."
6893820,6894540," Oh, fuck."
6894540,6894780," We."
6894780,6896620," Oh, my God."
6896620,6897580," Thank you so much."
6897580,6899580," We did that because we were experimenting with."
6899580,6900460," I originally."
6900460,6903660," Thank you so much."
6903660,6905100," Yeah."
6905100,6905980," Mr. Real Grant."
6907580,6911340," Man, chat is so goddamn useful in the sub mode."
6911340,6915340," It's not as active without the sub mode."
6915340,6917020," But it's so higher quality."
6917020,6918540," Damn."
6918540,6921980," I should really consider keeping, you know, sub mode."
6921980,6922780," I don't know."
6922780,6928860," But maybe for some shared post streams, like for Swift one, it's better to actually keep chat rolling because it's kind of fun."
6929500,6935660," But when I'm trying to focus on and trying to actually like implement something, I think sub mode is actually crucial."
6935660,6936300," So I don't know."
6938620,6939500," Yeah, that's so cool."
6939500,6939820," Thank you."
6939820,6940380," Thank you so much."
6940380,6941580," All right."
6941580,6944620," Yes, yes, yes, yes."
6944620,6946380," That's very cool."
6946380,6947340," That probably was the problem."
6949260,6952860," So as you can see, you can have very unsafe situations on the web."
6952860,6955180," Because you're using unsafe languages."
6955180,6958060," Unsafe languages."
6958060,6960140," Not approved by NSA."
6960140,6965900," Imagine using languages approved by NSA."
6965900,6971020," I ran out of tea, by the way."
6971020,6973660," BorrowChecker would have caught that."
6973660,6977740," Honestly, I didn't think BorrowChecker would help in this kind of situations."
6977740,6983260," Because this is bugs that happen at the border of two different languages."
6983260,6987980," And this is where BorrowChecker kind of breaks apart anyway."
6987980,6995020," So in Rust, you are safe only within the Rust bubble."
6995020,6998940," As soon as you're trying to get out of the Rust bubble, this is unsafe all the way through."
6998940,7007260," Anyways, so let's go and just rebuild the whole thing."
7008540,7009100," Yeah."
7009100,7010220," We're rebuilding everything."
7010220,7012220," Okay."
7012220,7016620," And let's just run the surf."
7016620,7019900," And this is why we incrementally testing and checking everything."
7019900,7020300," Exactly."
7020300,7021020," To catch."
7021020,7022220," Okay."
7022220,7023100," It's working."
7023100,7023980," It's actually working."
7023980,7024540," Thank you so much."
7024540,7026700," Thank you so much, guys."
7026700,7028460," I really freaking appreciate that."
7028460,7030540," So we caught an error."
7030540,7031020," Right?"
7031020,7032300," So we literally caught an error."
7033260,7034460," Next one."
7034460,7037500," So next thing that we must translate."
7037500,7045580," Well, we haven't checked that yet."
7045580,7047260," I forgot to uncomment this thing."
7049020,7051420," I forgot to uncomment this scary code."
7051420,7052380," So."
7052380,7057340," So this one for real."
7057340,7058140," This one for real."
7058140,7059020," Okay."
7059020,7060700," Let me restart the whole thing."
7060700,7062060," I don't really have to restart it."
7062060,7062220," right?"
7062220,7063740," Because we're not modifying the server."
7063740,7064300," But still."
7064300,7067980," Everything's fine."
7067980,7069500," Even with the code."
7069500,7070940," With the new code."
7070940,7072380," So we're moving somewhere."
7072380,7073340," We're moving somewhere."
7073340,7074540," Alrighty."
7074540,7075500," So pushing the sprite."
7075500,7076780," The next thing we need to do."
7076780,7078860," We need to call this sprite."
7078860,7080860," So we have sp."
7080860,7082060," I'm not really sure."
7082060,7083020," What the fuck is sp."
7083020,7083820," And why do we need it?"
7083820,7085580," So it's probably going to be."
7085580,7087020," We're probably going to define it down below."
7087020,7087980," So we don't need this thing."
7087980,7090540," So this is the direction."
7090540,7091980," And I suppose."
7091980,7093580," It's a vector."
7093580,7096140," And this is polar."
7096140,7098220," So we already have a function from polar."
7098220,7099900," Alright."
7099900,7101580," So I can do something like from."
7101580,7103180," Polar."
7103180,7104460," Direction."
7104460,7105580," So the camera direction."
7105580,7106860," We do have a camera direction."
7106860,7109420," And the length is one in here."
7109420,7110460," So that's totally fine."
7110460,7112300," So FOV."
7112300,7113340," We're taking the camera for."
7113340,7113820," Okay."
7113820,7115180," So we need FOV."
7115180,7116940," Aha."
7116940,7119340," So what that means."
7119340,7121100," We need to have a camera."
7121100,7122060," Like so."
7122060,7123420," We need to reconstruct."
7123420,7124380," It's kind of funny how."
7124380,7127020," On the JavaScript side."
7127020,7129660," Yeah."
7129660,7129900," So."
7129900,7134060," And this is probably something that your favorite framework does for you."
7134460,7135420," Client."
7135420,7135420," Client."
7135420,7135980," MTS."
7135980,7139180," It's really funny how."
7139180,7140140," On the JavaScript side."
7140140,7142060," We accept JavaScript object."
7142060,7146220," Then we destructurize it into integers."
7146220,7148460," And pass them into the WebAssembly."
7148460,7149580," Look."
7149580,7150620," We take the camera."
7150620,7154300," We destructurize the entire camera into a sequence of integers."
7154300,7156140," And pass it to WebAssembly function."
7156140,7158140," And on the WebAssembly part."
7158140,7161100," We accept the triple of numbers."
7161100,7164060," And we reconstruct the object back."
7164060,7166940," Marshalling and marshaling."
7166940,7167180," Yeah."
7167180,7167580," Exactly."
7167580,7169580," That's a very interesting technique to actually do that."
7169580,7170540," That's kind of funny."
7170540,7172700," So."
7172700,7173580," Yeah."
7173580,7175420," So."
7175420,7175820," And again."
7175820,7177420," This is exactly what I'm talking about."
7177420,7180540," Once all of the code is within WebAssembly."
7180540,7182060," We just don't have to do that anymore."
7182060,7185180," And we can collapse all of these destructurized structures."
7185180,7187820," That we're passing around as integers and flows everywhere."
7187820,7190700," Using signatures to implement passby."
7190700,7191100," Exactly."
7191100,7191740," That's what I'm doing."
7191740,7193340," That's what I'm doing."
7194540,7195580," So that's actually kind of cool."
7195580,7197740," All right."
7197740,7198540," So FOV."
7198540,7199980," So this is a vector, obviously."
7199980,7202060," But here we just take the FOV right."
7202060,7205740," And we're subtracting FOV left."
7205740,7206620," Look at that code."
7206620,7208380," Look at that code."
7208380,7210380," Sexy code."
7210380,7212540," Anyways."
7212540,7214060," So what do we have in here?"
7214060,7215980," So let me try to rebuild this anything."
7215980,7218540," So it doesn't build, unfortunately."
7218540,7220460," Because it's a position X."
7220460,7222860," This thing is a camera position X."
7222860,7223180," Okay."
7223660,7225100," So camera position X."
7225100,7226060," 9 out of 10."
7226060,7226540," God damn it."
7226540,7229340," Lost one point."
7229340,7230860," Lost one point."
7230860,7231820," All right."
7231820,7233580," So camera direction."
7233580,7234620," All right."
7234620,7235420," That's cool."
7235420,7239260," So I suppose that compiles now."
7239260,7240540," Okay."
7240540,7240780," Cool."
7240780,7242540," Next thing."
7242540,7243740," So visible sprites."
7243740,7248300," As far as I know, it's part of the sprite pool."
7248300,7250460," So we have a visible length."
7250460,7252860," And we're just setting it to zero."
7252860,7253180," Okay."
7253180,7253820," So that's cool."
7253820,7259260," And we do this loop."
7259260,7261740," And this loop is essentially."
7261740,7263180," Oh, it's probably integer."
7263180,7263820," Right."
7263820,7269900," Let me go ahead and simply query replace."
7269900,7271740," Yeah."
7271740,7273660," So it's already prepared for me."
7273660,7275100," Oh, that's actually very easy."
7275740,7276220," Anyways."
7276220,7278060," So we have that."
7278060,7279260," Does it compile?"
7279260,7282780," By the way, we'll need sorting."
7282780,7285020," Does C3 have sorting?"
7285020,7288460," I'm really curious."
7288460,7290300," It's a very interesting question."
7290300,7292860," So this is a single item."
7292860,7294380," So that means this thing is a sprite."
7294380,7300060," But here I would rather actually take this thing by a reference."
7300060,7301180," All right."
7301180,7303900," So what I do in here, I just have an alias for the sprite."
7303900,7305260," So that's basically what it is."
7305900,7307340," And here is the sp."
7307340,7307660," Okay."
7307660,7315500," So sp vector 2 is equal sprite position minus camera position."
7315500,7316140," Oh, my God."
7316140,7320140," Freaking love this code."
7320140,7321020," Okay."
7321020,7324460," So now we have sp, which is just a float."
7324460,7325740," Right."
7325740,7326620," So it's a length."
7326620,7328620," Well, I mean, it's just like a small float."
7328620,7332220," Okay."
7332220,7334220," So let's try to see if it compiles."
7334220,7337020," It's very easy to translate, actually."
7337020,7341180," So translating is a very easy process."
7341180,7344860," So this one is super easy."
7345500,7349020," It has a std sort module."
7349020,7349180," Okay."
7349180,7350540," So let's take a look at it, actually."
7350540,7354620," So there should be something I can do."
7354620,7360140," Rg vim grep fn through one single space sort."
7360140,7361500," That's fine."
7361500,7361740," Okay."
7361740,7362300," So here it is."
7362300,7366300," Oh, it's an entire module that can..."
7366300,7370460," It's kind of interesting, actually."
7372060,7377900," So you choose yourself what kind of sort you want."
7377900,7380460," You want a quick sort, insertion sort, counting sort."
7383100,7383420," Right."
7383420,7385100," You explicitly call to sort."
7385100,7387500," There's no just abstract sort."
7387500,7389980," Right."
7389980,7390220," So."
7390220,7392780," All right."
7392780,7394620," And it's, you know, custom implementation."
7394620,7396140," Based on..."
7396140,7398780," That's very interesting."
7398780,7401180," Okay."
7401180,7405260," Optimized quicksort C implementation, non-recursive."
7409500,7413180," CMP fn is abstract."
7413180,7415180," What is it, though?"
7415180,7420220," Oh, it's going to be a pain in the ass to use, I suppose."
7420220,7422940," But anyway, maybe there are some examples on how to use that."
7422940,7426860," So the most important thing is that, you know, it exists, right?"
7426860,7429260," So we can sort things, which is nice."
7429260,7431340," All right."
7431340,7432220," So we have a float."
7432220,7435980," So it's dot divided by SPL and some other things."
7435980,7439740," So sprite is outside of the maximum, blah, blah, blah."
7439740,7444460," So this is where we're using this internal, you know, things, right?"
7444460,7445180," Private things."
7445180,7448460," Let me see if it's still compilable."
7448460,7450380," Oh, well, this is not how we're compiling."
7450380,7455260," Damn, it's still compilable."
7455260,7455740," Look at that."
7457420,7459020," So we have normalization in here."
7459020,7459900," Yeah."
7459900,7467500," So normalization is just normalize, scale means just multiply."
7467500,7468700," All right."
7468700,7469260," Like so."
7469260,7477100," Then we just add camera position and subtract camera fov left."
7478700,7480460," So yeah, that's what we do."
7480460,7485340," But that's kind of weird."
7485340,7486780," So what we are assigning this to."
7486780,7489500," Let me go back."
7489500,7501740," So norm, all of the operations in vector2 in JavaScript are in place."
7501740,7506220," So that means we're actually effectively assigning this thing like this."
7507020,7507500," All right."
7507500,7510540," So we are normalizing this entire stuff."
7510540,7514060," Then we're multiplying it by sprite destination."
7514060,7516140," Then we're just adding this stuff."
7516140,7518700," And then we subtracting this stuff."
7518700,7520620," I'm not sure about the order of operations,"
7520620,7523820," but I suppose I don't really have to put this parentheses in here."
7523820,7525420," But for some reason, I feel like I want to."
7525420,7527340," So yeah."
7527340,7530620," Let's see if this compiles."
7530620,7533260," Damn, I think."
7533260,7534220," Yeah, it does compile."
7534220,7534460," Okay."
7534460,7537580," So we take the length of this thing."
7537580,7538620," Then that one."
7538620,7539580," Okay."
7539580,7541420," So we need to have sign."
7541420,7541820," All right."
7541820,7545980," So and I think we just did copy sign."
7545980,7547100," And copy sign."
7547100,7549420," We just do one."
7549420,7550780," Yeah."
7550780,7556460," So copy sign accepts length."
7557980,7560860," And then the sign from which we want to steal."
7560860,7563820," The number for which we want to steal the sign."
7563820,7567900," Nothing."
7567900,7572300," That's you pass a comparison binary function pointer to it."
7572300,7572780," Okay."
7572780,7573020," Wait."
7573020,7575020," Are you a professional C3 developer?"
7575020,7576300," Are you a professional C3 developer?"
7576300,7577980," Because you seem to know about this thing."
7577980,7578540," Oh."
7578540,7580220," All right."
7580220,7583740," So in here, we're just subtracting this entire thing."
7583740,7585100," Like so."
7585100,7587980," And then we take in a dot product of this stuff."
7587980,7588540," Right."
7588540,7589260," Is that correct?"
7589260,7589820," Just a second."
7589820,7590940," Yeah."
7590940,7593900," So this is just sub."
7593900,7595500," All right."
7595500,7598220," So that seems about right."
7598220,7603340," And then we're pushing this entire thing to visible sprites."
7605740,7607100," No, I just look up C3 code."
7607100,7607420," Okay."
7607420,7617900," So or SPL for V as the first argument of copy sign."
7617900,7618940," I don't know."
7618940,7623580," So I just used this thing."
7623580,7625100," All right."
7625100,7629740," So now we need to push it to visible sprites."
7629740,7634780," I think you're not going to have more visible sprites than you have"
7634780,7636460," sprites originally pushed."
7636460,7638780," So we don't really need to check for overflow."
7638780,7640700," I think."
7640700,7641820," So sprite pool."
7641820,7646540," So we have visible items."
7646540,7648380," All right."
7648380,7649580," So visible items."
7649580,7659820," And I suppose what we do is just visible length plus plus."
7659820,7663020," Just something like this."
7664380,7664860," So yeah."
7664860,7668220," I think we basically translated the whole thing already."
7668220,7671100," So it complained about something."
7671100,7672860," Aha."
7672860,7674140," It's a freaking pointer."
7674140,7675660," Freaking."
7675660,7677180," Though it's kind of an interesting idea."
7677180,7678300," What if we really."
7678300,7679980," Yeah."
7679980,7683100," What if visible items are actually pointers?"
7687900,7688460," Why not?"
7688460,7688460," Why not?"
7688460,7688460," Right."
7688460,7693660," So it's just like it's easier to sort them and stuff like that."
7693660,7697180," Because they're small objects and stuff."
7697180,7699340," Let's see."
7699340,7699740," Let's see."
7699740,7700140," Why not?"
7707100,7707420," Okay."
7707420,7707420," Okay."
7707420,7711500," So call blah blah blah."
7711500,7711820," Okay."
7711820,7714060," So now we need to sort them."
7714060,7715420," Actually."
7715420,7715580," Right."
7715580,7716540," So we need to sort them."
7718380,7719580," So we need to import."
7719580,7723580," So quick sort example usage."
7723580,7723820," Okay."
7723820,7724620," So let me take a look."
7724620,7725020," Thank you."
7725020,7725580," Thank you so much."
7725580,7731180," So maybe I'm going to put that as a references description."
7734460,7736060," You even use the commit."
7736060,7739340," You even pinned the commit by pressing Y probably."
7739340,7743660," You are using Emacs or Emacs GitHub for quite some time already."
7743660,7748140," So you know all the tricks and stuff."
7748140,7749820," CMT."
7749820,7750700," Do we have like."
7750700,7752140," Do we really have to do it like this?"
7752140,7753020," This is kind of weird."
7753020,7755980," So we do."
7755980,7759740," STD sort and."
7759740,7761260," All right."
7761260,7763020," So quick sort."
7764460,7768780," I'm kind of disappointed that I have to explicitly."
7768780,7769100," You know."
7769100,7771340," Define this function."
7771340,7772220," But."
7772220,7773820," What can I do?"
7773820,7777100," Quick sort."
7777100,7779980," And what am I sorting?"
7779980,7783980," I'm sorting."
7783980,7787980," Visible items."
7787980,7790540," Visible items."
7790540,7792060," But I actually want to sort."
7794460,7795740," This kind of stuff."
7795740,7799100," Right."
7799100,7802460," You can align."
7802460,7804460," Define the functions as well."
7804460,7804940," I see."
7804940,7810460," So this is not particularly a great example."
7810460,7811900," Because I have a very small."
7811900,7814540," You know."
7814540,7815020," Function."
7815020,7817260," And I don't want to define a separate function for that."
7817260,7818860," It's kind of like overkill."
7818860,7819740," It's a huge overkill."
7819740,7821020," like I want something simpler."
7821020,7823580," All right."
7823580,7825340," So I'm going to grab it myself."
7825340,7829900," I'll go."
7829900,7831820," All right."
7831820,7833100," It asked me to save shit."
7833100,7834300," Save it already."
7834300,7834620," Please."
7834620,7835500," Okay."
7835500,7838940," Maybe I should have used."
7838940,7842140," an RG and VimGrap."
7842140,7844780," I didn't like that."
7844780,7847340," All right."
7847340,7847660," Okay."
7847660,7848220," So I see."
7848220,7848460," Okay."
7848460,7848780," Okay."
7848780,7849900," So this is a good example."
7849900,7851020," Yeah."
7851020,7852060," This is what I'm looking for."
7852060,7855900," This is what I'm looking for."
7855900,7856940," Bro, bro, bro."
7856940,7872380," All right."
7872380,7876860," But I wonder."
7876860,7878700," Can I just return float in that case?"
7878700,7880140," Because those things are floats."
7880140,7882940," And I want to do sprites."
7882940,7883820," Can you see shit?"
7883820,7884140," Yeah."
7884140,7885500," So here's sprite A."
7885500,7887260," Sprite B."
7887260,7890540," Not busy."
7890540,7890940," Yeah."
7890940,7891820," I apologize."
7891820,7892540," I apologize."
7892540,7893980," So now it should be visible."
7893980,7895900," And I can."
7895900,7900220," Put it like that."
7900220,7906860," Let's see if it's going to work."
7911980,7912540," All right."
7912540,7914940," So let's go."
7914940,7916300," All right."
7916300,7916860," Let's compile."
7916860,7919180," So expected semicolon."
7919180,7924780," This is the least expected offender."
7924780,7931420," Is valid CMP for expected a comparison function which compares."
7937580,7938700," It's such a funny error."
7938700,7938700," It's such a funny error."
7938700,7944540," Expected a comparison function which compares values."
7944540,7945580," Hey."
7945580,7946860," Hey."
7946860,7947180," Okay."
7947180,7950220," Let's go."
7950220,7954860," Rgm crap."
7954860,7959660," So what do you want from it?"
7959660,7961340," Type."
7961340,7965260," Kindness."
7965260,7966460," It's a kind of func."
7966460,7967820," I really like this thing."
7967820,7968140," Kind of."
7968140,7970380," Kind of func."
7970380,7970620," So."
7970620,7972380," All right."
7972380,7978380," Type is empty macro slot."
7978380,7982700," All right."
7988140,7990220," I have no idea what the fuck is going on."
7990220,7993740," Returns signed int."
7993740,7994060," Wait."
7994060,7995980," Ah."
7995980,7996380," I see."
7996380,7996620," Okay."
7996620,7997180," So I see."
7997180,7999100," Returns kind of signed int."
8009580,8010540," But I have flows."
8010540,8010780," But I have flows."
8010780,8011420," What do I do?"
8011420,8013580," Okay."
8013580,8016540," And quicksword."
8016540,8023580," Can I just do something like math."
8023580,8025820," Copy sign."
8025820,8032700," Multiply by that."
8033740,8034140," Okay."
8034140,8037420," Copy sign."
8037420,8039820," Copy sign works."
8039820,8040700," Wait."
8040700,8041660," Copy sign."
8041660,8042540," Which one goes?"
8042540,8042860," Yeah."
8042860,8043580," So this one."
8043580,8044620," And just like int."
8051260,8051500," So."
8051500,8055740," Completely random question."
8055740,8056460," Not related to."
8056460,8058460," Have you ever used index DB for anything?"
8058460,8058700," No."
8058700,8062300," All right."
8062300,8063100," So."
8063100,8065740," Let's go."
8065740,8070140," Okay."
8073020,8075260," I think it might actually work."
8075260,8077660," Might actually work."
8077660,8087260," Not sure how good of an idea to do quicksword if you have a small amount of things."
8087260,8094860," Maybe you should use like an insertion sort if the size is smaller."
8094860,8100620," Usually like a generic sort function in STD takes care of that."
8100620,8102380," If you know what I'm talking about."
8102380,8104140," Usually they have this sort of threshold."
8104140,8109260," After which they're just using the, you know, square sort."
8109260,8111100," But anyway."
8111100,8113580," Everything seems to be compounded."
8113580,8115420," All right."
8115420,8117740," Let's see if we didn't break shit."
8117740,8118300," All right."
8118300,8118540," So."
8118540,8121180," It has quick in the name."
8121180,8121420," Yeah."
8121420,8123500," That means it's quick."
8123500,8125180," Okay."
8125180,8126940," So we didn't break shit."
8127820,8128220," Uh."
8128220,8133180," Okay."
8133180,8137100," Okay."
8137100,8137420," Okay."
8137420,8140380," So we just like, we translate it successfully."
8140380,8141180," Almost."
8141180,8144060," Like we don't really know until we actually see them."
8144700,8148380," So the next thing we need to do, we need to finally render the sprites."
8148380,8150380," So let me take a look at all of the translates."
8151420,8153180," So minimap doesn't matter."
8153180,8154140," We translated that."
8154140,8156460," We translated that."
8156460,8158300," And that's the last thing we need to translate."
8158300,8158540," Okay."
8158540,8161020," So back image."
8161020,8162140," We don't care about that."
8162140,8162780," Zbuffer."
8163580,8165580," We don't really care about that."
8165580,8167420," Oof."
8167420,8173020," We don't pass Zbuffer."
8173020,8175020," We need to do that."
8175020,8176620," We need to do that."
8176620,8180540," We actually do that in here."
8180540,8191900," So that's the Zbuffer, which means that we have to update the signatures in JavaScript."
8193580,8195100," Client emptiness."
8195100,8201260," So Zbuffer number."
8201260,8204940," Number."
8204940,8207340," Yeah."
8207340,8208220," So after height."
8208220,8209820," Next."
8209820,8213180," Display."
8213180,8215980," Zbuffer pointer."
8215980,8218060," All right."
8219660,8220620," After height."
8220620,8227020," I think that's the only places where we need to do modifications."
8227020,8227260," Yeah."
8227260,8229500," All right."
8229500,8232460," So let me double check that everything abiles."
8232460,8234140," Everyone is happy."
8234140,8235340," Everyone seems to be happy."
8235340,8239980," Right."
8239980,8241100," And we can start."
8241100,8243020," So we don't need any of that stuff."
8243020,8246140," So when we're iterating the sprites, we're actually iterating the visible sprites."
8248540,8259660," So what that means we are doing zero sprite pool visible length plus plus height."
8259660,8260460," That's what we're doing."
8260460,8262140," That's what we're doing."
8262140,8262860," It's very important."
8262860,8271100," So and since we were doing for each in here, what we have to do, we have to like have a pointer to the"
8271100,8272860," sprite, to the sprite that we currently rendering."
8273340,8276620," sprite pool visible height."
8276620,8278700," Is it called visible items?"
8278700,8279100," Yeah."
8279100,8281660," And we're going to be taking the pointer."
8281660,8285420," So it's still compiling?"
8285420,8286380," No, it doesn't compile."
8286380,8289660," Ah, it's already pointer."
8289660,8291980," Oh, that's actually kind of cool."
8291980,8293660," That's actually kind of cool that it's already pointer."
8293660,8294300," So I don't have to."
8294300,8294460," Yeah."
8294460,8294780," Perfect."
8294780,8295100," Perfect."
8295980,8297820," Um, that's actually super cool."
8297820,8301340," Yeah, that was a good extra kind of cool idea."
8301340,8304620," So we're using display back image width."
8304620,8309580," So I might as well just create a super quickly query replace with display width."
8309580,8311500," Everywhere we use all of that."
8311500,8313500," So it's a little bit easier to translate."
8313500,8315660," Uh huh."
8315660,8328220," So this one we're going to be clearly replacing the whole thing."
8328220,8331580," Display height."
8331580,8333180," All of these things."
8333180,8334780," Boom."
8334780,8336620," And this is float obviously."
8336620,8340780," This is obviously float."
8340780,8343180," Max sprite size."
8343900,8344220," Okay."
8344220,8347100," I think this is also float."
8347100,8351020," I think this is also float."
8351020,8356860," X1, X2, BX1, BX2 probably going to be integers."
8356860,8357660," Right."
8357660,8363580," Because we're trying to sort of like, you know, align things properly and just floor them and stuff like"
8363580,8363820," that."
8363820,8369180," And then we're going to be using BX1 and BX2 in the loops to iterate pixel by pixel."
8369180,8370700," So that means they have to be integers."
8372060,8372380," Right."
8372380,8376060," So we kind of can't do integers in JavaScript."
8376060,8377820," That's why we have to do these stupid tricks."
8377820,8379820," I'm sure how C3 defines it."
8379820,8384700," But in C the quicksort functions never promises to use quicksort algorithm in particular."
8384700,8385500," Ah, okay."
8385500,8386460," That's very interesting."
8386460,8391660," But I mean, we have the exact implementation in here."
8392940,8394540," So quicksort."
8394540,8395820," We can take a look at it."
8395820,8399820," So it uses qsort."
8399820,8400220," All right."
8400220,8402380," So let's find this function qsort."
8402380,8403340," All right."
8405900,8407980," So low and high."
8407980,8415980," It's kind of difficult to read."
8415980,8422380," But I didn't really see it calling to a lower level sort."
8423020,8424700," Does it have any low level sort?"
8424700,8426380," Maybe not."
8426380,8427420," I don't know."
8427420,8431020," So, anyways."
8431020,8433420," So what we're going to do in here is just that."
8433420,8434860," I might as well, by the way."
8434860,8440540," Just quick replace math floor with math floor."
8440540,8444140," And you see the function is relatively okay to read."
8444140,8444620," Ah, okay."
8444620,8446140," But maybe it's just my skill issue."
8446140,8448300," Which is fine."
8448300,8448700," It's fine."
8448700,8449820," I just need to get used to that."
8449820,8452140," All right."
8452140,8453580," So we have a sprite size."
8453580,8458780," Maybe I should actually get rid of the camel casing in here."
8458780,8460140," But I mean, I already can use it."
8460140,8460620," So whatever."
8460620,8463820," So this one is an integer."
8463820,8466540," And this one is an integer."
8466540,8469980," So let me double check."
8469980,8474300," So display height."
8474300,8477020," Ah, that's fair."
8477020,8478780," All right."
8478780,8479020," So."
8479020,8483820," How to explicitly make them floats."
8483820,8486620," Them floats."
8486620,8489340," All right."
8489340,8492220," So we can replace math max."
8492220,8496220," Honestly, I can just do math dot and replace it with math colon colon."
8496220,8497580," And that will work."
8497580,8498780," I don't know why I didn't do that."
8498780,8501020," Okay."
8501020,8501660," So in here."
8501660,8503820," This is integer."
8503820,8507580," So we can just do it like that."
8507580,8508780," So this is an integer."
8508780,8511580," I don't even have to."
8512300,8514140," Yeah, because it's already integer."
8514140,8515660," So it's totally fine."
8515660,8516940," This one, on the other hand."
8516940,8521820," I'll have to explicitly cast it to integer."
8521820,8524860," This one, not so much."
8524860,8528060," All right."
8528060,8530460," It's a pretty dense mathematical code."
8532780,8536700," So you can clearly see that this code was written by a mathematician, right?"
8536700,8540140," The famous mathematician code, right?"
8540140,8541580," The famous mathematician code."
8541580,8543740," All right."
8547020,8549900," So destination, sprites."
8549900,8557020," So, okay."
8557020,8558700," Let me just, you know, try to."
8558700,8560940," It doesn't compile."
8560940,8562860," I don't have it here."
8562860,8564140," Max sprite size."
8565820,8567820," So it's something about, yeah."
8567820,8568780," About floats."
8568780,8569340," Let's see it again."
8569340,8575500," Seems to be compiling."
8575500,8575740," Okay."
8575740,8577180," So we're almost there, by the way."
8577180,8578220," We're almost there."
8578220,8582380," So we have this helper for SRC and DST."
8582380,8585820," I'm not sure if we need it, honestly."
8585820,8587020," I'm sure if we need it."
8587020,8592620," Because SRC is basically the sprite image that we have in there, right?"
8592620,8593980," So we take a look at the sprite."
8595660,8598620," So it's that pixels of the image."
8598620,8602940," So I'm not sure if we need any of that stuff."
8602940,8607180," So we only use SRC, yeah, down there."
8607180,8609980," So I'm going to just command out this thing for now."
8609980,8613020," This is going to be that."
8613020,8614620," And this is going to be that."
8614620,8616060," This one is very easy."
8616060,8620540," So just int x from bx to by."
8620540,8621900," So that's totally fine."
8623740,8626620," This one is super easy."
8626620,8627500," So zbuffer."
8627500,8631500," Actually, yeah, the buffer is very interesting."
8631500,8634060," So zbuffer, zbuffer."
8634060,8636700," We use it only once, so it doesn't matter."
8638220,8642380," So this one is just integer."
8642380,8646700," Let's see, let's see, let's see."
8646700,8649580," No errors."
8649580,8650060," Look at that."
8650060,8650620," That's pretty cool."
8650620,8652060," Okay."
8652060,8655180," So here we just take the difference and we..."
8655180,8655340," Oh yeah."
8655340,8657900," So here we're just remapping some of the stuff."
8657900,8659500," We're just remapping."
8659500,8665340," So because of that, I have to probably explicitly, by the way..."
8665340,8670300," I'm not sure, because sprite size is already float."
8670300,8672700," So it will probably convert it to float anyway."
8672700,8673900," So maybe I don't have to do that."
8673900,8675740," Right."
8675740,8677340," So this one is going to be integer."
8678940,8684700," So we have this thing where we are..."
8684700,8686540," Yeah."
8686540,8691260," So this is a crop position, sprite image width."
8691260,8693900," You can't see that, but yeah."
8693900,8696540," So crop position x."
8696540,8700460," And then we're multiplying this entire stuff by four."
8700460,8706380," And I believe we're multiplying it by four because we were operating on a level of individual bytes."
8706380,8708380," I don't think we need to do that anymore."
8708380,8708620," Right."
8708620,8714380," I think we can just freely, you know, compute like so."
8714380,8715580," Here's the destination."
8715580,8718780," And the same goes for the destination."
8718780,8720380," We don't need to multiply it by four."
8720380,8722220," All right."
8722220,8723500," So alpha..."
8723500,8725580," Yeah."
8725580,8727660," So we're just using SRC."
8727660,8729340," And what is SRC?"
8730460,8734300," What is SRC?"
8734300,8737900," So I think we do need to define SRC and disting."
8737900,8741420," I think they are very valuable, but they're going to be defined as color."
8741420,8746060," So it's basically sprite image pixels."
8746060,8747420," That's what it is."
8747420,8751580," But because pixels is actually..."
8751580,8752060," Oh, no."
8752060,8752780," It's actually pointed."
8752780,8753500," So that's perfect."
8753500,8758780," And destination is actually displaying."
8760620,8760860," Okay."
8760860,8762300," So that works out surprisingly."
8762300,8766300," So plus three is basically A."
8766300,8767020," It's alpha."
8767020,8767900," All right."
8768700,8781180," So in here, I'm pretty sure I can quite replace space plus zero this with this R."
8781180,8785740," I couldn't do that because, yeah, I used the wrong thing."
8785740,8786860," Boom."
8789420,8792940," So then I can quite replace one with G."
8792940,8793900," Boom."
8793900,8799580," And I can quite replace now two with G."
8799580,8800460," Boom."
8800460,8806540," You only need one assignment."
8810380,8813020," I want to just translate the code as it is for now."
8813020,8816780," Then we can use..."
8816780,8819020," Like, because I'm not sure."
8819020,8820300," I'm just not sure."
8820300,8824380," I'm simply not sure."
8824380,8829100," Swizzling comes later."
8829100,8831420," So there's some problems with swizzling when you're assigning."
8831420,8833500," You can't use swizzling when you assign to things."
8833500,8836940," So that means I can't really use things like this."
8836940,8838860," Like, it doesn't work in C3."
8838860,8841100," And I'm sure if it will be working in the future."
8841100,8842380," So it's kind of bizarre."
8842380,8843740," So I don't know."
8843740,8847900," All right."
8847900,8848620," It doesn't compile."
8848620,8854940," Conversion to float because widening of expression may be done in more than one way."
8854940,8855260," Okay."
8855260,8855980," Understandable."
8856860,8859260," We can just do float."
8859260,8867980," So crop size is not what we think it is."
8867980,8870620," So it's a crop size like this."
8870620,8872860," Anything else?"
8872860,8875260," So what do we have in here?"
8875260,8878700," Float cannot be implicitly."
8884140,8890300," So TX and TY, if I understand correctly, it's kind of like a..."
8890300,8899420," When we're cropping..."
8899420,8909980," What's funny is that crop widths and heights have to be integers."
8909980,8911740," I just realized that."
8912300,8914300," They basically are integers."
8914300,8917500," Because we're operating on pixels instead."
8917500,8927420," So that kind of requires re-evaluating something."
8927420,8928860," But not that much, I think."
8928860,8930860," Not that much."
8930860,8933100," Vector."
8933100,8935020," Maybe it's more like I vector."
8937580,8938140," All right."
8938140,8938140," All right."
8938140,8943900," So we can introduce like I vector, which is an integer."
8943900,8950220," It's kind of similar to JLSL or whatever."
8950220,8962300," So and when I'm in JavaScript, what was the function?"
8962300,8964060," I think push sprites."
8964060,8966780," Yeah."
8966780,8977100," So I'm not even doing any things in here that would turn them into integers if they are not integers already."
8979100,8980460," So push sprite."
8980460,8983340," Yeah."
8983340,8984860," This one is actually..."
8984860,8985660," Yeah."
8985660,8987420," So they are integers already."
8987420,8989260," So there's nothing to worry about, I think."
8989260,8991740," Yeah."
8991740,8994300," So I just need to go through these compilation errors and stuff."
8994300,8994940," I don't know."
8994940,9000700," Except when I push this sprite."
9000700,9005100," Why does it just allow me to do integers?"
9005100,9009260," So crop."
9009260,9011900," We never sign it."
9011900,9012860," Fuck."
9012860,9015260," I caught an error."
9015980,9019100," Thanks to this weird accident."
9019100,9021820," I actually caught an error."
9021820,9024060," I never actually assign any of these things."
9024060,9024860," This is important."
9024860,9027260," Last."
9027260,9028620," Crop."
9028620,9030220," Position."
9030220,9030620," X."
9030620,9031100," X."
9031100,9031660," Yeah, then."
9031660,9033180," X, Y."
9033180,9037100," Position."
9037100,9039420," Nice."
9039420,9042140," That actually helped me to catch this error."
9042140,9044140," Damn."
9044140,9044940," That's super cool."
9044940,9049100," So float can..."
9049100,9049500," Yeah."
9049500,9049980," Exactly."
9049980,9051420," So exactly."
9051420,9051820," Exactly."
9051820,9054300," But this is not float."
9054300,9056460," Didn't I..."
9056460,9058780," Common..."
9058780,9065420," Am I going crazy?"
9065420,9067260," I explicitly say this is an integer."
9067260,9071500," Float cannot be implicitly converted integer, but may use cast."
9073100,9073900," Oh, I..."
9073900,9075980," Am I already getting tired?"
9075980,9079740," Am I already getting tired?"
9079740,9080780," What the fuck is going on?"
9080780,9081260," Just a sec."
9081260,9082060," I think I am."
9082060,9087820," So because I just used a completely wrong thing, I supposed to use, you know, prefix."
9087820,9090140," Where did you go, motherfucker?"
9090140,9092300," Emacs."
9092300,9092940," Shut the..."
9092940,9093740," Emacs, shut the fuck up."
9094860,9097900," Yes, I'm already getting tired, so that's a sign."
9097900,9101660," That's a huge sign that I'm just getting tired, yeah."
9101660,9104380," Why did you..."
9104380,9105660," Why did you jump in a way?"
9105660,9105980," Don't..."
9105980,9106940," Don't jump away."
9106940,9108220," Okay."
9108220,9109420," So this is that."
9109420,9109980," That's..."
9109980,9110300," Boom."
9110300,9111420," All right."
9111420,9112540," So..."
9114940,9115340," Okay."
9115340,9116220," So this is good."
9116220,9118460," So now I can go to here."
9118460,9120940," All right."
9120940,9124540," So all of these things are characters, right?"
9124540,9129420," So float implicitly be converted to the character, but you may use a cast."
9129420,9130140," Understandable."
9133260,9135820," So it's going to be something like this."
9135820,9138220," And then I'm just converting that to a character."
9138220,9139820," Oh, good."
9139820,9140860," Oh, Gucci."
9140860,9141980," We seem to be Tamaguchi."
9141980,9142380," Look at that."
9142380,9144540," Oh, boy."
9144540,9145100," Oh, boy."
9145100,9145820," Oh, boy."
9145820,9147180," Where is my soy?"
9147180,9148540," So, yeah."
9148540,9152940," I think we effectively translated this entire thing."
9152940,9157980," And the only thing that requires translation right now is minimap, but we don't really use it."
9157980,9160700," I can do that off screen, so it's not really that important."
9160700,9162220," I don't think it's that even interesting."
9163180,9166140," So, everything is compilable."
9166140,9169100," Let me recompile one more time, just in case, because I'm really worried."
9169100,9177900," So, it's kind of a, you know, very exciting moment."
9177900,9180220," So the moment of truth."
9180220,9186140," Let me open the dev tools and refresh the whole thing."
9186140,9187900," It worked."
9187900,9188940," The motherfucker just worked."
9188940,9189420," Look at that."
9189420,9190380," It's already working."
9190380,9191340," I can already see that."
9193020,9193340," Okay."
9193340,9195900," It just works."
9195900,9199820," So, we moved everything related to sprite rendering to WebAssembly."
9199820,9200780," Just like right there."
9200780,9202460," That was easy."
9202460,9203500," What the fuck?"
9205180,9206860," So, it's still at 60 FPS."
9206860,9208620," So, yeah."
9208620,9209740," Man."
9209740,9211420," Really?"
9211420,9215500," So, okay."
9215500,9217900," It calls them perfectly, right?"
9217900,9220300," Thank you so much, Dex and CTP."
9220300,9223340," Let me acknowledge quickly everyone who subscribed."
9223340,9223740," Oh my god."
9223740,9225180," There are so many people."
9225180,9226860," Okay."
9226860,9228380," So, there is an on-screen celebration."
9228380,9229260," I don't know what it is."
9230220,9233900," Thank you so much for these bits, strawberry."
9233900,9234220," Thank you."
9234220,9234460," Thank you."
9234460,9234780," Thank you."
9234780,9236380," And Dex as TTP."
9236380,9236620," Thank you."
9236620,9236860," Thank you."
9236860,9237100," Thank you."
9237100,9238140," I really appreciate all of that."
9238140,9239420," All right."
9239420,9239820," All right."
9239820,9240060," All right."
9240060,9240220," All right."
9240220,9240860," All right."
9240860,9245420," So, I can't really see any of these on-screen things because I don't have like Twitch in front"
9245420,9247900," of me or anything because I don't use any of that stuff."
9247900,9248300," But yeah."
9249340,9250860," So, that's actually super cool."
9250860,9253980," So, if I take a look at this thing."
9253980,9259740," Do I have any warnings or any errors?"
9259740,9264460," We don't need Sprite interface anymore because we moved it already."
9264460,9267340," So, what's the next sort of error?"
9267340,9269260," Next error."
9269260,9270140," Sprite pull."
9270140,9272620," We do still need it."
9272620,9273900," And that's about it."
9273900,9278060," I don't think we have anything else in here."
9278060,9279020," So, yeah."
9279020,9283660," We effectively moved Sprite rendering to WebAssembly already."
9283660,9286380," So, that's actually super cool."
9286380,9291180," I think the entirety of this thing is now rendered in WebAssembly, basically."
9291180,9301420," It would be kind of cool to maybe do a session where we can take this state of the renderer,"
9301420,9306540," everything related to rendering, and just collapse it into a single C3 structure."
9307420,9314620," So, now JavaScript only has to know the pointer to that structure and just pass this pointer around."
9314620,9316300," Right."
9316300,9318140," And everything else is implemented in C3."
9318140,9323980," And that will enable us to collapse a lot of code, a lot of integer passing and stuff like that."
9323980,9327740," But I'm not sure if I'm going to do that on today's stream because I'm already streaming for three hours."
9327740,9336380," But in any case, we successfully refactoring the thing now, you know, the entirety of the rendering is implemented in C3."
9336380,9336780," Right."
9336780,9340300," So, floors and ceiling, walls and sprites."
9340300,9341660," And I don't think there is anything else."
9341660,9341820," Right."
9341820,9343660," So, it's just like these four components."
9344380,9348940," So, the next step will be starting to move the logic of the game."
9348940,9350460," Right."
9350460,9353740," So, everything that is beyond the rendering into the WebAssembly."
9353740,9356380," So, that will be also kind of an interesting session, I think."
9356380,9359580," So, let me recompile this, I think, one more time."
9359580,9366860," Establish is just a bunch of emojis rising up from the bottom of the screen to the top like balloons."
9366860,9368060," Oh, interesting."
9368060,9371980," So, it's only visible for people who are watching on the website, I suppose."
9371980,9372460," Right."
9372460,9373260," So, that makes sense."
9373260,9375420," All right."
9375420,9381980," So, move sprite rendering to, you know, C3."
9381980,9383340," Right."
9383340,9386940," I'm going to push this branch to the repo."
9386940,9387100," Right."
9387100,9389420," It's not really available to the master branch."
9389420,9389740," Right."
9389740,9395820," So, but I will clean it up and fix it a little bit later."
9395820,9396700," Exactly."
9396700,9397100," Exactly."
9397100,9397420," Exactly."
9397420,9397900," Exactly."
9397900,9405420," So, my final idea is that state is roughly going to be just an integer which is a pointer"
9405420,9407820," to the state of the game within WebAssembly."
9407820,9408060," Right."
9408060,9412220," And what JavaScript does, it just drives this constant rendering."
9412220,9416220," So, JavaScript is only going to contain the event loop, basically."
9416220,9416620," Right."
9416620,9420620," So, scheduling the next frame and stuff like that and then just calling to WebAssembly,"
9420620,9425420," just triggering WebAssembly with a pointer to the structure that contains the entire state."
9425420,9425660," Right."
9425660,9429420," So, and all that is going to get collapsed into WebAssembly module."
9429420,9430140," Right."
9430140,9434780," I'm really happy that I managed to explain my sort of like plan and the bigger idea because"
9434780,9438620," when I'm doing all of this refactoring, it feels messy."
9438620,9438860," Right."
9438860,9443020," So, it's kind of difficult to convey why I'm doing this very messy thing."
9443020,9443260," Right."
9443260,9444460," So, what's the end goal?"
9444460,9446140," Right."
9446140,9450860," It's shaping up nicely using C3 with WebAssembly for games is quite interesting."
9450860,9451820," It is quite interesting."
9451820,9452140," Right."
9452140,9457180," So, what I like about C3 so far is just like it doesn't really stay on my way of what I'm"
9457180,9457900," trying to do."
9457900,9462860," But maybe I just didn't encounter a thing that would, you know, stay in my way."
9462860,9464460," All right."
9464460,9465420," I guess that's it for today."
9465420,9466540," That was a nice session."
9466540,9469180," Thanks everyone who's watching right now."
9469180,9470460," I really appreciate it."
9470460,9471260," Have a good one."
9471260,9476380," And I see you all on the next Recreation Programming Session with Ahu and Mr. Azuzin."
9476380,9478540," I love you all."
