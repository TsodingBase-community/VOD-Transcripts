start,end,text
880,6480," Hello and welcome to another third session. How about that? How about that?"
6480,15120," Today is a Saturday and today I decided to make a quick session on game development. So"
15120,21280," it's going to be about developing our game in C++ and OpenGL. You can find the source code of this"
21280,26560," game in the description. And in the previous episode, which you can also find in the description,"
26560,37280," we developed a very simple UI for our game. So we used immediate UI and we used it for"
37280,42000," switching between different modes in editor. So right now in an editor we have two modes,"
42000,48240," which allows you to play styles somewhere here and also spawn enemies. And as you can see,"
48240,52960," it's two separate buttons. These row buttons actually doesn't do anything, it's just like a"
53840,60720," debug test row, which I use to test the UI. So we're probably going to remove it. So the problem"
60720,66800," with these two buttons is that it's absolutely unclear what they're doing, right, from the UX"
66800,72640," perspective. We could slap some text on them or icon on them, but I don't think it's going to be that"
72640,76720," sufficient. We're going to do that anyway, right? We're definitely going to slap something on them."
76720,82080," But I think the most convenient way to explain what each individual button does is some sort of like a"
82080,88480," tooltip, right? So you hover over a particular button and it shows the tooltip explaining what it does."
88480,94000," And I think if you have that, you don't really need that many icons. You probably need icons to quickly"
94000,99040," identify the action, but to learn about what exactly the action is doing, it's better to have some sort"
99040,104160," of a tooltip. And that's what I wanted to do today, just quickly implement the tooltip. Nothing particularly"
104160,111040," fancy. Nothing particularly special. So yeah. Let's get started, I suppose. Nothing much to say."
111040,116720," Let's see how it goes. I'm going to start Emacs from within my development environment, just in case."
116720,126240," And I wonder if I need to fetch the latest changes. So I think I do not need to do that. I think we already"
126240,132800," have the latest changes. All right. So let me find the UI class that we're using for everything."
132800,138240," And let me see, let me think what we need to add there. I think what we need to add there is an"
138240,148240," ability to show the tooltip, right? So we can add something like this tooltip, right? And what the"
148240,153040," tooltip needs to accept, it needs to accept the renderer because it's going to render itself on the screen."
153600,159760," So it's going to accept the renderer. It also needs to accept the font, right? Because it's going to"
159760,166960," render the text. And also it needs to accept the text itself. So since it's going to be rendering the"
166960,171840," text, maybe it also needs to accept the scale, right? So we're going to have something like this scale."
171840,178720," Another thing, which is quite important for a tooltip, tooltip is going to be basically a box of a"
178720,183440," particular color. And on top of that box, we're going to be rendering the text. So we need at least"
183440,190640," two colors, right? Background color for the tooltip and foreground color. So let's actually pass them"
190640,200560," as arguments as well. HSLA foreground and HSLA background, right? And I think that should be enough,"
200560,208240," right? Maybe we should also specify the position, but I think a position is not really needed because"
208240,214560," this is a tooltip. Tooltip is always rendered at the mouse position, right? So because of that,"
214560,219360," you never need to like specify where you want to render it, right? So we always know that you need"
219360,226800," to render it at mouse position. So that should be enough. Let me go to UI CPP and quickly implement this"
226800,238320," something, I think. So it's going to be a method of UI. And let me see, let me see. So essentially,"
238320,246000," we need to figure out the size of the text, right? We need to figure out the size of the text."
248560,257360," So we have particular text, right? And then we figure out what's the box around the text, right?"
257360,264000," What's the box around the text? Then knowing some sort of like a standardized padding, right? We're going"
264000,272720," to determine what's going to be the padding for the tooltip, right? So we're going to render first the"
272720,280480," background, the background box, like so. And then on top of that background, we're going to be rendering"
280480,289600," the text. So I wonder, should we customize that? Should that padding be customizable? Maybe not,"
289600,295680," we can actually put it into the configuration, so should be fine. All right. So as far as I know, in the"
295680,306400," font text size, there is a method called text size. So and what it accepts, it accepts the text length,"
306400,313760," right? And the scale, we do know the scale. So we're going to provide it in here. And here we get the size."
313760,321920," So we're going to use outer for the size. All right. So we need to construct a rectangle for the text,"
321920,329760," right? So it's going to be text rect. And it's going to be a abb. And the position is going to be mouse"
329760,335760," position, right? So this is where we're rendering this entire thing. Is it mouse pose or mouse position? I"
335760,343120," can't quite remember. So I think it's, yeah, it's a mouse pose. Okay. And the size is going to be"
343120,350960," literally that. So here's the rectangle. I wonder if we need the text size anywhere. So maybe we can inline"
350960,355040," this entire thing in here, because why not? Let's just inline this entire thing. And there we go,"
355040,364800," we have a rectangle. It's a abb that starts a mouse position and has the size of the text. So maybe the"
364800,372480," size should be a little bit bigger, if you know what I mean, to accommodate the padding. Let me see how"
372480,379680," we can accommodate the padding. I wish there was a more convenient. Okay, so that looks pretty convenient."
379680,391840," I need to add the UI tooltip padding. But since there is a padding from both X and Y,"
392560,398880," actually twice, right? Twice. Here's the first one. Here's the second one. I have to multiply this"
398880,404640," padding by two. Right? There we go. So I have to add two paddings. And since I'm adding all that,"
404640,411520," I need to convert that to a vector. Right? So there we go. Now we have a rectangle. So it's not particularly"
411520,418640," text rectangle. It's just like, you know, the regular rectangle. And after that, I can just simply render"
418640,426720," the rectangle that I want to render. So in a renderer, we have fill a abb. Right? So let's just grab this"
426720,433440," entire thing. And it's a part of the renderer. Right? So the a abb that we're rendering is the"
433440,442640," rect. The shade of this entire thing is essentially the background color. Right? So it's a background"
442640,450160," color, but it needs to be converted to RGBA. Does HSLA have a conversion to RGBA? So do we have to RGBA?"
450160,454240," Yeah. Well, this is precisely what we implemented on the previous session. I completely forgot about that."
455680,462640," Yeah, to RGBA. So we also need to have a UV coordinates, but this is the UV coordinates for the"
462640,467040," solid color texture. Right? So basically, if you want to have a"
467040,472000," rectangle with a solid color, you still have to texture it,"
472000,480000," which is kind of lame. So this is needed because our texture system is kind of like meh, because I"
480000,484640," developed it when I was not knowing what I'm doing. So after I implemented it, I gathered more information."
484640,488240," So maybe at some point we're going to actually refactor the texture loading system."
488240,494640," So I didn't have to provide UV coordinates for a texture when I want to just, you know, render a solid"
494640,499440," color. It doesn't really make any sense to do it like that. If you know what I'm talking about. But it"
499440,504320," is what it is. And because of that, I'll need to have an atlas in here. So I'll need to pass an atlas."
505600,510080," It's an atlas. It's basically concatenation of all of the textures into a single texture,"
510080,516400," so I can upload it as a single texture to GPU and stuff like that. It's, yeah, it's fun. It's very,"
516400,523520," very fun. So tooltip. And I'm going to accept an atlas in here. And as you can see, I pass this atlas"
523520,530560," pretty much everywhere. It is what it is and it isn't what it isn't. Is it not? I think it is."
530560,536160," The missile knows where it is because it knows where it isn't."
537600,547200," So yeah, I need to provide the atlas get UV and the index of the solid color texture is always zero."
547200,551920," It's always like, it's sort of like, you know, hot coded in that sense. So the program asset."
551920,556400," Program asset is essentially the shader program that we're going to be using for all of that. I think"
556400,562960," they're all defined in the renderer. Yeah. And the program that I want to use, where is the program?"
562960,567360," It's a screen program. So essentially, this is the shader program that treats all the"
567360,571440," coordinates as the screen coordinates, because we want to render that on the screen. If I wanted"
571440,577600," to render that in a in the world, I will use a regular program, a regular, it should be probably"
577600,582640," renamed to the world program, right? But I mean, it's, you know, legacy stuff. So there we go."
582640,593200," We managed to render the rectangle. Cool. That's pretty cool. Next thing, I need to try to compile this"
593200,599440," entire thing and see if I didn't introduce any fucky walkies and even possibly oopsie doopsies."
599440,605840," So yeah, it seems more or less text size was not okay. Because this is because it's part of the font,"
605840,612160," of course. Thank you, compiler. Very cool. Anything else we have in here? UI toolt padding. Okay,"
612160,619120," so we need to find the vars.conf and let's introduce this thing. It's going to float. I'm going to actually set"
619120,627440," padding to zero and we can adjust it at runtime. So it doesn't need to be perfect first try, right? It"
627440,632480," always can be adjusted. Okay, so it only complains about foreground. So the next thing we need to do,"
632480,642320," we need to now render the text. The text is actually offset from the beginning of the tooltip by the padding,"
642320,652000," right? So that means we need to take the mouse position and add essentially the UI tooltip padding,"
652000,659040," right? Tooltip padding. And this is the position where we have to render the text. So I can also assign it"
659040,668720," somewhere like text position, right? So this is where we were doing all of that. And let me go to the font"
669440,680720," thingy, let me go to the font thingy, and let's render the text. Okay, so font."
680720,693120," So renderer, we do have a renderer. Then text, we do have a text. Position is the text position. We do have"
693120,698800," a scale. Scale is provided in here. And the color is the foreground color. Foreground color is an HSLA,"
698800,710800," so we need to convert it to RGBA. And that's pretty much it, as far as I can tell. That's right. So yeah, cool."
710800,718800," So here we are rendering the foreground, background essentially. So this is the background. And here"
718800,730080," here we have a foreground. Might as well maybe even separate them with scopes and stuff. So it's clear,"
730080,736400," you can see that shared clearly. And there we go. So it's the background of the tooltip. Tooltip"
736400,745040," background and tooltip foreground. Cool. Let's see if this stuff compiles."
745040,757040," And interestingly, do we really have to provide the scale? Maybe the scale is also going to be"
757040,763120," customizable through the vars configuration. So let's actually get rid of that. I think it's too much."
764480,772800," We already passed too many things in here anyway. Scale... Because tooltips are supposed to be sort"
772800,779440," of customizable, right? I mean, standardized. Standardizable. So maybe the text is going to be..."
779440,786080," What am I doing? Oh, I'm modifying the wrong thing. I'm sorry."
787360,794800," Okay. So the scale is going to be something like this. But I think the color should be like different,"
794800,801200," right? I think the color should be different. UI tooltip scale, right? So this is the scale. And there's"
801200,807840," another place where we provide the scale. And of course, we need to add that constant to the vars config."
808560,818160," So scale for now is going to be just one, right? It can be adjusted at runtime. No biggie. To scale."
818160,829440," Okay. Maybe foreground and background color could be also customized. I don't know."
834240,838480," Yeah, why not? Sure. Let's actually make it also customizable via this thing."
838480,847440," UI tooltip foreground. So this is going to be the color foreground. It's going to be, let's say, white."
847440,858640," And the background is going to be black one. So that means I'm going to replace this stuff with zeros."
863040,870640," Okay. So that means I'll have to go in here and probably get rid of the background and foreground."
870640,877680," So now tooltip has like a less noisy signature in here."
877680,885040," Maybe this kind of parameter is going to be needed in the future, but I'm not 100% sure. We'll see."
885040,890960," We'll see. So here's the background. This one is going to be UI tooltip"
892640,904080," background. So it's a background and foreground. UI tooltip foreground and let's remove this thing in here."
904080,908960," Okay. Is it going to compile? Hopefully."
908960,914960," So, but this is not enough. We need to invoke that thing somewhere."
915840,921120," All right. So here we're starting UI and I suppose one of the things we can do."
921120,929920," So this one is just like a panel and stuff. After we're done with everything, I kind of want to"
929920,939040," actually wrap the whole UI with the scope so I can clearly see that where UI starts. Okay. So this one"
939040,946320," does make sense. This is the screen part and yeah. So, and this is where I want to try to do tooltip."
946320,953760," All right. And I provide the renderer. I provide the renderer and atlas and font."
954880,967360," All right. And finally the text. All right. Tool, tool, tip, test,"
967360,975600," text. All right. So, and the, the tooltip is always going to follow the mouse position right now. So,"
975600,982800," we're going to implement activation and deactivation of the tooltip after I customize its size, color, and so on and so forth."
984800,988480," All right. So this didn't really work properly. No matching function."
988480,996960," Wait, really? Oh, this is because, yeah, this kind of stuff has to be like pointless. And the renderer,"
996960,1003040," I think the renderer is also part of the, of the game. I don't quite remember. I think it is."
1003040,1012080," So let's actually try to run the game and see if we have any tooltip. Okay. So if I go into the"
1012880,1020000," developer mode, uh, you, we do have a tooltip, look at that, but it's very, very small. Uh, so let's"
1020000,1026720," actually go and, uh, customize this entire stuff. So I'm going to go something like this. Uh, maybe"
1026720,1033360," I'm going to even do it like that. So let's first increase the scale, right? So the scale of the"
1033360,1038560," font. So we're going to make it twice as big, maybe five times as big. All right. So five times,"
1039200,1049360," um, maybe even like four, kind of hard to tell, but I guess it's all right. More or less. Uh, I'm not"
1049360,1054800," super happy with this font to be fair. I think it's not the font that I usually use. So maybe I want to"
1054800,1060560," kind of swap it to something else. Um, so here's the scale. What about the padding? Can I add like 10 pixels"
1060560,1066960," of the padding? Yeah, there we go. I can make it 100. So this is how the tooltip looks like. Uh, to be fair,"
1066960,1076320," it feels like the tooltip maybe. Hmm. Is that a good place for a tooltip? Because I would expect"
1076320,1083760," the tooltip to be, uh, like the, the cursor to be located here rather than here. Um, but yeah,"
1083760,1089520," we can, we can probably try to fix that. Uh, but definitely maybe like 10, around 10 should be"
1089520,1095440," all right. And maybe even 20. Yeah, 20 seems to be perfect. Uh, what about the scale? This scale?"
1095440,1101600," Probably too big of a scale. Uh, but the font looks like shit. Can we have a better font?"
1103280,1108560," Uh, so where is the font even customized? Uh, so what's, what kind of font do we use?"
1108560,1116880," Uh, okay. So here is the textures, uh, cell phone white. Okay. So I think this is not really the"
1116880,1127120," font that I wanted to use. So this is the cell phone white. Um, I think, um, where is the credits, uh,"
1127120,1138000," all this stuff? Uh, old school. Yeah. Yeah. So let me see. Uh huh. So the fonts I'm using, by the way,"
1138000,1151120," I'm going to put them into the description. Uh, fonts, uh, I'm using. There we go. Uh, yeah. So this one, um,"
1152640,1160240," is that the white or is that the black one? I can never tell. So let's actually download"
1160240,1166320," the white one first and see if it's going to work. So this is going to be acid. This is going to be"
1166320,1175520," texture and, uh, old school. Okay. So what about old school? Uh, perfect. That's what I wanted. Um,"
1178080,1191120," cell phone, uh, let's replace this entire stuff. Okay. So I need to, uh, recompile my entire stuff and build.sh,"
1191120,1191600," there we go."
1191600,1201760," And yeah, it looks a little bit better. So yeah. And because it looks a little bit better, it, uh,"
1201760,1207920," it became more readable. I think I can make it smaller, right? So it doesn't really need to be that"
1208080,1215680," big. Uh, just a second. So I'm going to go to the bars. And what's the scale? Uh, let's actually"
1215680,1221360," make it like three. Uh, yeah. So something around three should be all right, right? Something around"
1221360,1231840," three should be all right. Uh, and now, um, let's see how we can utilize that. How can we, um, know"
1231840,1240960," that it is time to display the tooltip? Uh, in UI class, we have a notion of a hot element, don't we?"
1240960,1248800," Uh, not hot, hot. Yeah, there we go. Hot ID. So we have an active ID and we have a hot ID, right? Hot ID"
1248800,1257680," is the ID of an element, uh, that we are about to interact with, right? So basically what we can do"
1257680,1265840," after we rendered everything, we can look at the hot, uh, widget and see, is that a widget that has"
1265840,1271360," a tooltip? And if it doesn't have, does have a tooltip, we display that tooltip. So that's going"
1271360,1285200," to be the logic in here. Um, so let me see how we can, um, do that. Uh, so here's the game, um, UI begin."
1286080,1295360," So, and what's the UI of the buttons, right? So we're literally using the editor tool as the ID,"
1295360,1301680," right? We're using editor tool. And in case of a debug buttons, what do we use as an ID?"
1301680,1310960," Uh, okay. So basically using a set from the count. Okay. Um, so essentially in here, I can do the following"
1310960,1322480," thing, uh, if UI hot ID has a value and UI hot ID value, uh, maybe it would make sense to actually"
1322480,1333600," do something like this. We can try to statically cast, uh, this thing to editor tool, uh, UI hot ID"
1334720,1340960," value. Maybe is it, is it value? I think it's unwrap, right? Uh, and then we can switch upon this entire"
1340960,1348480," thing, right? Switch upon. And if it's editor tool, um, what kind of editor tools do we have? I think"
1349040,1357120," I already forgot. I need to take a look. Editor tool tiles, right? So it's going to be tiles."
1357120,1369120," Then editor tool enemies. And then we also have account and the rest of the stuff. In case of account and the"
1369120,1378560," rest of the stuff we're going to do nothing, but, uh, uh, in case of the tiles, uh, we're going to say"
1378560,1391760," place tiles, uh, and in case of the enemies, uh, spawn enemies. There we go. So that's how we're going to"
1391760,1401360," approach this entire thing. Um, yep. That's the immediate UI style and that works perfectly."
1401360,1409600," Uh, that works way too goddamn perfect. Like, yeah, that's how we do that. It's just like, yeah, spawn enemies."
1410960,1421440," Um, and you know, what's cool with all of that? Okay. Well, let's do a committee committee, uh, tooltip, uh, tooltip, tooltip, tooltip, tooltip, um,"
1421440,1432080," introduce tooltip mechanism to the UI subsystem, right?"
1434080,1441760," So the cool part is that, uh, if I need to add a new tool, right? A tool that for instance, spawns items,"
1441760,1449680," right? Uh, I can just add items to the enumeration and follow compilation errors, hopefully in ideal world,"
1449680,1457440," at least. Uh, so in here, um, yeah, maybe it would make sense to actually, uh, not start the entire thing."
1458800,1466800," Right. So I need to follow warnings and compilation errors. So, uh, here what we do, uh, so that means"
1466800,1472160," we need to create an action for the editor tool. So this is going to be editor tool, uh, items,"
1472160,1477760," and do we have a way to spawn an item? Uh, I don't quite remember. So it's going to be game,"
1477760,1484720," HPPs, spawn item. Uh, okay. So we don't have a way to spawn an item, which is kind of strange,"
1484720,1493360," but how do we spawn the first item? Uh, so items. Oh yeah. So, okay. You can make an item at a"
1493360,1498560," particular place. Okay. So let's say that this is going to be spawn an item thingy, right? So for"
1498560,1504240," instance, if the user clicks while being in that specific mode, what we're essentially doing, we're"
1504240,1511520," using the mouse world position to spawn an items precisely in here, right? And also maybe you want to"
1511520,1519360," check that items size is less than items capacity, right? It's quite important. So maybe we should"
1519360,1526080," wrap it into a particular method. So, uh, it's more like semantically self descriptive. That was that"
1526080,1535760," supposed to mean. Uh, all right. So assets asserts, asserts, that's what I wanted to say. Uh, so, and now"
1536640,1546960," here we're going to be adding the tool tip for the items, uh, items, uh, spawn items, uh, what's going"
1546960,1555040," to be the next thing. Uh, and in here we're specifying the color of that button. So it's going to be editor"
1555600,1564880," to uh, to, uh, uh, items and it's going to return 0 75, let's say. So we're using a hue, um, in HSL."
1564880,1572160," All right. Uh, okay. And that should be enough actually. So, uh, we build a system where if you"
1572160,1578640," want to add additional tool, you have to just add enumeration and the compiler will prompt you to, uh,"
1578640,1586320," add the action for that tool, uh, add the tool tip for that tool and add the cover. So yeah,"
1586320,1590560," the compiler will just guide you through the process of adding the new tool and that's basically it."
1590560,1597520," Uh, right. So, and as you can see, we have a third tool in here, spawn items, spawn enemies. So if you"
1597520,1601280," place the tiles, it's going to look like this. If you need to spawn enemies, you spawn the enemies."
1601280,1607600," If you want to spawn items, you spawn in items. So yeah, that's actually pretty convenient. I think I"
1607600,1614560," need to get rid of this debug, uh, a role because it doesn't really, um, you know, serve any particular"
1614560,1628720," purpose. So, uh, all right. So add items tool for the, um, for the editor, uh, for the editor. All right."
1628720,1636960," And I'm going to push that right into the repo. Uh, so let me, let me see how we can remove all of that."
1636960,1641360," So I think it has something to do with the debug, right? So we have a debug button."
1641360,1650160," Uh, what is the debug button? Where do we use the debug button? So let's go through the places"
1650160,1660400," where we use it debug button. Uh, ah, ah, it's, it's the panel itself, I suppose. Right. So it's a tool."
1661440,1667440," It's the current, uh, it's the current one that is selected. I see. It's the current one that is"
1667440,1672640," selected. All right. All right. So I suppose to get rid of the debug, uh, role, we just need to remove"
1672640,1683920," this debug button and follow the compilation errors. Just follow the compilation errors. Okay. So, uh, debug button"
1684640,1694240," enabled. Uh, and so there's a vertical and there's a horizontal, uh, which also means that we don't"
1694240,1700800," really need a layer of a layout in here anymore. Uh, but before I remove that, I want to remove the"
1700800,1708480," debug buttons enabled. So, and all of that stuff is not needed anymore. So I can just try to build this"
1708480,1717360," entire thing. Uh, is it building? Is it building? Hopefully. Okay. Uh, and let's get the read of this"
1717360,1725360," entire thing. Okay. So this is going to be that, and this is going to be that. There we go. Uh, so it's"
1725360,1731200," only going to be horizontal and editor. So it's actually called tools. Right. So this thing is going to be tools."
1736640,1742800," And if I run this entire step and yeah, there we go. So now we have tools, place tiles, place enemies,"
1742800,1750800," place items, and so on and so forth. Uh, all right. So let's do a committee committee and pull request."
1750800,1763840," Move debug buttons and let's push that right into the repo. Let's push that right into the repo and create a pull request."
1766640,1769040," So the pull request is going to be basically tooltip."
1769040,1779280," Uh, all right. That was pretty cool. Uh, so that's what we implemented in here. Uh, we implemented the"
1779280,1788320," the tooltips. That's how easy it was with the immediate UI approach, right? So no need for like useless"
1788320,1793760," abstractions, trees and stuff like that. You want to display something, you just display the thing and"
1793760,1801280," that's it. It's as simple as that. So yeah, I wanted to make a very quick session because"
1801280,1806640," I'm not really in the mood of making like long sessions and like tedious development. So I guess"
1806640,1812160," it's going to be it. Thanks everyone who's watching me now. Really appreciate it. Have a good one. And I"
1812160,1819120," see you, uh, next time maybe on YouTube, maybe on Twitch, depends on what you're watching and yeah,"
1819120,1829520," check out the links in the description, check out everything. And, um, I see you next time. Love you."
