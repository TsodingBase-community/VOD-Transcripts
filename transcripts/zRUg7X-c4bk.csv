start,end,text
0,5260," Hello everyone and welcome to yet another recreational programming session. So in the"
5260,12040," previous stream we tried this very interesting language called C3 and after trying this language"
12040,17460," I've noticed a very interesting thing. On all of the social media and all of the comment section"
17460,23540," a lot of people came in and started asking me like I don't see any point using this weird"
23540,28060," programming language. It's pretty cool and stuff but I don't see any point using this language"
28060,34940," because there is zig. Zig covers all of the cases of this language and you know what it's a good sign"
34940,40060," that we must continue programming in this language and this is exactly what we're going to be doing"
40060,44820," today. We're going to continue programming in this language specifically to annoy more zig."
44820,50140," But anyway so the actual reason why I wanted to continue programming today is because"
50140,57220," on the previous stream we couldn't figure out how to do WASM programming in this language"
57220,63640," and the developer the creator of this language actually fixed FIQ and they provided a simple"
63640,67780," example on how to do that specifically for us. So apparently they actually watched that"
67780,74700," and they tweeted on Twitter that they liked my stream and so yeah it's actually pretty cool."
74700,83600," I really apologize for being sometimes like overly sarcastic about things but I actually enjoyed the"
83600,89140," the language right so it's just like me sometimes I can't control myself sometimes I'm just like"
89140,95580," automatically being sarcastic about things right just to cope with you know with the reality."
95580,102160," So anyway yeah so they provided actually a very good example on how to compile things so you have to enable"
102160,110400," a bunch of flags right so let's actually go ahead and try to do that. So we already have a hello world which is basically"
110400,116820," using the raylib and stuff like that so maybe I'm gonna create webc3 right so this is going to be webc3"
116820,123120," right so this is going to be webc3 and let's basically maybe create like a function which adds two numbers together"
123120,133320," right so it's going to be at int x in int y right so and I suppose what we're going to do in here we're going to just return x plus y"
133320,140000," right so I just want to compile this thing to wasm so the way you're supposed to do that the way you're supposed to do that"
140000,147620," so let's go ahead and do that so c3c I'm not sure if you can see that I think I it would be better to maybe"
147620,151580," copy paste it somewhere here so you can see the command line that we have in here"
151580,158380," okay so the first thing is relog none I have no idea what that is and I wonder if I can maybe there is a"
158380,164420," documentation for this kind of stuff so let's actually do compile maybe help is it going to tell us anything"
164420,174000," so yeah so relog so relocating model oh oh okay so it's a you know position independent code and stuff"
174000,180180," like that so there's a small position independent code and there's a big position independent code"
180180,188780," right so there's a small pi and a big pi I wonder what's the what's the difference between them or"
188780,196780," maybe they are aliases but it is actually um small peak and big yes a small peak energy and a big peak"
196780,205600," energy um so I don't remember I think pi stands for position independent uh so c I suppose is code"
205600,213440," and e is maybe execution is there any difference between peak and pi uh I'm not a programmer I don't"
213440,221000," really know right so but anyway so relocation model is supposed to be known known in this case um so"
221000,226460," the next thing we have to do we have to set the target to wasn't 30 32 we already did that but that"
226460,234080," was not particularly helpful so then you have to do g zero I suspect minus g means the same thing it"
234080,239620," means in clang gcc and stuff like that it basically debug information and we're probably disabling the"
239620,247300," debug information that's just my hypothesis uh yeah so emit no debug information emit debug info emit no"
247300,256040," debug info okay so this is what we needed don't link with libc don't link with libc and also don't expect"
256140,260760," any entry right so I don't remember what was the problem exactly but I think the main problem was"
260760,265760," with linking with libc or something like that right so let's actually try to run that and see if it's"
265760,273540," going to work uh all right so uh fail to resolve oh yeah I supposed to specify the actual name of the"
273540,283080," of the program in here the actual name of the file well that didn't work uh something failed miserably"
283080,290700," okay uh so error template base allocator could not be found did you spell it right"
290700,299580," huh it's something something internally with like within these things so it's a mem c3 yeah right so let's"
299580,312760," actually maybe go there can you can go there uh std core uh mem three so what is it uh talking about fee 49 all right okay so this"
312760,320540," one is a function called initialize was a mem okay so you need one private i don't know"
320540,327220," idea what that means but whatever so and it fails that it couldn't find temp base allocator"
327220,333280," right it couldn't find temp base allocator so okay this is actually kind of cool"
333280,336460," yo i think i understand what the fuck is going on here"
336460,343720," um we taking the heap base right we're taking the heap do you guys know what the fuck is a heap base"
343720,350520," by the way do you guys know what the fuck is a heap base uh right so if you ever programmed uh like for"
350520,356540," wasm in c without using standard like c library you probably heard about this kind of thing so it's"
356540,363560," it's the symbol that clang generates for you to find where the heap in the memory in wasm memory actually"
363560,370600," starts i'm pretty sure we can even find the article um that explains how to do that uh if we yeah so"
370600,381460," probably what if i do wasm um it doesn't give us the article um so the article if i remember correctly uh"
381460,390840," programming wasm without mscripten i really apologize for flash banging you uh yeah compiler is c to wasm without mscripten"
390840,402000," uh right so did we f it looks like we f'd so it should be fine now um it's all good now i really apologize"
402000,411700," for the lag um so the stream choked okay okay so um it should be fine now so we we lost like around uh 300 frames"
411700,421180," this thing is a 300 frames so this is a pretty cool library uh not library but post blog post i really"
421180,427300," uh advertise this blog post like every time we're talking about wasm because i think this is a great"
427300,432780," introduction into actual web assembly development uh right because using something like mscripten"
432780,441540," hides a lot of stuff from you it is very magicy uh right this thing it goes down like very close to"
441540,446320," web assembly and actually shows you what the fuck is going on under the hood right this is a great"
446320,452420," source to like start actually understanding web assembly um right so i'm gonna you know put that in"
452420,460080," the description as well uh right i think this is like the only acceptable for me style of programming"
460080,467260," in web assembly right so because it has the least amount of magic um and i really like that so in terms"
467260,474040," of like a heap base uh this is another one does it mention heap but yeah there we go uh right so this"
474040,481560," is a very good picture so memory in web assembly is just a linear array of bytes so when you compile"
481560,488880," with clang or llvm right so in our case like uh it's it's llvm thing so that means c3 also does the same"
488880,494960," thing uh at the beginning uh at the beginning of the web assembly uh memory you have some data right"
494960,501540," probably some constants or maybe string variables and stuff like that then you have a little bit of a"
501540,509620," space allocated for the stack and stack grows towards the uh towards the zero right so from here and from"
509620,515300," that place uh goes the heap and this is basically the place of the memory where you can do whatever the"
515300,523320," you want right and it's denoted by heap base usually you would implement a malloc that just sub allocates"
523320,529200," uh you know some space within here and this is basically what is going on in here right so"
529200,535760," so we're taking the heap base and we're using it as a start so if the start is bigger than default memory"
535760,542360," alignment so we just like readjust some things so then we take a wasm allocator we initialize"
542360,548140," some stuff so we're calling some initialization and stuff like that and oh temp base allocator so i"
548140,556020," suppose it's like um um it's kind of similar to giant a temporary allocator and stuff like that damn"
556020,564800," so many people stole jai's idea it's insane well i mean it's not probably jai's idea so uh game"
564800,571840," developers specifically uh been having like temporary allocators for ages basically so john just translated"
571840,575440," that idea into the standard library and the rest of the people kind of picked that"
575440,584180," damn storage so i suppose if you are in wasm if you're on wasm you just create wasm allocator and"
584180,591660," you use that as a temporary allocator right but for some reason we can't find temporary base allocator"
591660,599840," probably because we disabled libc okay so what it feels like let me actually let me actually grab"
599840,606100," where this entire thing is located uh right so where is it located so i'm gonna grab rn uh where is it"
606100,612480," defined okay memory allocator uh right so and i suppose this is kind of like a part of the standard"
612480,620040," library probably so and mem c3 it's also part of the standard library but yeah so for some reason it"
620040,628920," doesn't see this thing again probably because it's not you know um we're not compiling with uh with the"
628920,637420," standard library so there was a second problem uh in the compilation in here so let me go to to here"
637420,645800," and try to recompile it again uh so what else do we we're gonna have in here so it's another one oh it's"
645800,652840," actually it's actually the next line uh all right so let me see yeah so it cannot find these two things"
652840,658360," right so thread allocator and temporary base okay so this is not something that i'm going to be doing"
658360,658740," anyway"
658740,670440," why is this thing here why is this thing here so i suppose it was never actually tested so that's what it"
670440,677720," feels like it feels like um so wasm was enabled but it's not really that actively used so it wasn't"
677720,685480," tested that if you disable the standard libc so these things are not available so you either should probably"
685480,691240," not do that if there is no libc or i don't know so what if i just like literally disable that because i"
691240,696120," don't plan to do any temporary allocations and definitely i'm not going to be having any threats in"
696120,703960," wasm right so i don't plan to have any threats so we're going to have some wasm allocator but that's"
703960,710280," about it so we'll be able to actually compile this into i think um okay it's good company"
710280,720120," okay so all right so it's kind of like it doesn't mention that in the faq though or does it like maybe i"
720120,726440," i didn't read properly we should yield uh out but no right oh there is no ci running on wasm code and"
726440,732600," no one is really using it yet so the quality okay okay okay so like nobody knows if it actually works"
732600,742280," or not so it's understandable right uh just comment out compilation errors easy exactly that's the real"
742280,747800," software development that's the real software development just you comment out you disable the tests"
747800,755640," and you just move on we do want wasm to be working really well so if you're interested in writing"
755640,760440," something more than please reach out to the developer team and we'll help you get things working thank"
760440,766360," you i'll keep that in mind anyways so we've got out oh my god"
771640,777080," did it like get the entity of the standard library in there or something uh can i okay so do i have"
777080,784920," something like wasn't to i have wasn't to what look at that wasn't what wasn't to what uh so and"
784920,793000," let's just do something like this so we put nine megabytes of just like what text damn brother"
794120,807800," what are these functions okay okay you have atomic compare exchange with these many local variables holy"
807800,816280," fuck so atomic compare exchange okay so what is this function io formatter so you have some io formatter stuff"
817880,826680," brah and none of that is even used well i mean again wasm support is just like not there"
826680,830280," so it's a print app and and everything okay so what is"
830280,841640," webc3 so it's add it's supposed to be add um i can't see that all right so let's actually rename it to your mom"
842280,846840," uh so it's sort of like a unique name uh let's try to recompile this entire thing"
846840,854040," and uh i'm gonna just do it like that so wasm to what uh to what and i'm gonna revert this entire thing"
854040,861480," okay so let's find your mom there's no your mom probably because we need to do that wasm thing yeah"
861480,869880," right remember guys uh so in a standard library we had some sort of like a wasm usage so there was if"
869880,876520," i'm not mistaken dot like that wasn't there we go i think we we need to yeah we probably also need"
876520,887160," to sort of make it external or something yeah so let me quickly do that uh so web c3 you can put it"
887160,893880," like that and i'm gonna say your mom right i have no idea like what all these things mean i just like"
893880,900600," copy paste stuff like i'm just following the patterns uh right so is it going is it working"
900600,909880," so out what so revert this entire thing and let me see uh your mom there we go so we've got your mom"
909880,920120," e so and it just supposed to sum up to that's too much code to sum up to numbers so you have a local okay"
920120,927800," so you get zero and one and locals with zero and one are basically the parameters parameters are"
927800,935320," considered to be one of the local variables okay so you get first two parameters you add them together"
935320,941160," and then you're saving it into intermediate local variable then instantly getting that thing and"
941160,949400," returning it it is not optimized build probably uh so maybe that's the reason because like i'm looking"
949400,958920," at what is this stupid code uh can i just like um do o3 it doesn't complain about o3 right it doesn't"
958920,964760," complain about o3 so if i just try to do something like that and revert the whole thing uh let's find your"
964760,972520," mom now we're talking okay so it was just not optimized right because now that makes sense right"
972520,976520," so you just take two parameters and you just add them together right so it's kind of it's kind of"
976520,984360," bizarre your mom was not optimized yeah exactly so did it make it smaller uh no it's actually yeah it"
984360,990760," actually made it smaller look at that so it now is 40 kilobytes and now the text of that was a module is"
990760,997480," not nine megabytes so it really optimized it out uh so maybe it also did a little bit of uh you know"
997480,1003160," that code illumination now it still uses this print stuff uh which probably we're not going to be using"
1003160,1009720," but anyway but anyway anyway anyway so that's pretty interesting so we already can have something even"
1009720,1014360," though it has a lot of trash that we don't need but i mean that's understandable just like there's no"
1014360,1025960," proper support for awesome anyway um so use stdlib no is it really i think like because i already"
1025960,1035000," say link libc no ah libc and stdlib is different things though okay so let's give it a try let's give it"
1035000,1044920," a try so i'm gonna listen to you chat for now use stdlib no okay so maybe that will do the trick"
1044920,1050120," let's see all right oh look at that"
1050120,1057880," thank you i really appreciate it so now if i try to do this kind of thing so"
1059080,1066680," now we're now we're now we're i can work with that finally a useful language"
1066680,1077320," dude okay okay listen listen listen so i'm currently developing uh this game"
1077320,1083000," a ray casting game and stuff like that i'm planning to integrate it with my networking and everything"
1083000,1088760," uh right so just a second i'm gonna open this thing so it's gonna have like a low fps right now"
1088760,1093480," this is because my laptop is it's actually have more fps than i expected but yeah there we go"
1093480,1100760," so this is completely software rendered and it's like using uh the old school doom like ray casting"
1100760,1107160," technique uh and it's written completely in javascript intentionally right it's written completely in"
1107160,1112840," javascript but i was planning at the back of my head to eventually start rewriting parts"
1112840,1119080," of this game into web assembly right specifically maybe renderer at least renderer then i may think"
1119080,1123000," about like logic of the game and stuff like that and i was thinking to do that in c"
1123000,1133640," if c3 can generate such a small minimalistic uh wasm modules i can just give c3 a try and in that case"
1133640,1141640," i mean why the not that's just like yeah because i was planning to use c specifically to g uh to generate"
1141640,1147320," these kind of like wasm modules but if i can do that in c3 so that means i can use a better than c language"
1147320,1155480," right so yeah okay so i'm going to give the link to to this thing uh for for the chat right to the game"
1155480,1166120," and also i'm going to put it in description so yeah so i planned this um sort of like uh you know c3 streams"
1166120,1171800," as a like a tangent right to separate from my main project but i can see that i can actually integrate"
1171800,1178360," this language into my project right so eventually um so not right now but a little bit later um yeah"
1178360,1179800," it's actually super cool"
1179800,1192200," right anyways um so that is so freaking cool mate that is so freaking cool so by the way um"
1193960,1200600," as far as i know as far as i know uh c3 has like a build system and stuff like that do i want to use"
1200600,1207640," it right now um i'm kind of hesitant to use its build system because i'm not sure how to set up all"
1207640,1213480," these flags and stuff like that so i prefer to work like with uh compilation of the modules directly so"
1213480,1220120," i'm not 100 sure by the way can i specify maybe the output for this entire thing i wanted to be actually"
1220120,1227800," called something like web wasm uh right so let me let me try to do it like that so and do we have no"
1227800,1236040," it's actually out wasm um maybe i have to put this entire thing in here uh right so maybe i just didn't"
1236040,1240760," copy paste it properly uh yeah i think i just didn't copy yeah there we go"
1242680,1253320," i just i just i suppose to just do web okay um"
1253320,1258280," what wasm was classic"
1258280,1263240," uh there we go that's what i wanted uh"
1265000,1272840," yeah wait a second i i lost the use uh use stdlib null that's what i lost that's what i lost"
1272840,1280440," so and it's actually way faster right so it generates all that stuff way way faster"
1280440,1287640," all right so let's try to maybe load that you know wasm module into the browser and just maybe run it and"
1287640,1294280," see how it runs but i mean it's so small uh like i already know that it's gonna run fine right so it's"
1294280,1300440," just like yeah so this is something that you can even write manually um so there's nothing special in"
1300440,1309960," here uh though interestingly it doesn't generate heap base doesn't really generate heap base um"
1312920,1319080," best build system is build command and coming to copy paste yeah i think so i also think so uh all"
1319080,1323720," right so maybe the time has come to create like a web folder right so this is going to be web folder"
1323720,1331960," we're going to move web c3 in here and um yeah so let me actually remove all that stuff in here nobody cares"
1331960,1339960," uh so you know what uh you know what let me see so i'm going to do c3c"
1341480,1349480," and i'm supposed to do init right so project expected project after unit okay so web uh oh yeah it created"
1349480,1353000," a completely cheesy script project json"
1353000,1369480," targets web executable or targets web why is it called the web bra i don't want to i don't want to deal with"
1369480,1377080," that like i really don't want to deal with that like i just don't want to like that means i have to"
1377080,1389640," learn an entire build system scripts no bruh no no no no no no no no no no no no no no i'm not going"
1389640,1395320," to be using that i'm sorry i'm not going to be using that um okay i'm going to be using make files"
1398280,1403400," i'm so i'm that kind i'm that kind of person seriously like i just like i don't want to be"
1403400,1408840," using build system like it's it's easier for me to deal with this kind of thing right because all these"
1408840,1417320," build systems they're uh brother they obscure they they are too fucking magic i hate magic and software"
1417320,1423880," development right i absolutely hate magic and software development they just like hide all of that stuff from"
1423880,1431800," you uh so i i don't like using cargo right for that exact reason uh i do use it because ross is kind of"
1431800,1438520," designed to actually do everything from cargo but i absolutely despise it so i'm sorry um i'm that kind"
1438520,1444040," of person but but i'm glad that they actually um you know support this kind of people right so they just"
1444040,1449000," like enable if you don't like this build system okay just like run it directly and i appreciate that"
1449000,1453800," i actually appreciate it thank you thank you so much so we need to do web wasm right so and"
1453800,1459400," the dependency for this entire thing is actually here uh right so i suppose this is located in there"
1459400,1467320," uh okay and i also want to generate what right so this is going to be web wasm it depends on that"
1467320,1475160," wasm to what right so i want to be able to just see what's inside of this entire thing so this is what i'm"
1475160,1484840," going to be doing and let's say all web wasm uh web what right and if i try to build the whole thing uh"
1484840,1492120," it seems to be building there we go so we've got uh wasm and we got what and we got c3 that's perfect"
1492120,1497560," so what is not particularly optimized because in this particular case i forgot all three"
1498520,1506120," uh all right so let's try to build one more time and maybe minus b there we go so everything is highly"
1506120,1512760," optimized so you know you know what that means you know what that means the time has come for uh web"
1512760,1524440," development so let's create html page uh there we go all right so html uh html right oh by the way"
1525400,1533080," by the way if i'm not using the standard library that means i do need that modification that i didn't"
1533080,1539240," here i can just enable this entire thing back right i can enable this entire thing back and it will still"
1539240,1545320," compile okay perfect right so i don't even have to hack the standard library thank you for this flag i feel"
1545320,1552760," like maybe this flag has to be added to the to the faq but i'm not really sure right so so because i know"
1552760,1558920," that not everybody likes this kind of style of uh web assembly development right so i prefer to have"
1558920,1565560," nothing in web assembly and just like write my own standard library basically uh i just find it easier"
1565560,1571400," so the complexity of these tools like mscript and everything they're too much for me to the point"
1571400,1577720," that i just like write everything myself at this point maybe i'm weird but it works out for me um right"
1578520,1589000," so this is going to be head and this is head so let's put the title title title uh so hello c3"
1589000,1596600," and it's going to be body and uh body so what we're going to do in here i suppose we're going to just like"
1596600,1607480," do this script uh index j s uh and this is going to be the script so in the index j s we are going to"
1607480,1612680," create the web assembly module so i don't remember how to create web assembly modules right so"
1612680,1621240," maybe if we used typescript maybe we should use typescript actually chat how about we use typescript"
1623000,1629400," right because typescript has the typings which are a great documentation in my opinion uh they are"
1629400,1634680," actually a great documentation so that means we need to have the typescript system in here god"
1634680,1643160," damn it can i install uh globally typescript typescript globally uh i think i should be able to"
1643160,1649000," when i install globally where does it install it it tries to install it so it doesn't have an access to"
1650040,1657560," yeah it's straight up tries to install it here so it needs a root you i'm not giving root to a god damn"
1657560,1663240," javascript who the you think i am giving root to javascript"
1670520,1679000," anyway so um uh let's do uh"
1679000,1686760," uh so uh this is web ah it's it's not working right so i probably need to do that from a proper terminal"
1686760,1698200," uh all right so let's actually go here uh cd cd is not npm init so let's go uh well i mean"
1698200,1704040," um like that boom boom boom boom boom boom i want you in my room"
1704040,1712120," yes npm install uh save dev type script that's what i want"
1720600,1727560," so node bin tsc uh i think it's in it i think that's how we do that yeah boy"
1727560,1736280," and tsc if i take a look what's the target so let's actually use es22 and we're probably not"
1736280,1743080," going to be using module so it's going to be just es22 um all right and uh i can just enable the watch"
1743800,1753560," the watch cool so index ts so what i want i want to have web assembly that's what i want and the"
1753560,1759960," reason why i'm using type script so i can actually go in here uh so that's literally the reason though"
1759960,1769880," where is the web assembly constructor web assembly i think it's something instantiate uh instant yeah so"
1769880,1772760," what we have to do instantiate"
1772760,1783560," so bytes buffer uh instantiate streaming this is probably what we want so essentially we have to"
1783560,1792040," perform a fetch uh and then put it in there and we then we'll get a promise with an instance and stuff"
1792040,1797480," like that okay so let's actually do instantiate streaming um and so we have to do a fetch"
1797480,1805800," so and fetch accepts requesting for which is either request or a string so in our case we can just say"
1805800,1811880," web wasm so we'll probably have to use http server because of this stupid course"
1814280,1822360," yeah so it's it's kind of bizarre one of the main appeals of web development were is that you only"
1822360,1830040," need a web browser to do web development right you can just like have html files js files css and stuff"
1830040,1836600," like that but web developers have to ruin everything they have to ruin everything so to do this kind of"
1836600,1843320," stuff is you need a web server because safety safety think about the children dangerous dangerous dangerous"
1843320,1847400," and damn it web developers all right"
1847400,1860520," so anyways anyways anyways anyways anyways um i wonder if i um i probably can do something like a sync uh right"
1860520,1866600," so we can put that stuff in here so i can await uh with this entire thing and um so this is going to"
1866600,1874360," be wasm module so and after that uh i can do something like this and just run this entire stuff"
1874360,1883000," so let's actually do console log uh wasn't all right so uh so this is js and seems to be working"
1883000,1889000," system working so let me do chromium let me open it in chromium right so and if we take a look at what's"
1889000,1896280," happening in there what's happening in there so in the console we will see there we go of course"
1896280,1898920," yeah"
1898920,1906440," i don't know what i expect i really don't know what i expected but it is what it is and it isn't what it"
1906440,1913560," isn't is it not i think it is uh so anyways uh what do we want to do so we can use the http server"
1913560,1918520," right so or we can just use python right so or we can just use python i don't know um so because i"
1918520,1927000," don't want to install this kind of thing so where am i in here let's actually cd there super quick"
1927720,1941400," like so python 3 m https i don't remember i think it's simple 6969 uh server yeah there we go look at that"
1941400,1949640," so and then i can do i want to go here localhost 6969 there we go we've got the module uh we've got an"
1949640,1956920," instance and we've got some expert we've got your mom look at that we've got your mom"
1956920,1967480," so it's pretty cool so let's try to maybe run it and um you know see what's going on so wasm instance"
1967480,1976280," right so this is the instance experts your mom your mom 34 35 and let's just do conservative log"
1976280,1980360," and see what is going to happen so we can do something like make"
1980360,1986840," we're going to rebuild the whole thing and i'm going to refresh this into i think 69 69"
1986840,1994920," so yeah we loaded uh wasm module and we executed and we actually summed up two numbers"
1995800,2004760," using c3 so you were editing js file honestly i don't need the type script anymore though"
2004760,2013720," uh right so i just like figured out how to do a web assembly right so i don't need it anymore"
2013720,2024360," so where's my index where's the index.js so i'm gonna put that stuff in here"
2026600,2028760," uh i can finally remove this entire thing"
2028760,2037160," it's just a linter right so it's just a linter who cares right so just like use it once and just throw"
2037160,2046360," away uh okay so we can do so we have the power of web development on our side what do we want to do in"
2046360,2061160," here um we can try to port that example that we did with raylib um right so where is that thing so i can"
2061160,2070040," probably do c3c compile hello c3 i mean it's already kind of compiled so that means i can do hello yeah this example"
2071240,2083080," why don't we just port it to to web all right and maybe actually um coding react in c3 now not really"
2083080,2091480," so what i'm thinking is that uh i can do that olivet's style right so generate pixel raylib.js we could try to do that"
2092040,2092280," okay"
2092280,2097640," that's an interesting idea using raylib.js"
2097640,2107000," so i'm actually not sure uh i'm actually not sure so i have two ideas the first idea is"
2107000,2116760," basically uh generated pixel by pixel olivet style um and then you know on the javascript side just"
2116760,2123160," extract the pixels and put them into the canvas or try to use the raylib.js thingy both of the paths"
2123160,2132680," are kind of interesting um so i'm not sure which one is more interesting maybe trying to use the raylib.js"
2132680,2139560," is more interesting right because it's one of the projects that we did um and just like yeah and yeah"
2139560,2144760," it's more interesting because we would be able to actually use literally this code without pretty much"
2144760,2150440," without modification right so the only modification is probably going to be uh just factoring out the"
2150440,2158840," loop yo that's a cool idea okay so let's actually go the ray uh ray.js path let's actually go ray.js path"
2158840,2165560," but they would like to make a small break um you could live with olive sea nah that's not i don't think"
2165560,2172920," it's it's the right way to go um all right so i want to make a small break uh so i'm gonna refill"
2172920,2178120," my capacity and stuff like that and after the small break we're gonna try to actually port this specific"
2178120,2185640," example to web using one of the projects that we did actually renamed it uh i call it zozlib instead"
2185640,2194200," um because this is basically it's not a raylib binding 25 pull requests holy"
2196680,2202520," it's not a ready binding it's a re-implementation of ray deep api so it's kind of a different library"
2202520,2209400," that has a compatible um has a compatible api so i don't think it's fair to call the ray deep js"
2209400,2215640," uh right it's more like a completely separate library but it's kind of compatible on the level of the of the"
2215640,2220280," interface if you know what i'm talking about right so i'm going to put it in here uh i don't remember how to"
2220280,2226280," use it by the way i don't remember how to use it uh but uh we'll try to try to remember it and i'm also"
2226280,2231880," going to put that in the description for for the people um so all right so let's make a small break"
2231880,2239720," and on okay so let's go ahead and just download uh zozlib i i call it ray deep js actually still in here"
2239720,2245080," i don't really know why maybe if i got to rename it right so but it's supposed to be called zozlib"
2245800,2250760," and uh so an official implementation of subset of ray deep api and javascript so you can use it from"
2250760,2258840," web assembly intended as a simpler web version of ready that does not require mscripten yeah that's"
2258840,2264600," what's going on here so let's go ahead and just like download this thing uh i do not remember how to"
2264600,2272120," use it i really do not remember how to oh this one is rather interesting so it's um i think it contains"
2273080,2279000," even the code that just that also loads up web assembly modules and everything"
2279000,2285000," yeah so it's like a complete solution if i'm not mistaken it's like a complete solution"
2285000,2295880," uh so that's so cool let's actually download that damn did i write that yo what the okay"
2295880,2303800," so i'm gonna do w get and i'm gonna just double get this thing uh there we go so we've got raylib.js"
2303800,2313400," so make environment uh do i use it in add don't use it okay wait a second so you do wasm huh so you"
2313400,2322520," just do start and yeah look at that so you have an instance of raylib.js we stole the font from yeah"
2324040,2329880," okay that's pretty funny uh so we stole some fonts so you're supposed to yeah so you create constructor"
2329880,2335240," you just construct this thing and then when you're ready to start you just start this thing"
2335240,2342200," and if i remember correctly the wasm module is supposed to conform to a certain interface we can"
2342200,2350920," look up what this interface is supposed to be from one of the c files um so let me quickly see examples"
2350920,2355800," eggs samples eggs samples eggs samples so sodium"
2355800,2371240," why not balls should have called both sodium bowl um so all right uh-huh you supposed to have"
2371240,2380120," a main function i think you're supposed to have a main function uh then you're supposed to have an external"
2380120,2391800," function called game frame and in the initialization in the platform web you supposed to use raylib.js set"
2391800,2397560," entry now you just set entry and you said okay so the only thing you're supposed to do you're supposed"
2397560,2406200," to import this function somehow and it has to be it has to accept a pointer to a phone this one is rather"
2406200,2413880," interesting honestly this is rather interesting okay so let's give it a try let's actually give it a try so"
2413880,2423560," our web module all right so our web module is going to be uh maybe um yeah so i need to kind of forward"
2423560,2429560," declare a function i'm going to just make a wild assumption that to forward declare this thing what i just"
2429560,2436920," have to do i have to do i have to do this kind of thing right so here i accept function pointers how do"
2436920,2445080," i do function pointers in c3 let's take a look at the examples i remember that there was some function"
2445080,2456680," point is in here function point yeah there we go so this is how you do them um so we can in fact maybe do"
2456680,2466200," something like entry and that entry according to what we have in here is yeah it doesn't really accept"
2466200,2475240," anything so it's just that uh can i do void void in here i wonder if that's thinking c3 i'm going to"
2475240,2479080," just use it and see if it's going to work or not if it's not going to work i'm going to just remove this"
2479080,2483560," thing but for now i'm going to just keep it so this is the entry and this is the entry right and then i"
2483560,2491080," suppose i have to say that it's external right and maybe just external and just wasm wasn't all right"
2491080,2495240," so i don't know if this is correct or not it doesn't matter let's just try to compile this"
2495240,2500360," thing and see what kind of uh compilation errors we're going to have right so what do we have in"
2500360,2508040," here so there's only one a type name was expected but this looks like a variable of function uh all right"
2508040,2513720," so type name oh okay i see so i suppose it's supposed to be void yeah yeah so it's supposed to be"
2513720,2520600," right cool cool cool so what else do we have in here so style argument declarations are not valid"
2520600,2537160," please remove okay uh huge respect so the compiler understood what i was trying to do in here"
2537160,2543640," and just said brah we brah we don't do that in here we don't do this kind of stuff i understand what you"
2543640,2550120," want i understand what you want but we don't do this kind of stuff in here this is what i respect this"
2550120,2555800," kind of shed a respect it's just like compiler trying to actually infer the intent and then"
2555800,2562200," providing a helpful message right so yeah that's actually kind of cool uh compiler really said brother"
2562200,2577480," all right so it is true uh okay what else do we have in here um so extern requires a string argument um"
2578520,2582440," yeah yeah i'm not really sure if it's forward declaration do i really have to do it like that"
2582440,2588600," i'm really not sure brother i'm really not sure okay expect yeah so it wants to have"
2588600,2599960," um what if i just do it like that okay um how can i say that i'm importing this kind of thing um"
2601080,2605880," so external shouldn't be necessary if you pass it by a function point or any way"
2605880,2615640," well i mean extern what this is a function that is implemented in javascript i need to import this"
2615640,2624440," function so the question is how do i do that um so i'm not really sure i'm not really sure so what did"
2624440,2630280," it say when i provided this thing um so expected phone yeah it wants to have a function body"
2630280,2636360," um i think it was something i think it was something like that yeah"
2639160,2645000," yeah boy boy okay"
2645000,2648680," it doesn't"
2648680,2657080," ex yeah external fan yeah i already do that but it's it's not there honestly i didn't see it in wasm"
2657080,2666360," so maybe because it got um you know optimized out because we never call it all right that's fine so let's"
2666360,2671160," actually try to call it maybe somewhere uh so what we're going to do in here what we're going to do"
2671160,2678360," we're going to create a main function we're going to have main so it's going to be fm uh so we initialize"
2678360,2686040," everything right so hello from uh c3 web assembly right so c3 web assembly then we set target fps i"
2686040,2693160," think it's just straight up ignored um and then what we're supposed to do we're supposed to call this"
2693160,2700200," function and we're supposed to set game frame uh so we're basically telling the raylib.js or zozlib"
2700200,2710040," gs um what function to call on each frame so that's what we're doing here so fn game frame so this is"
2710040,2715960," just white and this is just that uh right and in here i don't really know what we're going to be doing so"
2715960,2724040," i'm going to just do yeah i'm going to just clean the background or something so and drawing"
2724040,2729880," interestingly interestingly so we need to have all of these functions"
2729880,2736280," yeah we're going to be importing those functions right we're essentially importing them"
2736520,2746360," so but we kind of we kind of already have this raylib thing i just realized that we already have raylib c3"
2746360,2752600," we already have it so the only thing we need to do in here effectively"
2752600,2762280," is just to mark them as as wasm functions or do we need to do that or do what i don't know okay i'm"
2762280,2769080," going to just copy paste really uh c3 in here hoping that the same code is going to be usable"
2769080,2779720," uh for our case as well i'm really not sure so in here i supposed to like import a raylib right so i'm"
2779720,2791960," importing really uh so then in here i can do this thing so raylib um in it window in it window"
2791960,2803000," let's actually get rid of set of ps um so in here it's going to be a raylib beacon drawing and then raylib"
2804520,2819080," clear background and raylib n drawing so the color i'm not quite sure so i think it's just that right"
2819080,2826200," okay cool so let's try to compile it and see where it's going to fail um so there's an expected type"
2827080,2837720," uh after uh i don't understand what do you want there's an expected type after the return type did you"
2837720,2843640," forget dot ah yes"
2848920,2856120," i'm sorry i'm sorry couple case okay so in that part uh error messages are a little bit lacking"
2856120,2862920," right so it's not clear well i mean i figured out relatively uh quickly yeah it's a weird error"
2862920,2868680," message but i i don't know uh module really name could not be found did you yeah so let's do the"
2868680,2876680," following thing uh so array leap c3 if it's going to be if it's going to work without modification it's"
2876680,2881160," going to be actually kind of awesome c3 could not be found did you spell it right"
2881160,2888600," fuck so yeah this is a little bit annoying um if you're going to be using integers"
2888600,2897480," um so i'm not 100 sure so it's cannot be used without modification so though one of the things we can do"
2897480,2909640," chat i'm pretty sure cint is an alias so there must be something like dev cint i don't yeah look at them"
2909640,2918040," um look at that so and all of that is cinterop and blah blah blah c short"
2920520,2927800," so are they defined so are they defined they are kind of defined so but where they are defined can we"
2927800,2934280," can we just import those things so this is a cinterop"
2934280,2937880," so what if i"
2939800,2949880," uh just copy paste some of that stuff into the ray leave like so so we're using cind and some other"
2949880,2957400," shise so now if i do make um yeah i'm in the wrong folder that's fine that's totally fine chat don't"
2957400,2966920," worry don't worry don't you even fucking worry all right so um it's still nice you couldn't be found"
2966920,2969880," you just spell it right didn't i"
2972440,2979480," i i just copy paste it in the wrong folder you know in the wrong place i'm sorry so yeah it's the wrong"
2979480,2987160," ray lip c so it has to be in here right okay okay that's fine now all right so what is it does it"
2987160,2996760," complain about now uh could not be found you just okay so it cannot find signed it from bit size"
2998280,3003800," all right all right this one is rather interesting so what is this function is this a function that i"
3003800,3018360," could maybe find somewhere so grab rn where is it it's a macro it's a private macro oh okay so essentially"
3020040,3028680," so it returns like a type id uh-huh can i just like use int in here everywhere"
3028680,3038440," so if it's a bit size 32 yeah i don't think i need to be using any of this magic i can just like use"
3038440,3048680," int int int and okay so let's go ahead and get rid of all of that uh could replace c int"
3050040,3058520," uh maybe create a place c int uh just int like so all right i think it's going to be fine"
3058520,3070200," so i can make lines b uh and so it's complaining about cu int but i'm not quite sure so what if i just"
3070200,3076280," get rid of this thing for now right i don't want to be dealing with it"
3076920,3083480," uh-huh okay so that's cool so expected function for it or prefix byte okay so that's understandable"
3083480,3089720," that's understandable so we have to put this kind of thing in here uh all right so missing return"
3089720,3093880," because it wants an integer we can just do void in here it doesn't really matter there we go"
3093880,3101960," figure it out so we basically like brute force this entire thing uh basically brute forced and if i take a"
3101960,3112280," a look at the what in here uh this is a wrong what i think um so the thing here by the way i think all"
3112280,3120760," of these things who has to be wasn't uh all right so first of all and we have to export them all right"
3120760,3128360," so i don't think i need to export this one but i definitely need to export this one uh right so because i"
3128360,3138120," believe in raylib.js we explicitly call main do we do we not i don't remember actually yeah we explicitly"
3138120,3143960," actually called main look at that we explicitly called so it's kind of like a part of this thing"
3144760,3156600," uh uh so uh extern main let's try to recompile and uh okay so that blew up the size of the watt module"
3156600,3162200," and if i take a look at now we're talking talking mate so damn look at that"
3164280,3172840," look at that look at that it's importing all of the holy and it's the same freaking"
3172840,3178840," module that is used for the native part i think we'll be able soon i think we'll be able soon to"
3178840,3184040," create a universal code that is compilable for web version and for native version"
3184040,3191320," for native version do we even need to know what wasm does it seems weird considering neither c nor"
3191320,3196040," rust need that yeah it's kind of bizarre maybe it's just like i don't know i don't know i don't know"
3196040,3205640," but anyway so uh yeah so i think this is a valid raylib.js module i think this is a straight up"
3205640,3213720," valid raylib.js module so anyways uh let me try to maybe modify this thing a little bit i want this"
3213720,3222120," thing to be actually red so something like this so it's going to be zero zero uh ff there we go so we"
3222120,3229800," can when we actually run that we'll be able to instantly see that it is doing something yes so i'm"
3229800,3236600," gonna try to recompile this entire thing okay so that's pretty cool uh and what's interesting in here"
3236600,3242520," um what we're supposed to do we're supposed to just do raylib.js right so we're just importing this"
3242520,3250120," module and then we have a separate script where we create an instance of raylib.js right we do raylib.js"
3250120,3256280," yeah so it's raylib.js and we don't even have to"
3256280,3263480," uh provide any parameters in here so the next thing we do we do raylib.js"
3264360,3273720," start uh so and we just provide the path to the wasm module right so we'll just do"
3273720,3276840," wasm path"
3276840,3285400," and this is going to be web wasm that specific module that we created and then we also have to provide the"
3285400,3291720," canvas id the where we have to render this entire thing so let's create a canvas canvas"
3291720,3293640," id"
3293640,3295800," game"
3295800,3301240," canvas so this is going to be just a game"
3301240,3305480," okay so theoretically that is basically it"
3305480,3309000," theoretically that is basically so you just create it was a module"
3309800,3319480," that expert's main function that calls the raylib.js set entry and that's it raylib.js does everything for you already"
3319480,3326040," uh theoretically so that's that's the theory um we'll see how it goes"
3327160,3337720," um so yeah let's actually run this thing okay and i'm a little bit nervous so let's open 6969"
3337720,3343720," uh okay so it crashed probably let me see what it prints in the console"
3343720,3350600," uh raylib okay cannot read properties of undefined"
3351480,3358200," uh-huh so it tried to call main but it couldn't for whatever reason"
3358200,3362440," interesting so it was undefined"
3362440,3368440," raylib.js set entry"
3368440,3378760," so it imports this specific function but it didn't provide that function maybe i didn't spell that function"
3378760,3380440," correctly um"
3380440,3382920," ah"
3382920,3392680," you forget extern uh you didn't find the function point i don't i don't know what you guys talking about"
3392680,3394520," all right so um"
3394520,3400040," but i mean i'm pretty sure if i take a look at the what main"
3401640,3405000," main is exported main is in fact exported"
3405000,3408520," and it's exported as main"
3408520,3417720," so and then arraylib.js set entry so let me see how does it say that how does it code"
3417720,3420120," yeah it's it's literally that"
3420120,3425320," you have to export the function pointer table that is true actually"
3426760,3430920," so we don't have a function pointer table does anybody know the flag for that"
3430920,3436760," does anybody know the flag for that um so arraylib"
3438440,3441880," j s and in knobc"
3441880,3445880," so export table"
3445880,3452440," maybe we can pass export table in there"
3454760,3459720," but let me let me see so if i do c3 help"
3459720,3462360," export"
3462360,3468600," damn if it doesn't export the table we won't be able to do that"
3470600,3477560," uh right but i think can we pass stuff to a linker can we pass stuff okay linker option"
3477560,3484520," right we can probably try to do that um so in the linker option what was that"
3486840,3491800," uh"
3491800,3496440," compilation"
3496440,3504920," linker so something like the export table um linker built-in oh it's a"
3504920,3514440," built-in cc custom there this is not what i want actually linker"
3516840,3524600," um you could modify it i don't want to modify it because it's a this is how the library works"
3524600,3530360," uh i don't want to modify things for a specific case i want to just be able to"
3530360,3537080," grab the library and be able to use it as everybody uses it that's kind of the point of having a library"
3538040,3543480," uh link how can i pass uh flex to linker z for linker okay"
3543480,3548680," send argument oh okay okay i see so that's that's that's cool that's cool"
3548680,3559000," all right so let's try to make this entire thing axiom function uh"
3560520,3563960," doesn't have to have a board yes that's understandable we don't need that"
3563960,3573720," uh we don't need that all right so if i do do we have a table do we have a table"
3573720,3583320," so how do you have a table oh that's pretty cool okay that's cool thank you thank you so much for"
3584120,3593640," the help uh yeah that is pretty cool so let me conduct an experiment so if i remove this part"
3593640,3596600," this part and recompile"
3596600,3601240," and then i revert"
3601240,3607320," table still there that's the thing"
3607320,3612280," table is still there even though like i rebuild everything"
3612840,3620760," there is no linkage so table um i will just not export it okay that's understandable so let's"
3620760,3624920," let's recompile web what"
3624920,3638360," indirect function oh so it's basically about this thing okay whatever so let's actually finally try to"
3638360,3644840," run the whole thing um so what's funny is that look at that hello from c3 web assembly"
3644840,3649960," it already worked actually because this is what we've got"
3649960,3655240," from here so it already managed to call init window"
3659160,3666200," so did it work so did it work it i think it tried to do something but didn't"
3666200,3676280," all right so at least it didn't crash but it didn't work either"
3676280,3681240," interesting very fascinating"
3682520,3692440," um um how can we check that it works correctly how can we check that it works correctly"
3692440,3696840," how can we check that it works correctly so we can maybe i don't even know what we can do"
3698280,3705640," so do we even call clear background to winco we can try to command out clear or background"
3705640,3713880," right so which will lead to this kind of thing okay that is super cool so we tried to call it with a"
3713880,3720520," correct color and what we're supposed to do in here yeah we're supposed to just use it so i don't really"
3720520,3729640," know uh why uh why yeah so it set the canvas correctly so everything everything is correct bro"
3729640,3737400," it's just like doesn't display that um it just doesn't display that yeah it's"
3739720,3745160," probably set target fps is it really a set target um"
3745160,3754120," no you don't need to set target fps um it's just like it's ignored but maybe"
3754120,3756760," do we use target fps for anything"
3756760,3761720," why do we say that we ignore it if we"
3764600,3770360," but we don't we use it only for getting we can do set target fps but i mean it's useless for now"
3770360,3777800," right now it is useless uh everything seems to be working correctly actually believe it or not it's"
3777800,3786520," just like it doesn't draw uh i have no idea why when i start the thing when i start"
3787880,3794920," how do we organize the loop how do we organize those so we do entry function"
3794920,3801160," so in the begin drawing we don't do anything in the end drawing"
3801160,3804920," in a clear background"
3804920,3808920," so everything is correct"
3811320,3816120," um so i don't see any problems right so"
3816120,3827880," um that's annoying bra bra that's annoying because if i just remove clear background if i just remove"
3827880,3837240," clear background it is set absolutely correctly it is set absolutely correctly uh so this is the color"
3837240,3847480," this is the red color right so we can even okay i can even try to maybe grab this thing so this is going"
3847480,3853640," to be the style this is the style it's probably something stupid as usual because i don't see"
3853640,3862440," what could be wrong in here uh takes a pointer to the array but see path is four arguments"
3863320,3873320," okay so we've got something here already oh it oh my god it literally passed seriously because"
3873320,3880760," it literally passed four arguments because it's this oh my god are you for real"
3880760,3893000," so okay uh that is absolutely annoying clear background so what if we accept like the color struct struct"
3894280,3905320," color struct um character r g b a bra this is so annoying if it works like that"
3905320,3915880," oh my god this is so goddamn fucking annoying um all right so is it going to compile what what"
3918760,3920040," so hopefully"
3920040,3932360," dude why don't you pay okay so i shouldn't complain this is not finished uh right this is not finished"
3932360,3941240," but that is annoying so that means i can't use the epic vectors in the web assembly"
3942520,3951640," um did js district it's it has nothing to do with js it's a c3 generator passes the vectors as separate"
3951640,3957080," arguments for whatever reason it's not c3 dude shut the fuck up like i already said"
3957080,3963880," that it's unfinished language it's unfinished language don't fucking criticize and finish stuff"
3963880,3972600," what i'm saying is just i'm expressing frustration with unfinished language um right so pass it as a"
3972600,3978040," why to pass it as a what the are you talking about everyone uh do you even watch the stream anyway um"
3979400,3984200," so yeah we're gonna be doing like this is extremely annoying so that means"
3984200,3988920," like it defeats the points it defeats the whole point"
3988920,3998120," um it's like i don't want to be using stupid structs i don't want to be using stupid structs i want to be"
3998120,3999560," using epic vectors but"
3999560,4002280," bruh"
4002280,4005960," how can i do that"
4005960,4015000," uh try to mark the function as wasm so what why are you suggesting all that stuff that has"
4015000,4022360," nothing to do with anything um maybe we could try to do that okay so let me uh let me try to do that"
4024600,4028040," yeah so it's going to be white i'm pretty sure wasm is not going to do anything"
4028040,4033240," i'm pretty sure wasm is not going to do anything but let's give it a try"
4033240,4041320," all right so okay it doesn't do anything like you're just like"
4041320,4048600," randomly suggesting something uh that is not based on anything um so yeah"
4049960,4057400," so color struct we have to be using color struct uh in the m so that's that's about it so that's"
4057400,4058920," that's literally how we have to do that"
4058920,4071480," man i'm annoyed i'm insanely annoyed i wonder okay yeah all right all right all right so let me see"
4073080,4081640," i can try to maybe use ray lib uh color it's just like the whole point is literally defeated and it's"
4081640,4084360," just like oh my god bra bra bra bra"
4084360,4091160," okay so and you can't that because they're not compatible you can't just do that"
4091160,4096680," uh you can't just do that uh i wonder if i can like explicitly"
4096680,4105400," accosted to ray leap call a struct um all right yeah you can't do that like it's it's not ready"
4105400,4114280," um that is such a bummer that is such a bummer like it's it's like you could get there and"
4114280,4124280," bro but okay okay so maybe internally you could should it before no no it shouldn't be like that it's"
4124280,4134040," vectors you just don't know c3 all right um you can use vectors internally um to separate args i don't"
4134040,4137880," want to be modifying really people why are you suggesting the relevant things i don't want to"
4137880,4144040," be modifying really itself because it's a self-contained library that is used by c code the point is you"
4144040,4149400," have a single library that is used by c code that is used by c3 code i want to be modifying anything in"
4149400,4161000," here the in we don't touch interface of radibjs all right so whatever um okay so we can do that so we"
4161000,4169400," can try to do this internally and then convert to the structures uh so we're using that internally and"
4169400,4182600," converted this track oh man um and but this is so stupid like man i'm so annoyed i understand that it's"
4182600,4189640," not finished i understand that it's not finished but this like one thing kills the whole mood brah"
4190520,4200680," oh my god okay i need to come down it's just like uh uh so so annoyed all right let's go ahead and do"
4200680,4211000," that like i've never been so goddamn upset like all of a sudden just like all right erection look"
4211000,4217720," literally blue bold i got literally blue bold by a language i'm so disappointed like it's probably"
4217720,4223240," easy to fix it's probably easy to fix you just like you just do something like you just pass it"
4223240,4229720," correctly to the compiler stuff like that but i mean oh i'm so blue bold brah i'm so blue bold right now"
4229720,4237880," if only if only you just passed vectors just like structures that would have been"
4238600,4245320," perfect that would have been parking perfect but it's not like that oh my god it's and it's probably"
4245320,4251480," it's easy to fix again it's it's probably easy to fix but i mean brah brah brah brah"
4251480,4255400," uh and chat doesn't even understand what i'm talking about it's so"
4255400,4262040," fucking pathetic anyways um all right so what we're going to be doing so i need to"
4262040,4267720," just grab the code i have in here uh just grab the code that i have in here and hello c3"
4268760,4276600," okay so let's go ahead and maybe uh port this entire thing so we're going to be having this thing"
4276600,4277000," um"
4277000,4289800," pepeg literally pepega check they they they think that this is somehow a showstopper"
4289800,4294360," right so they think that oh you can't do that you have to switch to zig"
4294360,4300760," no it's just a minor inconvenience i i can still port it to this language and the only reason why"
4300760,4304520," they do they say that is because they literally can't comprehend what the fuck is going on in the"
4304520,4309240," screen so anyway uh let's continue um"
4311480,4316840," wipe is ruined yeah exactly why brilliant but it's not that big of a deal whatever um"
4316840,4325800," so we are randomizing stuff in here and uh so in a single frame right in a single frame so this is"
4325800,4334440," basically initialization right so this is basically initialization though by the way we probably have to"
4334440,4341320," actually make this thing uh global variable in here yeah we probably have to make it a global variable"
4341320,4351880," uh right all right all right um so get frame time and since we're going to be actually doing get frame"
4351880,4360280," time we will have to we will have to uh do something like this"
4360280,4375160," so yeah so we'll probably do have to do set target uh you know set target fps ready set target fps is"
4375160,4388360," going to be 16 uh so yeah there we go but do we have a random number ngs i don't remember so let me see"
4388360,4398440," uh a random yeah okay so here is the the only place where we pass this thing"
4402520,4410040," so we need to do color from hsv which returns the structure all right so it's going to be array"
4410040,4418120," leap uh js color from hs we don't have a color from hsv so we probably won't be able to"
4418120,4423160," easily do that we won't be able to easily do that"
4423160,4425160," um"
4428680,4442200," oh sorry should be char slash char but the point is that you just need to change the declaration and"
4442200,4449800," it will work really it will work wait wait wait wait wait so we are saved from this is so bizarre um"
4449800,4457160," i don't understand how it works then wait a second so we're not going to be blue bold wait a second"
4458120,4468760," um wait wait wait wait wait wait wait so let me um okay so i'm gonna do that"
4468760,4480520," uh uh where is the c3 and the raylibc struct one more time"
4484280,4487480," right it doesn't work right it doesn't work so you are telling me"
4487480,4497320," that if i do that it is going to work this is not what i want no no no no no"
4497320,4509880," this is not what i want this is not what i want uh will something like this work"
4511880,4519480," um only oh okay only in signature okay okay okay okay okay that makes sense so this is that"
4519480,4525240," all right all right all right all right all right right right because i want to be able to use"
4525240,4532040," all the niceness of vectors but still pass them as structure right so that will turn it into a race so"
4532040,4538040," we'll lose all of the magic so it's not good it's it's a no no right so we leave it like this but we pass it"
4538040,4543480," as an array so you're telling me it will automatically convert that that's what you're telling me okay"
4543480,4546280," so it at least it compiles and it works"
4547160,4555800," fuck your zeke fuck your zeke we don't need your stupid zeke we have c3 we have c3 we won again"
4555800,4564680," fuck you balls saved literally balls saved thank you so much all right uh let's go"
4565240,4574360," uh why are you hate or bra bra bra i literally don't give a shit"
4574360,4590440," why are you hating on my oh my zeke why are you hating on my zeke sorry uh let's continue um where so"
4593000,4601720," hello c3 so now now we should be able to actually just use it right so we should be able to just you"
4601720,4611400," this is actually super cool uh right so this is gonna be that uh man i'm so happy i don't have blue"
4611400,4620680," balls anymore thank you thank you so much you un blue bold me you literally un blue bold me literally saved"
4620680,4631240," this stream literally saved it vibe restored yeah vibes restored okay um so i'm super happy now"
4631240,4636920," so we can finally work in here"
4640600,4652120," uh cool cool so let's try to compile so let's go to the compilationers get color is kind of bizarre um"
4652120,4656680," so do i want to use get color i actually don't want to use get color um well though wait a second"
4661640,4669240," yeah so yeah so in here we're doing some fish stuff so i can query replace c in the air so this is what i"
4669240,4679240," want um yeah so let's now try to compile one more time uh what else uh get color could not be found"
4679240,4686120," because i get rid of it because it was kind of weird which is understandable so let's use this"
4686120,4698600," shed directly let's use this shed directly uh like this like this cool now all right so it seems to be"
4698600,4706200," compiled it is literally compiled just like right away uh but if we're going to be using delta time"
4706200,4712040," right so if we're going to be using delta time we have to set the um you know fps set target fps"
4713320,4741640," so and ray leap c3 um extern fn set uh set target fps fps uh extern set target so i feel like it's not going to work"
4741640,4752680," because because we don't have a random number generator stuff yeah uh okay all right yeah get"
4752680,4758280," random value we don't have this function yet which is understandable so it's super easy to actually add"
4758280,4770040," this thing um so let's go ahead and simply add this function um all right get a random value get random value"
4770600,4777640," so we have a minute max right so this is a million max uh and as far as i just returns you an integer"
4777640,4779960," um so"
4779960,4787080," so this is result here or whatever uh what we can do i suppose we can just do max"
4787080,4793400," minus mean and well i mean they're not integers right so it's it's not the correct javascript"
4794200,4800360," um right um right so and essentially what i need essentially what i need essentially what i need"
4800360,4803720," so we have something like from one to five"
4803720,4810280," ray leap is it inclusive or not uh ray leap"
4810280,4817160," get random value both included okay so both included"
4817160,4822280," if i subtract if i subtract i just get four"
4822280,4832600," uh i don't remember chat does math random include one does anybody remember"
4834840,4839160," does math random return one sometimes does it return one on it"
4839160,4852600," no it didn't okay i'm gonna actually javascript uh math random i don't believe you chat i don't believe you"
4857320,4861080," less than one okay so that's understandable less than one"
4861080,4870440," less than one so that means this is going to be four but it's never going to become"
4870440,4876680," four so probably what we have to do is max minus mean plus one right so"
4879080,4890360," math random multiplied math floor and mean plus something like that you know something like that"
4890360,4902760," i guess i guess it makes sense um all right so now i'm gonna refresh this into i think uh color from hsv"
4905640,4913880," this one is rough actually oh it's um it's a structure into which yeah it's a point"
4913880,4923080," okay so that's understandable uh color from hsv uh so i suppose yeah so this is a result point uh blah blah"
4923080,4929480," right so because the way llvm does that um"
4929480,4935080," the way llvm does that do we have to write everything no no only the functions that are not"
4935080,4940040," implemented ready js is not fully implemented right so there's some function that i'm missing i think"
4940040,4947080," this is the last thing that we need to implement is a color from hsv uh right so let me see color"
4947080,4953080," from and we'll be able to then actually give the the code that we implemented back into the project"
4953080,4963800," um so hue saturation saturation value um and how do the result ptr result ptr"
4964520,4968920," oh this one is yeah this one is yeah this one is actually kind of cool uh so we'll be able to"
4968920,4979000," do it like that so this is a vector so this is a vector actually of u int"
4979000,4984680," u int 8 and we have four of them right so we have four of them"
4984680,4992440," and what we have to do we have to just like write them um okay i kind of even remember this kind of stuff"
4993240,4999480," um so but but but you need to have this thing so we have a memory buffer"
4999480,5005800," all right so how do you convert hsv"
5005800,5014920," um so i need to know the source code of radio so let's actually steal some code from radio so let's go to"
5014920,5016840," ray san ray dip"
5016840,5023000," and let's find"
5023000,5036360," bro github is shit bro oh my god it's so slow color from hsv color from hsv"
5037720,5040040," uh okay okay so we have in here"
5040040,5046120," oh it's a header"
5046120,5053800," apparently deported got help to react recently really"
5053800,5063560," bro like it's so bad it's easy to just clone and navigate locally bro this is a joke i swear to god"
5064200,5068520," um anyway so i think i do have the source code of radio somewhere here"
5068520,5073640," yeah let's go if i can find it uh color from hsv"
5073640,5077240," fuck this shit so here it is and what's the formula"
5080840,5100280," is there any way is there anything in um in javascript that automatically converts this stuff"
5102360,5103080," um"
5103080,5107960," um yeah but i suppose we can just do it like that so"
5107960,5118200," all right let's go um so we can just do the following thing so this is going to be k"
5118200,5127320," uh so const k i'm not sure if javascript has f mod f no it doesn't so but it doesn't need to"
5127320,5134600," have f mod f because you can simply do this kind of thing so it's just that all right and then you"
5134600,5143880," just do that so it's just f and you just repeat that and r is basically result zero we don't really"
5143880,5150520," have to do this kind of thing all right so we just multiply it but that effectively means we have"
5150520,5161560," to do math uh floor yeah basically basically all these things are floats and then we yeah okay so i"
5161560,5168120," think it's doable i think it's doable we can literally port uh this thing in here and we just"
5168120,5174600," have to repeat that for each individual thing in here and then result three is going to be 255 so that"
5174600,5181960," should be fine uh okay so i wonder by the way if i can use a little bit of emax magic in here"
5181960,5194120," where i can just say okay this is mod and this is just that this is just that then in here we get rid of"
5194120,5204840," that and then in here so it's just a result one or and two and this one is just math floor and then it's"
5204840,5213320," just that so one two so there's also this f in here but apart from that i think that's about it so we"
5213320,5221720," literally ported the entirety of the function to javascript uh there's five zero f i didn't see it"
5221720,5232120," there's null um all right all right all right all right all right so let me see okay assigning to"
5232120,5235720," const oh yeah that's understandable so let's just do let"
5238520,5244840," okay uh rectangle v so we don't really have rectangle v uh all right but look at that"
5244840,5250680," chat look at that it already set up the background it already set up the background so that's pretty"
5250680,5263160," cool um okay draw draw rectangle uh so we just have a regular draw rectangle um but we want to have draw"
5263160,5275160," draw rectangle v draw rectangle v draw rectangle okay so draw rectangle v uh so it's going to be position"
5275160,5284680," position size color and all of them are pointers by the way so that's kind of important uh right so all"
5284680,5292520," of them are pointers um and now so we need to have a memory so i can get the color from the memory very"
5292520,5302360," easily do i have the same shit for vector 2 um get uh so get color from memory"
5302360,5315560," so there should be something yeah so color hex unpacked so vector2 do we do we have anything for that"
5315560,5321880," i don't think so actually i actually don't think so but it shouldn't be that hard"
5321880,5326920," in all respect in all respect so we can just set the color like this"
5326920,5336200," and then we just have to draw the rectangle so ctx view rect so we have to take the position"
5336200,5339160," text point"
5339160,5351400," well we can basically do something like this all right so essentially here is the position"
5351400,5358840," which is float 32 which is float 32 so this is the position pointer and this is the size"
5358840,5368040," point aside and this is size pointing right so that means i can do position zero position one"
5368040,5375000," size zero size size one and that effectively"
5376840,5385320," um gives me everything um gives me everything right uh triangle v oh yeah it's supposed to be v"
5385320,5392520," so position and the color and stuff like that uh vote should be multiple of four"
5396360,5405000," um start of set should be multiple of four that is fascinating so what exactly do we do do we"
5405000,5413960," get as the parameters in here um okay so we've got a bunch of okay i see what is going on yeah i"
5413960,5424440," i this is literally the same problem uh ready c3 so everywhere we accept vector two we have to actually accept"
5424440,5435320," float two all right so we accept float two and here we accept char four uh let me recompile everything just in case"
5435320,5444040," right right everything's fine uh uh now we accept four pointers right so we accept four pointers"
5444040,5451800," and let's bring the implementation back and there we go we ported yesterday's demo to web"
5455240,5464440," can your zeke do that can your zeke do that i don't think so you know guys honestly i i don't really"
5464440,5470840," understand why would you program in zeke if c3 covers all of the cases of zeke oh i don't understand"
5470840,5477080," much why do you need zeke exactly this language covers all of the cases of zeke you don't really need"
5477080,5486360," that you know what i'm talking about looking for why what's the point like no it just works"
5486360,5498680," it's kind of cool uh so um yeah it's kind of cool and uh we also extended um you know"
5498680,5504840," those little bit uh we extended this little bit and we can actually contribute this kind of stuff back"
5505400,5513240," but but but the thing i want to do honestly the thing i want to do is um take the same code and compile it"
5513240,5523640," uh and compile it to to native right so i want to compile it to native to do that to do that we need"
5523640,5534040," to have a conditional compilation um we need to have conditional compilation because uh in here yeah so we"
5534040,5540760," we have this kind of thing so depending on the platform like professional c3 developers how do you do"
5540760,5547160," this kind of stuff in c3 so there's something about defines but i want to be able to define it outside"
5547160,5553480," of the source code in the command line somehow you know what i'm talking about you know what i'm talking"
5553480,5562520," about this is what i want uh so it's cpre processor but i mean uh it should cover all of these like cases"
5562680,5571000," uh shouldn't it yeah add if but then how do i create the variables c3 has dash d okay that's actually"
5571000,5581160," pretty cool all right let me see uh c3 help um so dash d okay cool thank you thank you so much i think"
5581160,5586200," that's sufficient for me um not dash but at d um"
5586200,5593400," so what do i want what do i want what do i want i want to have this thing"
5597640,5604440," so and that is effectively yeah ray leap window should close"
5604440,5614040," ray leap window should close and we just do game frame so this is our game frame game game free"
5614040,5620280," ray deep uh and something like this uh okay"
5621640,5629960," so here is the usual initialization and then we can do at if um so platform"
5629960,5638440," web uh game frame exactly exactly but let me let me see so i want to take a look at some of the"
5638440,5646760," the examples in here um so grab at if grab at if so uh-huh"
5646760,5661960," it feels like you usually put them yeah after this thing so you don't do in line um i need more"
5661960,5671560," more maybe information about that so uh add if so add and switches so there is dollar if and there is"
5671560,5676040," add if and i don't fully understand how that works um"
5676040,5680840," so"
5680840,5690600," compile values uh let me find that where is okay conditional compilation"
5691960,5697560," at the top level using at if but they only have blocks the ad it seems to be a function"
5697560,5700120," yeah so that's the problem it's it's a function attribute"
5700120,5711480," um but can i i don't even know so can i just do something like this uh and then else"
5715960,5722040," i i just don't know if i can because it feels like this thing wants to have like a boolean condition"
5722040,5727400," but does it check the existence of feature flag or something like i i'm so confused honestly"
5727400,5735400," i'm just super confused like how this entire thing is supposed to work um okay so expected"
5736920,5747560," um so 69 uh yep i i don't know so if i just put true in here so it wants a boolean"
5747560,5758040," man i'm confused like yeah um"
5761400,5769560," one maybe one maybe one so just a second oh it's it's without parentheses um so the fact that it's"
5769560,5777240," kind of a completely different language is super confusing uh okay no look at that what about okay one"
5777240,5778680," no"
5778680,5787160," command if doesn't exist well no you need oh man"
5789320,5794440," yeah so the fact that it's a completely different syntax that's what what's confusing that is really"
5794440,5802600," confusing okay so platform web uh all right so could not be fine did you okay so that's that's"
5802600,5812200," already something uh that's already something so then we can do platform web uh so it's probably something"
5812200,5826920," like this so here's the thing dollar if doesn't work with feature flags"
5826920,5839800," so there is a dollar feature okay check if a given feature isn't ah oh i see all right so okay so here is"
5839800,5846680," my complaint right the difference between semantics of add if and dollar if it is"
5846680,5852920," kind of confusing right so because it's a conditional compilation like a compile style time stuff and then"
5852920,5864120," they kind of ex like okay so i see where are you going with all that but yeah um okay okay so okay"
5864120,5870920," makes sense makes sense makes sense um right there we go there we go there we go so what we want to do in"
5870920,5882840," here as well uh i want to maybe just have a web all right so and web depends on web c3 right so web c3"
5883800,5889160," and so here we can actually um bring"
5889160,5894600," array leap i'm gonna copy paste this entire name here"
5894600,5903560," uh-huh so we'll get that so and we're gonna compile the native version as well right so we're gonna compile"
5903560,5912680," the native version as well um so i'm gonna take that i'm taking that uh we don't define web"
5912680,5921720," we don't define that don't define that um so we do we do have entry"
5921720,5929480," uh-huh so none of that matters anymore none of that matters"
5929480,5935720," uh-huh all right so let's do make web specifically does it compile"
5936920,5942120," it shouldn't compile by the way it shouldn't link at least so it's gonna take some time so it's probably"
5942120,5947240," trying to figure out some stuff uh so this is what i'm talking about yeah it couldn't find stuff"
5947960,5954280," uh and i don't remember i think it was something like l ray lib"
5954280,5962280," bro just give me the thing"
5967480,5977000," okay okay we're gonna grab this thing all right so let's go"
5977000,5982600," so i probably should have not used all three"
5982600,5986920," because it's taking too much time to obtain okay so we'll get the web"
5989240,5995800," and there we go so the same code works in web"
5995800,6001640," and mentally can your zig do that i don't fucking think"
6001640,6012760," okay people who unironically like taking whatever i say seriously and then trying to defend the zig in"
6012760,6015720," comments and stuff like that are you okay"
6015720,6026440," because i see people like unironically like you can actually do that i"
6026440,6030360," fucking know i tried zig that's the point that's the fucking joke"
6030360,6034120," calm down i don't give a shit about language wars"
6036200,6039960," tribalism is fine exactly tribalism at its finest"
6039960,6050760," uh so that's actually okay so you can um yeah you you can write this kind of code so it's obviously"
6050760,6057480," the wasm support is unfinished but it's already but it's already usable right so it's already usable to"
6057480,6065960," some extent um so yeah what we can do now honestly i don't need type script"
6066200,6072760," this type script thingy uh and neither do i need like a js right so because all the necessary code"
6072760,6078360," is an arraylib.js right so yeah all the necessary code is there"
6078360,6086040," and uh so because of that i don't really need package json and also node modules right we don't need"
6086040,6095960," any of that stuff i would like to rename this thing to actually not web all right so let's"
6095960,6103320," remove that remove that there we go so uh i would like to call it demo right so this is a demo that"
6103320,6114600," makes more sense uh let's get rid of this thing as well okay so uh this is a demo in make file i'm"
6114600,6124200," uh so in here uh so is it compiling um so let me get rid of all three full native version because it's taking too much time on sling so"
6124200,6128200," let me get rid of all three full native version because it's taking too much time on sling so"
6128200,6143240," hmm okay that's cool program link to executable uh demo so and now if i so is the yeah server is working and now if i open it in here"
6143240,6159000," something crashed"
6162680,6174280," okay"
6174280,6182680," i don't get it something something is index html"
6184680,6199320," um"
6199320,6204280," i definitely broke something but i'm not sure what exactly"
6204280,6213000," something is weird"
6213000,6219320," is it bro"
6219320,6229960," which they break bro bro bro okay okay okay so ray leap c3 uh it's it's a demo c3"
6229960,6235000," actually um if it's a platform um"
6235000,6235320," um"
6235320,6242440," caching i'm not sure if it's a caching it's also super slow right now"
6250440,6258040," maybe it is caching like"
6258040,6262440," bro"
6262440,6273720," endless loop because wrong name of the flag"
6276280,6280120," what are you guys talking about what are you guys talking about"
6280120,6285880," like it's a it's a server that it doesn't like what does it have"
6285880,6288280," ah okay"
6288280,6294840," um yeah i see i see i see i see thank you thank you i'm already falling asleep i'm already falling asleep"
6294840,6298600," um all right so exit page"
6298600,6305720," okay finally thank you thank you so much so that is working right so that is working and"
6306680,6313160," now i'm gonna do demo there we go so that is working as well so native version and web version"
6313160,6320840," okay that is cool that is very cool um so i want to maybe commit this entire step somewhere"
6320840,6323400," um okay"
6323400,6325800," but"
6328520,6333720," so this is more like a demo uh this is more like a demo so let's do git ignore"
6333720,6338840," uh we're gonna go demo demo wasm demo what"
6338840,6342920," though we don't really need to ignore"
6342920,6349080," wasm per se right so we can we can just commit that"
6351560,6355240," you can just commit wasm because then we will be able to serve this entire thing"
6355240,6359480," over the github pages that's one of the things we'll be able to do"
6359480,6363880," uh all right so let's do git init"
6365400,6373640," um how should i call that um um c3 demo let's call c3 demo so i think that's a little bit better"
6373640,6383240," so i'm gonna commit really five oh as well the entirety of it though i don't like that it has"
6383240,6389560," included in chat so we only only need libs right so let's get rid of that"
6389560,6399720," and also let's get rid of that we don't need so's in here we're only linking with the all files"
6403640,6405880," okay so"
6405880,6408760," yep"
6408760,6413800," ready set go"
6413800,6416760," so let's create"
6416760,6428120," separate thing it is kind of cool that i was able to reuse that raylib.js project that i did in the past"
6428120,6432120," with c3 it's kind of cool that i was just able to reuse that"
6433640,6442200," really like that okay c3 demo uh yeah demo of c3 programming language"
6442200,6448200," c3 programming language and uh yes"
6448200,6454120," any reason for using make files to annoy you"
6457880,6461000," okay so let's do add origin"
6461000,6463080," yep"
6463080,6468600," it's a success then nice"
6468600,6470280," yes"
6470280,6472200," that was the goal"
6472200,6474200," uh"
6474200,6478760," so that was the goal that was the goal"
6482120,6482680," all right"
6482680,6482680," all right"
6482680,6487640," so i should have actually created like a readme or some other stuff or whatever"
6487640,6490120," but i mean that's fine"
6490120,6491480," okay so"
6491480,6492280," um"
6492280,6493880," yeah"
6493880,6496360," i'll probably have to go to settings"
6496360,6499480," so there's something weird about github pages"
6499480,6506200," uh deploy from branch branch main save"
6508360,6513720," okay so hopefully that will start the uh the deployment process"
6513720,6519000," okay okay so it is deploying right now it is deploying"
6519000,6522040," so wait a little bit maybe we can take a look at the details"
6522040,6529320," uh so holy what the is going on holy it's just doing things"
6533000,6537800," oh okay so it's it did stuff report build status"
6537800,6543480," yeah pages so bizarre sometimes yeah true true"
6543480,6545480," okay"
6545480,6549000," so"
6549000,6560840," can we go there is there any way to to just visit where's the where's the link to visit"
6561800,6562360," and see"
6562360,6567080," i probably have to type it myself"
6567080,6571080," oh my god"
6571080,6575480," so slow c3 demo"
6575480,6578280," look at that it worked"
6578280,6583000," uh"
6583000,6587000," that's kind of cool right so"
6591080,6595320," i just implemented like a ray lib demo in c3"
6595320,6601480," and then i ported that demo almost without modifications of the main logic to web"
6601480,6604120," using unfinished wasm support"
6604120,6612760," can your zeek do that i bet you zeek has a finished wasm support right so"
6615400,6620840," um run so smoothly on my machine cool really glad to hear that because i have a dying machine"
6620840,6630920," um so yeah that was fun so i can see myself using c3 for my game right so because i don't really need"
6630920,6638760," that much from a language that compiles to web assembly i just need that thing to create minimalistic"
6639400,6642520," minimalistic web uh web assembly modules right so"
6642520,6645800," and yeah i'm going to be using c3"
6645800,6652200," specifically to annoy zig developers because zig developers have been annoying me"
6653320,6659320," for the whole time running in the chat constantly asking when you're going to try zig again when you're"
6659320,6664680," going to try zig again and they're also going to be coming to my projects submitting build dot zigs"
6664680,6669720," where they're not even needed in the projects that are not related to zig"
6670520,6676280," and this is my revenge to you you've been annoying me i'm going to be annoying you now"
6676280,6683960," the pendulum is swinging back that's what you get for annoying zozin"
6683960,6692840," zozin is going to annoy you back that's it i don't need you zig why would you program in zig if c3 covers"
6692840,6702280," all of the cases there you go right taste your own medicine taste your own medicines all right that's"
6702280,6707560," it for today thanks everyone who's watching me right now i really appreciate it have a good one"
6707560,6714280," and see you all in the next recreation programming session with ahu and mr azuzin love you"
