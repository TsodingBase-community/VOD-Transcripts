start,end,text
800,9920," Hello and welcome to another Zodin stream. How about that? How about that, but you didn't expect that"
9920,19200," shit to happen. So today is Sunday, if I'm not mistaken, the day of the sun and that means today"
19200,25600," according to the schedule we're doing a game development in C++. How about that? How about"
25600,32640," that bitch? You didn't expect that shit to happen. So let me see. So you can find the source code of"
32640,40080," the game that we've been developing for quite some time in here in the description. So it's going to be"
40080,46000," a game source code. There we go. This is going to be game source code and let's take a look at it."
46000,48720," Let's take a look at the game. Let's rebuild everything just in case."
48720,61520," Yeah, this is how it looks like. So it's not a final look and feel. It's just like a programmer's art,"
61520,68960," more of a technological demo. It's a custom engine in OpenGL and stuff like that. And today we're"
68960,73760," going to continue developing these things. So let's take a look at the issue tracker just to see what we"
73760,79360," can do today. So yeah, we still need to develop the development console. We still don't have it."
79360,89360," And we could also work on in game level editor, which is also quite useful because these kind of tiles"
89360,95920," here, they're pretty much hard coded. And to change them, it's kind of painful for me to change them"
95920,103920," because I need to go into the source code and place them by their grid coordinates, which is kind of meh."
103920,110000," It will be better if I could like go into some sort of like an editor mode and just click on those things"
110000,114800," and it will automatically create these tiles for me. That will be goddamn fucking sick."
115360,119600," So, and probably that's what I want to work on. So to be fair, like I feel like I want to work"
119600,126160," specifically on that today. So let's actually grab this issue and start working on it. I think that's"
126160,138800," a good idea. Uh, in game level editor. So I think I already fetched everything, uh, all the latest changes"
138800,148880," that introduced recently. Okay. So, and let's create a branch for the issue number 90. There we go. So, um,"
148880,153280," how are we going to approach this entire thing? So first of all, we need to know the position of the mouse."
153280,158400," As far as I know, we keep track of the position of the mouse in two different ways. We know the"
158400,164560," position of the mouse on the screen, on the window, uh, in integer coordinates. And we also know the"
164560,172160," position of the mouse in the world, which is quite goddamn cool. So maybe, uh, I just want to see the"
172160,178000," mouse, uh, in the world. Maybe we're going to go into the game and when we're rendering everything,"
178000,184400," after we managed to render everything, we could try to, um, render some sort of like a rectangle,"
184400,192080," some sort of rectangle, um, at the position of the mouse. So, uh, let me go to the renderer."
192080,199840," So, and as far as I know, we have a few AABB. Okay. So, and, uh, let me see, let me see."
201040,207920," Renderer, uh, an AABB stands for Access Aligned Boundary Box, right? So if you never heard about AABB,"
207920,217200," it basically means a rectangle, um, app.org. Yeah. It has an official website. Yes. Yes. Uh, access, uh,"
217200,225040," aligned. I saw it in this after suggestion, but Google trying to be super, super smart. So, yeah,"
225920,232960," essentially it's a rectangle, each axis of which each side of which I would suppose aligned with the"
232960,242560," axis, right? So, um, let me show you, I'm going to start my pain. I'm going to start my pain, uh, wait a"
242560,249280," half of an hour because it's written in Python. And, uh, so you have access in here. So, and something like"
249280,258240," this would be considered an AABB because its sides are aligned with the axis. Uh, something like this"
258240,264400," probably wouldn't be considered, uh, AABB even though it's a rectangle, right? So this is a rectangle,"
264400,270960," but its sides are not aligned with the axis. So, sorry. So the main difference is that this kind of"
270960,278160," rectangles to represent this kind of rectangles, you need to store, uh, each individual point, right? So you"
278160,287200," need to store each individual point or maybe, yeah, uh, so you need four points, right? In here,"
287200,292480," you only need one point, uh, which denotes some sort of a position. If you, if we're actually talking"
292480,297200," about OpenGL coordinates, right? So it's going to be like this. So this is going to be the position"
297200,303040," and, uh, this size. So in that case, size could be represented as another vector. So in the case of"
303040,313120," AABB you need two points, uh, right? So this is a regular rectangle and this is AABB, AABB, right?"
313120,320160," So, and I suppose a regular rectangle could be also represented as AABB plus its rotation,"
320160,331680," right? Um, so it could be also AABB plus its rotation, but a rotation is not enough because you"
331680,336560," also need to know the rotation around which pivot, right? Uh, for example, it's going to be a rotation"
336560,345200," around this pivot. So that means you need the pivot, uh, plus pivot. And you're going to end up with four"
345200,350480," points anyway. That's very interesting. So we're going to get two points to represent AABB, right?"
350480,355200," Because the first point is going to be the position and the size. Uh, the second one is going to be"
355200,359360," a rotation, but the rotation is not necessarily a point. It's just an angle. Uh, and the pivot is"
359360,364160," going to be another point. You still have to have a lot of information just to represent this kind of"
364160,369520," rectangle, right? But to represent this one, when you know that, uh, sides are aligned with the axis,"
369520,375920," you only need like two points or something. So basically you can, the representation of AABB is"
375920,381760," much smaller than the representation of a general rectangle, right? So that's basically what it means."
381760,391360," Um, and, uh, here, uh, our renderer is capable of filling AABB, right? So, and to create AABB,"
391360,397200," we need to construct something like, ah, let me see. So we have a math module. All right. We have a math"
397200,402880," module. And if I take a look at the structure AABB. So it has a constructor. It allows you to construct"
402880,410480," AABB from its position and the size. Uh, so its position is located at the mouse world position,"
410480,415760," right? But I also want to have the rectangle to have a particular size, right? So let's actually"
415760,423840," introduce something like medium, uh, mouse cursor size, right? It's going to be mouse cursor size."
425200,432640," And that means I need to shift the position of the, um, of the AABB to,"
432640,441920," yeah. So basically what I need to do in here, I need to subtract V2, uh, cursor size. And after that,"
441920,447760," I need to construct the size. And because of that, the size of the mouse is going to be two sizes,"
447760,453760," right? So we're going to multiply that by two. Uh, there we go. We constructed AABB of the mouse,"
453760,459760," right? There we go. So the next thing we need to do in here, we need to represent the shade,"
459760,467600," right? So the color is going to be something like mouse cursor, uh, cursor color, right? And then we"
467600,472080," have to take a, uh, UV coordinates. UV coordinates are basically coordinates of the texture. How are we"
472080,477760," going to texture that specific cursor? So right now we're not going to put any texture in there,"
477760,481840," even though we could. I mean, we technically could."
481840,488080," Let's do that, I don't know. Let's find a cursor texture."
488080,495600," Uh, open game art. Let's just find something like random, uh, and just put it in there."
497120,507120," Uh, why not, uh, cursor, right? Uh, that looks good, I guess. That looks familiar."
507120,515360," Dwarven cursor. It's something like from the heroes of might and magic or something. I don't know. Pizza!"
515360,521600," I like pizza cursor. And I also like the question when I look at that. Pizza cursor?"
521600,529600," This is perfect. Oh my god, I love it. I love it. I want to have a pizza cursor. Yes, yes."
530640,536240," Uh, so it's, it's for development anyway. So this is a cursor for development. So it's not going to be in the final game."
536240,544400," But I love it. It's so beautiful. Such a cool idea. Okay, so, uh, let me put some like credits in here."
544400,552560," Uh, uh-huh. So is it in the, in the rewriting? Okay, so this is the pizza cursor. Nice."
553680,559760," So then I'm going to take the textures, right? So, and just download this entire thing. So pizza slice, pizza."
559760,568640," There's two pizza slice PNGs. Why there's two? Some of them is 38 kilobytes. Another one, probably different size."
568640,573840," Yeah, this is probably different size. Okay, so, and let me put this into, I think."
577760,588000," Panic attack. Okay, um, where is the pizza? Pizza slice. Perfect. Perfect, perfect, perfect, perfect, perfect, perfect."
588000,594640," All right, so, and we have a special configuration, right? So this is the pizza slice. And I'm going to just"
594640,604800," put it assets, textures, uh, pizza slice. And so this is one, this is 12. So that means the texture have 11th"
604800,610560," index, which is not particularly convenient. Um, but I mean, yeah, like referring to textures y indices is"
610560,614480," not particularly convenient, but I didn't have time to implement a better system where you could refer"
614480,620640," to textures y. Um, I don't know, something like an id, a human readable id, but I'm going to implement that"
620640,629040," a little bit later. All right, so, um, yeah, it's going to be automatically added to the atlas. Uh, and in the"
629040,642560," atlas, um, would have something like, yeah, we'll have to get the UV. Uh, so atlas, uh, get UV. And in here,"
642560,650080," we're going to have a UV index. So mouse cursor, uh, texture. Yeah, that's what we're going to have in"
650080,654880," here. So it's going to be mouse cursor texture. Uh, I've got a message in just a second."
654880,665360," Okay. Everything's fine. It's just a spam, nothing special. So, and, uh, what kind of program we're"
665360,669520," going to render it with? I suppose we're going to be rendering like with a regular program, but I don't"
669520,674960," remember the name of that program. Uh, so I think it should be called something. Yeah, I think it's called"
674960,680080," regular program assets. Okay. So let's actually put it in here and there we go. We are officially"
680080,684960," rendering the cursor. I'm not sure if it's going to work or not. We'll see. We'll see. So let's try to"
684960,693280," rebuild the entire thing. So it's going to build sh. Uh, and, uh, we don't have any of those things,"
693280,698800," right? Because I was referring to constants that don't exist yet. So we're going to add them to the"
698800,705200," configuration. So it's going to be assets vars. Conf. Uh, so what do we need in here? Mouse cursor"
705200,712160," size. Uh, let's set it to 100, right? So it's going to be 100. The next thing we need to do is a mouse"
712160,718080," cursor color. Uh, since we're using a texture for it, color probably doesn't matter. So we're going to"
718080,724320," just set it to white. Okay. So it's going to be white color because this is the color that is usually"
724320,728800," multiplied by the texture, right? So it doesn't really, it doesn't really matter that much."
728800,733280," So in the mouse texture itself is going to be an integer. Do we even support integers?"
733280,738400," I don't remember if we support integers. If we don't, we'll have to add them to the configuration"
738400,742880," and the texture is going to be 11. So let's actually see if we do support integers in here."
742880,748880," Um, oh, okay. So this one has to be a color. Thank you so much."
750080,757920," Um, all right. So I think we support integers. Um, narrow conversion."
757920,768320," Narrow conversion, narrow conversion. I don't really understand what the hell is going on in"
768320,774640," here. And why is this a narrow conversion? Oh yeah, because it's a long reeling."
775760,784560," Um, ah, yeah, it's an integer and, uh, here we accept size T or something. Okay. So let me"
784560,789360," actually like force it to be a size T or maybe since it's a C++, I'm going to be using like static"
789360,797840," cast or something, static cast. Uh, and this is going to be size T. Sure. Why not? Uh, let's put it like this."
797840,804080," All right. Is it going to be working? Is it going to be working? Okay. It worked. Beautiful. Nice. Finally."
804080,812960," Well, it kind of worked, but it's a wrong texture. Uh, okay. But since, uh, we have all of that stuff"
812960,817440," in the configuration, I should be able to quite easily change all of that stuff. All right. So"
817440,821680," I'm going to go to the vars. First of all, I think the size is too big. Let's actually make it a little"
821680,828160," bit smaller. So it's going to be like 50. Uh, there we go. So now it is way smaller. Uh, and by the way,"
828160,836080," you can change the color now, um, for instance, uh, I want to make it like green, right? And basically"
836080,842640," because of that, the, uh, cursor texture is going to be multiplied by the, oh, by the color that you"
842640,849920," provided in here. That's actually pretty interesting. So it's affected by the camera. Huh? It is in fact"
849920,857520," affected by the camera. So to make it not to be affected by the camera, probably, uh, well, yeah,"
857520,862560," I'll probably have to first of all, draw it with a screen program and"
866720,872560," using a screen coordinates of the mouse. That's probably what I have to do, but I mean, it's fine."
872560,877680," I guess, I guess it's fine, but I mean, it's not really that fine because, uh, if you zoom out,"
877680,884640," I want to still be able to see the cursor, but again, eh, so anyway, uh, let's go back to"
884640,891920," this thing and let's try a different textures now. What about texture 10? So this is the texture of"
892720,900080," of the player. Uh, is it 12? Uh, yeah, it is 12. Okay. But the problem is that it's flipped around,"
900080,904800," right? So this is the main problem. It is in fact flipped around and look at that. It has a,"
904800,910080," it has a shadow and it's properly rendered. Look at that. That's actually pretty cool. So"
910080,917680," the, the cursor has a shadow, huh? That is very, very interesting, actually. I like that. Um, okay."
917680,927760," So let me actually try to flip that entire stuff. Um, so this is the mouse texture and after we got"
927760,932720," the UV coordinates, we can actually try to flip it vertically, right? So we flipped all of that"
932720,938640," vertically and how it's going to look like, uh, hopefully that will look okay. I just forgot that"
938640,942880," I don't restart the application after rebuilding right now. So let me actually do that."
942880,954720," All right. And it looks nice, I suppose, right? So you have pizza and you know precisely the position"
954720,963760," of the, of the mouse. So this is precisely what we can use in here. Uh, yeah, it's kind of,"
963760,974560," it's kind of fun. It's funny how it's following the, uh, strangely enough, it's not really, it's not"
974560,984640," really staying on the cursor on the screen. So there's some sort of a lag between the actual position there"
984640,989680," and, huh, that's very interesting, but, uh, maybe I will instigate that a little bit later."
990640,994720," Uh, but anyway, so we have a pizza slice cursor, um,"
994720,1006960," pizza slice cursor. So this cursor has a bunch of problems. Uh, first of all, uh,"
1006960,1017440," the ratio of the cursor texture is not, uh, preserved, right? Because we're using just,"
1018240,1022640," yeah, it's not preserved whatsoever. We're just using mouse cursor and basically it becomes"
1022640,1029280," square, right? It essentially becomes square. Uh, this is one of the problems. Um,"
1029280,1041360," the size of the cursor texture depends on the zoom. Uh, so that means it has to stay always on the screen."
1042320,1051760," Um, and there is another problem is that, um, I didn't even know. I didn't even know what to say."
1051760,1061520," So you see, uh, as we move around, I think the, like the, the pizza cursor, like keeps upsetting from the"
1061520,1066560," actual, uh, native cursor. You can clearly see that if you like look at the, look at the pizza,"
1067120,1072160," right. Um, so maybe I can actually do it like that. So I'm going to zoom in and as you can see,"
1072160,1078320," the pizza cursor just sort of like lacks behind the, the native cursor, right? So it's just like"
1078320,1083280," lacks behind it. And that's kind of weird. I don't know what's causing that, but this is something that"
1083280,1088880," we'll need to investigate. Um, so maybe this is because we're taking the screen coordinates and keep"
1088880,1094000," converting them to the world coordinates every frame. And because of that, it sort of lacks one frame or"
1094000,1104560," something. I don't know what exactly is going on in there. All right. So, um, okay. The, uh, cursor, uh,"
1104560,1113840," lacks behind the native cursor, right? So here are the problems that we have with this particular approach."
1113840,1128480," So which one do I want to tackle first? I think the easiest one would be this one. So essentially,"
1128480,1136240," instead of using the regular program, you have to use the screen program. Uh, let me see. Uh, regular program"
1136240,1148320," just renders everything inside of the world. And that is very interesting. Uh, so, uh,"
1148320,1160720," I didn't introduce it. That's what's interesting. I thought I had a version of a regular program"
1160720,1167920," that basically does everything the regular program does, but renders on the screen inside instead of"
1167920,1173920," in the world. Uh, that's what I thought I had, but apparently I didn't implement that. I was thinking"
1173920,1179920," to implement that, but I never actually implemented that. Interesting. Very, very interesting. Maybe this"
1179920,1185360," is what I will have to implement at some point. So renderer CPP. If you take a look at the regular,"
1185360,1215340," triangle camera. Uh, triangle camera. Uh-huh. Uh-huh. Uh-huh. Hmm. Maybe that's precisely what I need to do. Okay. So let's actually introduce a couple of shader programs that actually, um, yeah, that actually render on the screen. But before I can do that, I'm going to add a couple of shader programs that actually, um, yeah, that actually render on the screen. But before I can do that,"
1215340,1221660," uh, I want to make a cup of tea, I didn't make a cup of tea right before the stream and now I'm struggling a little bit. So let's make a small break."
1221660,1229420," All right. So let's quickly add some shaders. How about that? How about that?"
1229420,1245320," So we have a triangle camera. Do we have a triangle, um, triangle screen? I think that's how it's going to be called. All right. So shaders, uh, here's the vertex triangle camera. Okay. So"
1245320,1273320," what this thing does, uh, what this thing does, it essentially projects everything to the, um, to the world. So let's quickly paste this entire thing and introduce triangle, uh, screen. And it's going to be vert, uh, triangle screen. And we're not, we, we're won't, we won't care about the camera position and camera zoom. Uh, and here we're only going to apply the screen, uh, projection, right? It's going to be, uh, almost typed."
1273320,1284780," Okay. Okay. Back to, uh, screen projection, screen projection. Um, and it's going to be just this kind of position."
1284780,1300900," Right. And what we're doing here, we take the position, right? We multiply it by two and we divide it by the resolution. And that way we are projecting all of that into the screen. So this is screen projection."
1301320,1305180," And I'm going to replace, uh, and I'm going to replace, uh, the camera projection with the screen projection."
1312500,1336140," JLSL is so inconvenient. So some other modes, like C mode, um, C mode. If you have something like a screen projection, right? So the tokenization in this specific mode will recognize this as a separate word. So if you want to jump between the words, you can actually jump like this. And it's pretty convenient."
1336140,1355660," The JLSL mode does not recognize, uh, underscore as a separate sort of like thing. And if you try to jump by word, it jumped by the whole, the whole thing, which makes it kind of inconvenient for me to jump to like beginning of the screen, as I would like do in here, right? And just put N in here."
1355660,1366060," So JLSL mode just like, uh, maybe I need to fix that. Uh, who, who actually developed JLSL mode."
1367820,1380820," Do they accept pull requests? They don't have any pull requests. Uh, and all the pull requests are accepted. Uh, okay. So, and are they active? They don't seem to be active, uh, uh, on GitHub. Unfortunately, I don't know. I don't know. Maybe I just need to fork it, but that's really inconvenient."
1380820,1394820," Anyway, so let me go to, uh, to the render at end and add another shader, right? So here we have, um, triangle camera vertex shader. Uh, and let's introduce triangle screen, uh, vertex shader. Right."
1394820,1400620," Anyway, so let me go to the renderer, add end, and add another shader."
1400620,1405940," Right, so here we have triangle camera vertex shader."
1405940,1410440," And let's introduce triangle screen vertex shader."
1410440,1413980," Right, so let's try to recompile this entire thing and follow the compilation errors."
1413980,1416660," Yep, yep, yep, yep."
1416660,1418980," Okay, so what do we have in here?"
1418980,1421380," The amount of shader assets have changed."
1421380,1423860," Okay, so where's the triangle camera?"
1424600,1429040," Here is a triangle camera, and in here I will need to set screen."
1429040,1433600," Triangle screen, and this is the screen, and there we go."
1433600,1435340," So after that, this thing should compile."
1435340,1438700," And of course, I forgot a very important thing."
1438700,1440500," I forgot to update this counter."
1440500,1442340," Discounter."
1442340,1444740," Discount?"
1444740,1447640," Renderer HPP."
1447640,1453180," So I suppose the next thing I want to do here is introduce something like screen program."
1453520,1457580," Right, so it's going to be screen program asset, and there we go."
1457580,1459900," So that will also cause the compilation errors."
1462840,1479100," So, regular program, screen program asset, and this thing is going to simply use screen vertex shader, but regular texture color fragment shader."
1479100,1479640," Right."
1480220,1484440," So, and of course, I need to increment that 4 to 5."
1484440,1485700," Now we have 5 programs."
1485700,1490100," And cool."
1490100,1500200," So if I go back to the game, right, so now I should be able to render the cursor on the screen instead of the camera."
1500440,1503060," Okay, so let's quickly see what's going to happen."
1503060,1510180," If I run this entire thing like that, here is the cursor, right, and I'm replacing it with the screen."
1510180,1516300," But the thing is, the position of the mouse now has to be in the screen coordinates."
1516960,1522040," And as far as I know, it has to be in OpenGL screen coordinates."
1522040,1525360," In OpenGL screen coordinates."
1525360,1533720," And OpenGL screen coordinates are minus half of the width, plus half of the width, minus half of the height, plus height of the height."
1534900,1539880," So, yeah, we'll need to do a conversion between two coordinate systems yet again."
1539880,1542600," Classic OpenGL move."
1542600,1558540," So, this is OpenGL, right, this is OpenGL, it's going to go like this, minus half of the width, plus half of the width, plus half of the height, right, and this is minus half of the height."
1558540,1568180," And I'm pretty sure the mouse is in those other, in the screen coordinates, and screen coordinates basically something like this, right."
1568180,1576260," This is where you have zero, this is where you have zero in OpenGL, and this is the full width, and this is the full height, right."
1576260,1581560," Let me confirm that we have mouse specifically in this sort of coordinates."
1581560,1582580," Let me confirm that."
1582580,1586480," So, it should be something like mouse window."
1586480,1588300," Yeah, there we go."
1588540,1590060," Here's the mouse window."
1590060,1594440," So, we won't be able to just easily plug it in."
1594440,1610620," So, if I just take the mouse window and basically cast all of that into the float, or maybe specifically GL float, it's going to look very, very awkward."
1610620,1613020," It's going to be constantly upset and stuff like that."
1614020,1619740," Also, our shaders may not compile, because we never actually run them, because the shaders are compiled in runtime."
1620480,1631280," Yeah, as you can see, the vertical things are opposite, right, and there is an offset."
1631280,1633600," There is a huge offset in here."
1633600,1640940," The offset could be actually fixed quite easily, I think, by offsetting everything properly."
1643440,1644400," Let me see."
1644400,1644420," Let me see."
1644420,1646140," So, this is the window cast."
1646140,1652900," Maybe I should introduce something like cons auto mouse screen."
1652900,1658960," So, we're going to have window coordinates, then screen coordinates, and then world coordinates."
1659440,1662060," I think I vaguely remember that I already did that."
1662060,1662320," Okay."
1662320,1664020," So, mouse world."
1664020,1665800," Okay."
1665800,1669080," So, window to viewport."
1669080,1673300," We have a special function that can convert."
1674380,1675200," Oh, shit."
1675200,1677180," That's actually quite convenient."
1677180,1680960," So, I already have a function that performs this kind of transformation."
1680960,1682460," Yes."
1682460,1682960," Okay."
1682960,1684700," So, I need to do window to viewport."
1684700,1685680," Let's quickly use that."
1685680,1687720," All right."
1687720,1689880," So, it's going to be mouse screen."
1689880,1692440," Mouse window."
1692440,1694480," Here it is."
1695080,1695480," Okay."
1695480,1698020," So, that means I should be able to do something like this."
1698020,1698540," Window."
1698540,1700000," Mouse window."
1700000,1701020," All right."
1701020,1702400," There we go."
1702400,1704920," I think it might actually work."
1704920,1706320," I think it might actually work."
1706320,1707620," Let's rebuild this entire stuff."
1707620,1709200," Build this edge."
1709200,1709900," There we go."
1709900,1717400," And there is still offset."
1717400,1722100," There is still offset."
1722100,1726900," But at least the y-axis is not inverted."
1726900,1727620," Right."
1727620,1731360," So, there is this offset."
1731360,1733480," But the y-axis are not inverted."
1733480,1735360," And I can already work with that."
1735360,1735980," At least."
1735980,1738060," All right."
1738060,1744340," So, let me see how this entire thing is used."
1744340,1747980," So, then we take a viewport to the camera."
1747980,1750460," So, viewport."
1750460,1753960," And this is where the offset is actually done."
1753960,1754580," Oh, yeah."
1754580,1755900," Because it's a viewport."
1755900,1756560," I see."
1756560,1757020," I see."
1757020,1757500," I see."
1757500,1762320," So, I suppose we can just steal this specific offset in here."
1762320,1762960," All right."
1762960,1765000," We can steal this specific offset in here."
1765000,1767080," Okay."
1767080,1768840," So, let's actually go in here."
1769100,1770820," And this is a viewport."
1770820,1771960," This is a viewport."
1771960,1774900," And here is the offset."
1774900,1776800," All right."
1776800,1782160," Maybe I can grab this entire stuff and replace it with a mouse screen."
1782160,1783160," Right."
1783160,1786260," This one's going to const auto mouse screen."
1786820,1790220," And here is what I wanted to have."
1790220,1796840," There we go."
1796840,1797840," I think it's..."
1797840,1798020," Yeah."
1798020,1799780," That's precisely what I wanted to have."
1799780,1801800," Oh, shit."
1802220,1808080," And we automatically fixed the problem with drifting around."
1808080,1809280," Okay."
1809280,1812580," So, we actually killed two stones with one bird."
1812580,1813960," That's actually perfect."
1813960,1815980," You see, now..."
1815980,1817440," I think it's not floating."
1817440,1818000," Yeah."
1818000,1819600," I think it actually stays fixed."
1819600,1820560," All right."
1820560,1821320," That's actually perfect."
1821320,1821880," I love that."
1821880,1822440," I love that."
1823560,1823960," Okay."
1823960,1830860," So, that means we automatically fixed this thing and this thing."
1830860,1831300," Okay."
1831300,1835100," So, we only have a problem with the ratio of this stuff, with the ratio of the texture."
1835100,1838620," So, we need to remember..."
1838620,1840360," We need to restore the ratio."
1840360,1842920," We need to restore the ratio."
1842920,1847300," Where can we get the original sizes of the textures?"
1847300,1849840," I think they're still stored in the atlas."
1849840,1850760," Right."
1850760,1852560," The atlas can give you UV coordinates."
1853560,1858880," But can you give you the original size?"
1858880,1861080," Maybe we can get something like..."
1861080,1861380," Yeah."
1861380,1864940," AABB size T."
1864940,1868020," Because, as you can see, it stores the original..."
1868020,1868620," Oh."
1868620,1869820," Did you look at that?"
1869820,1871200," Here's UVs."
1871200,1875020," We don't store the original sizes of the textures."
1875020,1876900," We only store their UVs."
1876900,1878700," Oh, shit."
1878700,1879940," Okay."
1879940,1881460," That's very interesting."
1881720,1883180," But, I mean, maybe we can..."
1883180,1884040," Oh, yeah."
1884040,1885180," UVs probably..."
1885180,1888040," They probably don't store the original ratio."
1888040,1889640," Yeah."
1889640,1891200," Unfortunately."
1891200,1896960," Okay."
1899320,1903980," So, that will require, you know, implementing something."
1903980,1907300," AABB size T."
1907300,1910240," Get size."
1910240,1911140," Right."
1911140,1917000," Well, I mean, the size could be just a vector 2."
1917000,1917360," Right."
1917360,1918840," It doesn't have to be a rectangle."
1919300,1922140," And then here, we're going to accept the index."
1922140,1922860," Right."
1922860,1924640," It's rather a texture index."
1924640,1925860," This is a texture index."
1925860,1927220," Why did I call it UV index?"
1927220,1928320," This is not a UV index."
1928320,1929560," This is a texture index."
1929560,1930300," Excuse me."
1930300,1931660," Right."
1931660,1933480," And we'll need to implement this entire thing."
1933480,1934400," All right."
1934400,1935860," So, let's go into the atlas."
1940760,1949340," So, this is going to be texture index."
1949340,1954520," Of course, you should not forget to boundary check this entire stuff."
1957760,1967400," So, sizes data, texture, texture, index, unwrap."
1967400,1971720," So, but we don't have sizes in here."
1971720,1972920," That's the problem."
1972920,1974340," That's the problem."
1974340,1983440," So, if I go in here, maybe I can introduce something like dynamic array v2 size T sizes."
1983440,1984160," Right."
1984160,1985940," So, we can introduce that."
1986640,1991160," But, it's not initialized anywhere."
1991160,1997380," So, we need to go into the function that loads the atlas from the configuration."
1997380,2005640," And as we push into UVs, right, as we push into UVs, we also should automatically push into the sizes."
2005640,2006180," Right."
2006180,2011940," So, sizes is going to be comprised out of this stuff."
2011940,2014260," So, this is the original sizes of the textures."
2014260,2014780," Right."
2014780,2016180," W and H."
2016400,2021220," And along with pushing UV coordinates, we're also pushing the sizes."
2021220,2024180," And as you can see, W and H are integers."
2024180,2029520," But for some reason, in the dynamic array, I chose size T in here."
2029620,2031500," So, I think I could, we need to change it to int."
2031500,2031520," So, I think we need to change it to int."
2031520,2031520," So, I think we need to change it to int."
2031520,2031520," So, I think we need to change it to int."
2031520,2032560," So, I think we need to change it to int."
2032560,2038240," And atlas cpp, this I think also has to be int."
2038240,2046240," So, now I'm capable of getting the actual sizes of the original textures in pixels."
2046240,2050840," And I can use that to restore the ratio and what not."
2050840,2056980," So, how are we going to set up the ratio?"
2056980,2060760," So, how are we going to set up the ratio?"
2060760,2067540," So, we can use the ratio as..."
2067540,2074860," I would say, I would say that, right?"
2074860,2078380," So, we have width and height."
2078380,2082540," So, here is the width, here is the height."
2082540,2095780," And width over height is essentially going to be percentage of width in height, right?"
2095780,2097660," Percentage of width in height."
2097660,2105400," So, and because of that, the actual, you know, sizes, the actual dimensions are going to be."
2105400,2108560," So, you'll have to pick the height, right?"
2108560,2111560," So, this is going to be the, like, aspect A."
2112540,2115700," You'll have to pick a particular height, mouse size."
2115700,2119100," And this is going to be your, your H."
2119100,2122180," And then you take the H and multiply it by A."
2122180,2125300," And this is going to be your actual rectangle."
2125300,2127060," Your actual rectangle."
2127060,2129100," So, that's how it's going to go, I suppose."
2129100,2132980," I suppose, I suppose."
2132980,2133980," All right."
2133980,2137140," So, let's try to implement this entire stuff."
2137140,2142420," I'm going to go into the game."
2142540,2146920," And in here, so, here is UV coordinates."
2146920,2150840," I take the mouse texture, right?"
2150840,2152180," So, this is the mouse texture."
2152180,2158440," And then we're flipping this entire thing vertically."
2158440,2161540," Let me do the following thing."
2162880,2174360," So, I'm going to go into the cursor UV and I'm going to just save this entire stuff right here."
2174360,2192040," So, this is the cursor UV and then we can have something like cursor size, where I'm going to be doing the same, pretty much the same thing, but instead of get UV, I'm going to get the size and we're also using the mouse cursor texture just to preserve its aspect ratio."
2192040,2217260," So, and after that, I want to have something like cursor aspect, cursor size x divided by cursor size w, but both of them, x and y, are in integers, so I'll have to convert them to floats first."
2217260,2223380," So, this is going to be like this, so this is going to be like this static cast, float, there we go."
2223380,2224940," So, you have a cursor aspect."
2224940,2233640," Now, so this is the position of mouse screen and this is the cursor size."
2233640,2243780," So, we need to construct the cursor size, so it's going to be cursor, this is the cursor texture size, right, this is the cursor texture size."
2243780,2254440," But now I need to construct the actual cursor size, so that means I'll probably have to rename the cursor size into cursor texture size."
2254440,2276760," Ok, cursor texture size, then aspect, and then we're going to have to add an actual cursor size, which is essentially v2, and we're going to be using mouse cursor size,"
2276760,2285720," and multiplying only the first one by the first one by the aspect and the second one is going to be mouse cursor size, there we go, we have a mouse cursor size."
2285720,2302600," So, now we have a mouse screen, and we are subtracting cursor size, but divided in half, right, and then we just use cursor size, there we go."
2304720,2327220," So, mouse cursor size, okay, this one is rather interesting, so this is in integers, so that means I'll have to cast it to a float, right, cast it to a float, and then I'll have to multiply it by v2, cursor aspect, cursor aspect 1, there we go, this is how I'm going to do that."
2327940,2330940," I'm not sure if it makes it shorter, but at least I'll try it."
2330940,2341940," So, here's the AABB, so we have the position of the mouse on the screen, it's on the screen, then we take the half of the cursor size, and then the full cursor size, and this is the AABB of the cursor."
2341940,2356940," Then we provide the mouse cursor color, and then we have to provide the UV coordinates for the specific texture, and there we go, I think we rendered the cursor correctly, preserving its ratio, and so on and so forth."
2356940,2359940," So, I wonder if it's going to compile, let's find out."
2359940,2360940," Let's find out."
2360940,2366940," It compiles, and that's actually pretty cool."
2366940,2373940," Huh, okay, it actually preserved its ratio, but the mouse is too small to actually see that."
2373940,2375940," All right, so let's quickly do that."
2377940,2380940," Hmm, hmm, hmm, hmm, hmm, hmm, I wonder why it became so small, though."
2380940,2386940," Uh, vars.conf, so, the size is going to be, let's make it 100."
2386940,2388940," Uh, there we go."
2388940,2393940," Uh-huh, it's 100, what about, why is it so small, though?"
2393940,2396940," Um, all right."
2396940,2399940," Well, this is probably because it's on the screen."
2399940,2405940," Yeah, yeah, yeah, yeah, on the screen it's just, let's, yeah, let's go."
2405940,2411940," So, the aspect ratio is preserved, and everything is looking fine."
2411940,2412940," I like that."
2412940,2413940," I like that."
2413940,2414940," I like that."
2414940,2415940," That's pretty poor."
2415940,2423940," But I actually want the tip of the pizza to be the pointer that you click at."
2423940,2424940," Click with, rather."
2424940,2432940," So, that means we need to upset the rendering of this entire thing, um, slightly, diagonally."
2432940,2434940," Uh, let's see how we're gonna do that."
2434940,2435940," So, let's see how we're gonna do that."
2435940,2439940," And, hmm, hmm, hmm, hmm, hmm, hmm."
2439940,2443940," So, here is the mouse screen."
2443940,2446940," Hmm, hmm."
2446940,2451940," Hmm, actually, I'm surprised that it worked like that."
2451940,2453940," Hmm."
2453940,2457940," Um, oh, okay."
2457940,2458940," I see now."
2458940,2463940," Hmm, hmm, hmm, hmm."
2463940,2471940," So, here is the mouse position, and we're subtracting the size, and then we're constructing a BB starting from here like that."
2471940,2472940," Right."
2472940,2480940," So, but what I need to do in here is I probably have to take the full height in here."
2480940,2488940," Uh, right, full height in here, and zero in width, and then construct the thing like that."
2488940,2489940," Yeah."
2489940,2490940," Uh, alright."
2490940,2494940," So, that means I need to subtract something slightly different."
2494940,2501940," Um, I'm gonna be subtracting zero of the width, but the full height."
2501940,2502940," So, that's what I'm gonna be doing."
2502940,2502940," So, that's what I'm gonna be doing."
2502940,2503940," Um, hmm, hmm."
2503940,2504940," And it worked."
2504940,2505940," Look at that."
2505940,2519940," So, now, if I'm gonna be clicking, uh, I'm gonna be actually clicking with the tip of the pizza."
2519940,2522940," Uh, that is goddamn perfect."
2522940,2523940," Yes."
2523940,2529940," I spent 40 minutes on making my pizza cursor."
2529940,2530940," Perfect."
2530940,2531940," Yes."
2531940,2534940," It was goddamn worth it."
2534940,2535940," Anyway."
2535940,2538940," This is the perfect cursor."
2538940,2539940," I love it."
2539940,2540940," I absolutely love it."
2540940,2542940," Um, nice."
2542940,2556940," I wonder if this kind of math could be abstracted away, because it feels like very useful in the future, where you would wanna grab a texture, right?"
2556940,2566940," you wanna grab a texture, but then you wanna provide the size of that texture, and also preserve the, uh, aspect ratio of that texture."
2566940,2573940," So, it would be kinda cool to have, like, this as a separate function, because I can see myself using it quite often."
2573940,2576940," Especially if you wanna render something on the screen."
2576940,2580940," Especially if you wanna render something on the screen."
2580940,2584940," So, essentially, we can put it into the atlas, right?"
2584940,2585940," Uh, let me find the atlas."
2585940,2591940," Mm, and here is gonna be a function that returns a abb."
2591940,2592940," Mm-hmm."
2592940,2596940," I don't know what this function is gonna be called."
2596940,2597940," Right?"
2597940,2599940," Something related with the size, right?"
2599940,2602940," Uh, we're gonna be accepting the texture index."
2602940,2603940," Right?"
2603940,2606940," Texture index and, uh, a particular size."
2606940,2607940," Mm."
2607940,2612940," A particular size."
2612940,2614940," Mm, mm, mm, mm."
2614940,2615940," Mm, mm, mm, mm."
2615940,2616940," So, and the size is gonna be float."
2616940,2617940," Right?"
2617940,2625940," So, and here we take the size, the aspect, and we construct a new size."
2625940,2631940," We can at least, um, extract these three lines into a separate function."
2631940,2633940," At least these three lines."
2633940,2634940," Um, yeah."
2634940,2636940," Mm, mm, mm, mm, mm."
2636940,2637940," Mm, mm, mm."
2637940,2638940," Mm, mm, mm."
2638940,2642940," Because we don't really need neither texture size nor aspect."
2642940,2644940," We don't need none of these things."
2644940,2648940," Um, which is fine, I suppose."
2648940,2649940," All right."
2649940,2649940," All right."
2649940,2650940," All right."
2650940,2651940," Let's go ahead and do that."
2651940,2652940," So, it's gonna be atlas CPP."
2652940,2653940," Mm."
2653940,2653940," So, atlas HPP."
2653940,2654940," It's gonna be app size."
2654940,2655940," It's a temporary name."
2655940,2656940," I don't know how to call it."
2656940,2657940," It's just something like full size."
2657940,2658940," Right?"
2658940,2659940," It's gonna be full size."
2659940,2674940," Uh, quite often I want to make a function, but I have no idea how to call it."
2674940,2679940," Because naming is the hardest problem in the programming."
2679940,2684940," That's what people say."
2684940,2688940," Okay."
2688940,2689940," So, here's the atlas."
2689940,2692940," We get the size of a particular texture."
2692940,2693940," Right?"
2693940,2695940," So, here's the texture index."
2695940,2696940," Right?"
2696940,2698940," And we get the size of this entire thing."
2698940,2701940," Then we're calculating the aspect."
2701940,2702940," Okay."
2702940,2707940," So, I might as well actually rename this to just size."
2707940,2708940," Right?"
2708940,2709940," Size."
2709940,2710940," Get the size."
2710940,2715940," And then we are basically converting both of them to the float."
2715940,2716940," Might as well."
2716940,2717940," Do I use size for anything else?"
2717940,2718940," Anything else?"
2718940,2718940," Okay."
2718940,2722940," So, I might as well actually cast this to float right away."
2722940,2725940," So, it's easier for me to just do something like this."
2725940,2726940," Right?"
2726940,2727940," So, we're casting it to float right away."
2727940,2728940," And there we go."
2728940,2729940," Here is the aspect."
2729940,2731940," Uh, I can just call it aspect."
2731940,2732940," Aspect."
2732940,2734940," Um, so, then we have."
2734940,2735940," Okay."
2735940,2737940," So, this one is a size."
2737940,2739940," We should call it scale, I think."
2739940,2740940," Um, scale."
2740940,2741940," All right."
2741940,2746940," And in here, we're going to be using the scale."
2746940,2747940," Right?"
2747940,2750940," Here is the scale."
2750940,2753940," Um, but this isn't really a scale though."
2753940,2755940," So, we can cast a float."
2755940,2758940," And then we're using aspect."
2758940,2761940," And then just one."
2761940,2764940," So, in case of a scale, it's already float."
2764940,2765940," So, we don't have to do that."
2765940,2770940," And because of that, I can probably just do this."
2770940,2771940," Uh, aspect."
2771940,2772940," Scale."
2772940,2773940," Uh huh."
2773940,2780940," And since this is the final result, I can just return it right away."
2780940,2783940," Um, and there we go."
2783940,2785940," That's essentially what I wanted to have as a function."
2785940,2788940," And look how much simpler it is."
2788940,2791940," First of all, I don't have to prefix it with cursor."
2791940,2793940," Because, uh, I'm not working with the cursor."
2793940,2795940," I'm just working with abstract thing."
2795940,2798940," So, that means I can cut off on the naming of the variables."
2798940,2801940," I can name the variables shorter, which is nice."
2801940,2804940," So, second of all, I'm doing that within the atlas."
2804940,2808940," So, I can cut down on prefix in the atlas and stuff like that."
2808940,2812940," Um, and just overall, it makes it shorter and more readable."
2812940,2813940," Okay."
2813940,2816940," Um, so here's the aspect."
2816940,2818940," But I'm not sure if it's a scale, actually."
2818940,2820940," I'm not sure if it's a scale."
2820940,2822940," Because we're, are we scaling anything?"
2822940,2823940," Uh, we're scaling the aspect, though."
2823940,2824940," We're scaling the aspect."
2824940,2825940," Hmm."
2825940,2826940," Though, to be fair, this is more of a height, right?"
2826940,2827940," So, I would say that scale is some sort of a height in here."
2827940,2828940," Um, that makes sense."
2828940,2829940," Hmm."
2829940,2831940," So, and because of that, uh, I can remove this entire stuff."
2831940,2832940," and then just say that cursor size in my particular case is going to be atlas, uh, full size."
2832940,2833940," Yet again, I don't know how to call it."
2833940,2834940," Uh, and I have to provide the texture ID."
2834940,2835940," Um, something like this texture ID."
2835940,2835940," Um, and I have to provide the texture ID."
2835940,2836940," Um, something like this texture ID."
2836940,2837940," Um, something like this texture ID and the mouse cursor size."
2837940,2838940," Right."
2838940,2839940," And there we go."
2839940,2840940," right."
2840940,2841940," right."
2841940,2841940," And there we go."
2841940,2842940," So, I managed to compress that."
2842940,2843940," So, I managed to compress that."
2843940,2844940," Oh, that makes sense."
2844940,2845940," Um, that makes sense."
2845940,2849940," Um, so, and because of that, uh, I can remove this entire stuff and then just say that cursor"
2849940,2853940," size in my particular case is going to be atlas, uh, full size."
2853940,2854940," Uh, full size."
2854940,2856940," Yet again, I don't know how to call it."
2856940,2859940," Uh, and I have to provide the texture ID."
2859940,2866940," Um, something like this texture ID and the mouse cursor size."
2866940,2867940," Right."
2867940,2868940," And there we go."
2868940,2871940," So, I managed to compress that into a single line."
2871940,2879940," And I could probably compress it even further if I, um, do something like index."
2879940,2880940," Right."
2880940,2883940," Uh, just do it like that."
2883940,2884940," There we go."
2884940,2885940," Mm-hmm."
2885940,2886940," Mm-hmm."
2886940,2887940," Mm-hmm."
2887940,2890940," So, this is going to be an index and this one is going to be an index."
2890940,2898940," Uh, and the reason why I have to do, like, static casting here is because our configuration,"
2898940,2906940," our, uh, configuration file supports only integers, but the texture, texture indices are unsigned integers."
2906940,2909940," And I wonder if I can do the following thing."
2909940,2913940," Can I introduce a new type into the configuration called texture?"
2913940,2914940," Right."
2914940,2919940," And it's going to have, like, type equal to index texture."
2919940,2920940," So, oh, my God."
2920940,2922940," This is actually a pretty cool idea."
2922940,2924940," This is actually a pretty cool idea."
2924940,2927940," I really, really like that."
2927940,2928940," Um, so, let me see."
2928940,2929940," So, let me see."
2929940,2930940," So, it's going to be Atlas."
2930940,2931940," Uh, HPP."
2931940,2932940," Um, mm-mm-mm-mm."
2932940,2933940," So, this is the index."
2933940,2934940," Ah."
2934940,2947940," And what's interesting is that by texture index, we can get, like, very different things in here."
2947940,2950940," I should probably have, like, a special, yeah."
2950940,2954940," I should have a special type, not an index, but something else."
2954940,2957940," Mm-mm-mm-mm-mm-mm-mm."
2957940,2964940," Yeah, that would be actually kind of interesting."
2964940,2968940," That would be kind of interesting, but yet again, I don't know how to call this entire thing."
2968940,2980940," So, you can get UV coordinates, you can get the size, but then you can get the scaled size."
2980940,2982940," Mm, this one is height."
2982940,2987940," I don't know how to call this function."
2987940,2991940," Mm-mm-mm-mm-mm-mm-mm-mm-mm-mm."
2991940,2995940," So, we take the height and we scale it by aspect ratio."
2995940,3000940," So, and I just don't want to give it a very long name."
3000940,3008940," To be fair, the only reason why we have this function, why we have this function, is because"
3008940,3011940," we needed to use it inside of FooSize."
3011940,3014940," So, we don't need to use it anywhere else."
3014940,3020940," Which means, if we fuse this function inside of the FooSize, we can rename FooSize into GetSize."
3020940,3024940," Right, so that could be the trick."
3024940,3025940," Why not?"
3025940,3027940," So, let's actually fuse all of that together."
3027940,3029940," Right, so this is going to be that."
3029940,3033940," Here's the texture unwrap, and I'm putting this entire stuff in here."
3033940,3037940," We're casting it to float, and there we go."
3037940,3039940," So, that's how we can do that."
3039940,3043940," So, GetSize."
3043940,3044940," FooSize."
3044940,3048940," Right, and then you can specify a particular float, whatever float you want."
3048940,3052940," Right, and it's going to be scaled according to that specific float."
3052940,3065940," AtlasHPP, and this is going to be something like this."
3065940,3066940," There we go."
3066940,3071940," That's actually pretty cool."
3071940,3077940," And the indices actually check out."
3077940,3079940," I really like that."
3079940,3082940," But it's completely coincidental, I suppose."
3082940,3086940," And by the way, this thing is also constant because it's not going to modify anything."
3086940,3087940," There we go."
3087940,3089940," So, this is going to be GetSize."
3089940,3090940," This is going to be GetSize."
3090940,3094940," And inside of the game, this is going to be just GetSize."
3094940,3096940," And there we go."
3096940,3097940," There we go."
3097940,3101940," Texture is not valid."
3101940,3102940," Yes, thank you so much."
3102940,3108940," This is why I spent so much time actually making like a type-save config."
3108940,3111940," Because sometimes I do things like that."
3111940,3117940," And I would probably spend a lot of time troubleshooting it if I didn't have this kind of check in place."
3117940,3120940," Okay, I could not convert float to aspect float."
3120940,3124940," Okay, height, aspect, size t."
3124940,3127940," So, size is a float."
3127940,3129940," So, that means the result here is going to be float."
3129940,3131940," The height is a float."
3131940,3133940," Ah, this is because we have to return."
3133940,3134940," Oh, my God."
3134940,3135940," This has to be B2."
3135940,3137940," So, the indices don't check out anymore."
3137940,3138940," All right."
3138940,3140940," Makes sense to me."
3140940,3141940," Makes sense to me."
3141940,3144940," So, this is going to be AtlasHPP."
3144940,3148940," Let's try to recompile this entire thing."
3148940,3154940," Deduction brace initializing."
3154940,3156940," Oh, yeah."
3156940,3158940," Oh, yeah."
3158940,3159940," I don't remember that."
3159940,3160940," I don't remember that."
3160940,3161940," Okay."
3161940,3163940," So, let's actually put this entire thing here."
3164940,3168940," I will probably have to keep the indices like that."
3168940,3177940," All right."
3177940,3178940," So, I think I'm more or less happy with this thing."
3178940,3182940," And I'm going to put like a to-do for myself to not forget to clean this stuff up."
3184940,3199940," So, the thing I want to introduce in here is that introduce a special type Atlas index instead of index AABB float."
3199940,3201940," Right."
3201940,3203940," Instead of index AABB float."
3203940,3215940," And also, maybe it would be nice to have introduce a special type in vars config for Atlas index."
3215940,3216940," Right."
3216940,3230940," So, and you know what would be even cooler is that it would check at compile time that you're having an incorrect Atlas index in the vars configuration."
3230940,3231940," Right."
3231940,3237940," Since we know that the type has to be like an index, the Atlas index, we can probably check that."
3237940,3238940," Right."
3238940,3240940," So, that's actually a pretty cool idea."
3240940,3242940," But all of that can be a float for later."
3242940,3243940," Right."
3243940,3244940," It's outside of the scope of what we're doing anyway."
3244940,3246940," Right."
3246940,3247940," So, what we got in here."
3247940,3251940," So, I suppose pizza slice cursor, but we..."
3251940,3253940," Aha."
3253940,3255940," Okay."
3259940,3269940," 90, make the cursor cursor look a bit better."
3269940,3270940," Right."
3270940,3275940," So, basically, instead of rendering it inside of the world, we're rendering it on the screen."
3275940,3276940," Right."
3276940,3278940," And it looks like a goddamn cursor."
3278940,3280940," It looks like a goddamn cursor."
3280940,3281940," Okay."
3281940,3282940," Cool."
3282940,3289940," So, we have a cursor and the next thing I want to do, I want to be able to somehow place the tiles."
3289940,3290940," Right."
3290940,3292940," Because I need to be able to edit the level."
3292940,3297940," So, I should not probably rebuild it."
3297940,3301940," So, I want to be able to just click in here and that should create a tile."
3301940,3303940," Let's see if we can do that."
3303940,3306940," To do that, we need to handle the mouse events."
3306940,3307940," Right."
3307940,3309940," We need to handle the mouse events."
3309940,3311940," I wonder where we can handle them."
3313940,3314940," Okay."
3314940,3315940," So, we have a handle event method."
3315940,3316940," All right."
3316940,3318940," And I'm going to go in here."
3318940,3319940," Handle event."
3319940,3321940," What kind of stuff do we have in here?"
3321940,3329940," We already handle mouse button down and to shoot with the player and whatnot."
3329940,3332940," So, we need to introduce mouse button up."
3332940,3333940," But for what?"
3333940,3335940," We don't really need it right now."
3335940,3336940," Okay."
3336940,3337940," Okay."
3337940,3345940," So, let's instead of shooting, try to see if there is like an actual tile under the cursor."
3345940,3346940," Right."
3346940,3349940," And try to modify that tile."
3349940,3350940," Okay."
3350940,3354940," So, we have a special entity called tileGrid."
3354940,3364940," And here, we can provide the world coordinates and get, yeah, we can get the actual tile."
3364940,3367940," We can get the pointer to the actual tile."
3367940,3373940," So, we know that our mouse is in the world coordinates."
3373940,3374940," Right."
3374940,3375940," It's in the world coordinates."
3375940,3380940," And as far as I know, yeah, I can construct them like that."
3380940,3384940," So, this one is going to be world coordinate mouse world."
3384940,3385940," And there we go."
3385940,3386940," That gives us the title."
3386940,3387940," Not the title."
3387940,3388940," Tile."
3388940,3393940," And in here, we have to not forget to check if it's not null."
3393940,3394940," Not null."
3394940,3396940," Because the tileGrid is actually limited."
3396940,3397940," Right."
3397940,3403940," So, if you accidentally click outside of the tileGrid, this thing will return null to you."
3403940,3404940," Right."
3404940,3406940," If tile is not equal to null."
3406940,3407940," Right."
3407940,3410940," Only then we're going to try to do something with it."
3410940,3412940," And what we can do with the tile."
3412940,3413940," Struct tile."
3413940,3414940," You can..."
3414940,3417940," Right now, we only have two kinds of tiles."
3417940,3419940," Walls and not walls."
3419940,3425940," And I suppose one of the things we can do in here is just like take the wall and flip it."
3425940,3426940," Right."
3426940,3427940," So, that's pretty much it."
3427940,3429940," Let's see if it's going to do anything."
3429940,3434940," So, do we already have like a simple editor in here?"
3434940,3435940," Okay."
3435940,3436940," So, this has to be like a tileGrid."
3436940,3437940," Alright."
3437940,3438940," Let me see."
3438940,3439940," Let me see."
3439940,3440940," Okay."
3440940,3441940," Let me see."
3441940,3442940," Okay."
3442940,3443940," Yeah."
3443940,3446940," We already have a simple level editor."
3446940,3447940," Look at that."
3447940,3449940," And I can just place the tile."
3449940,3453940," I can remove the tiles and stuff like that."
3453940,3456940," So, that's actually pretty cool."
3456940,3459940," So, thumbnail."
3459940,3460940," Thumbnail."
3460940,3461940," Boom."
3461940,3462940," Okay."
3462940,3472940," And I'll check out."
3472940,3473940," I wonder how..."
3473940,3474940," Yeah."
3474940,3475940," Okay."
3475940,3476940," So, I can..."
3476940,3480940," I can place tiles quite far away, as you can see."
3480940,3481940," Hmm."
3481940,3484940," I don't like this."
3484940,3485940," Huh."
3485940,3486940," Uh-huh."
3486940,3487940," Uh-huh."
3487940,3489940," So, that's very cool."
3489940,3490940," Ah!"
3490940,3491940," Ah!"
3491940,3492940," Okay."
3492940,3495940," I wonder how far away I can actually place the tiles."
3495940,3496940," Uh..."
3496940,3497940," TileGrid."
3497940,3499940," What's the size of the tileGrid?"
3499940,3502940," Uh-uh-uh-uh..."
3502940,3504940," I suppose..."
3504940,3505940," QuadRows."
3505940,3506940," Oh, okay."
3506940,3507940," So, that means..."
3507940,3508940," QuadRow."
3508940,3510940," It's the size of a single quad."
3510940,3511940," Right."
3511940,3514940," TileGrid is described in the size of a single quad."
3514940,3516940," So, that means we have four quads."
3516940,3519940," That means the size of the whole grid is 200 by 200."
3519940,3521940," So, that's actually quite big."
3521940,3522940," Not gonna lie."
3522940,3524940," So, that's quite big."
3524940,3525940," Uh-huh."
3525940,3526940," I also..."
3526940,3529940," I want to be able to actually draw this entire thing."
3529940,3530940," Yeah."
3530940,3531940," Ah!"
3531940,3532940," Ah!"
3532940,3533940," Ah!"
3533940,3534940," Ah!"
3534940,3535940," Okay."
3535940,3536940," That's actually very scary."
3536940,3537940," This is actually very scary."
3537940,3538940," Uh-huh."
3538940,3539940," Mm-hmm."
3539940,3540940," Mm-hmm."
3540940,3541940," Mm-hmm."
3541940,3542940," Mm-hmm."
3542940,3543940," Do we have anything in there?"
3543940,3544940," All right."
3544940,3545940," All right."
3545940,3546940," Oh, okay."
3546940,3547940," I guess..."
3547940,3548940," Okay."
3548940,3551940," So, you can clearly see here is the edge of the tile grid."
3551940,3554940," So, we reached the edge of the tile grid."
3554940,3556940," You can place things in here."
3556940,3557940," Right."
3557940,3559940," You can place things in here."
3559940,3561940," But on the next tile, there's nothing in there."
3561940,3564940," So, we found the positive edge of the tile grid."
3564940,3565940," Okay."
3565940,3576940," So, maybe we should actually go for the negative one as well."
3576940,3578940," This void is actually kind of scary."
3578940,3579940," Not gonna lie."
3579940,3581940," This is a very scary void."
3581940,3582940," Mm-hmm."
3582940,3583940," Mm-hmm."
3583940,3584940," So..."
3584940,3585940," Mm-hmm."
3585940,3586940," Mm-hmm."
3586940,3587940," Mm-hmm."
3587940,3588940," Mm-hmm."
3588940,3589940," Mm-hmm."
3589940,3590940," Mm-hmm."
3590940,3591940," Mm-hmm."
3591940,3592940," So, this is maybe that."
3592940,3595940," For some reason, I really wanna reach..."
3595940,3596940," Okay."
3596940,3597940," I think it's somewhere here."
3597940,3598940," Okay."
3598940,3600940," I can clearly see that it's somewhere here."
3600940,3601940," Uh-huh."
3601940,3602940," Mm-hmm."
3602940,3603940," Mm-hmm."
3603940,3604940," Mm-hmm."
3604940,3605940," There we go."
3605940,3607940," So, we reached the..."
3607940,3608940," Uh-huh."
3608940,3609940," Mm-hmm."
3609940,3610940," Mm-hmm."
3610940,3611940," This is the positive range."
3611940,3614940," So, this is pretty much the entire world in here."
3614940,3616940," You can clearly see the entire world."
3616940,3617940," Uh-huh."
3617940,3618940," Uh-huh."
3618940,3619940," That's..."
3619940,3620940," That's pretty cool."
3620940,3621940," Uh-huh."
3621940,3622940," Mm-hmm."
3622940,3623940," Mm-hmm."
3623940,3624940," Mm-hmm."
3624940,3625940," Mm-hmm."
3625940,3626940," Mm-hmm."
3626940,3627940," Mm-hmm."
3627940,3628940," Mm-hmm."
3628940,3629940," Mm-hmm."
3629940,3630940," So, yeah."
3630940,3631940," Hmm."
3631940,3632940," I really like this."
3632940,3633940," I don't know."
3633940,3634940," Uh-huh."
3634940,3635940," It feels like it's something substantial."
3635940,3636940," I really like the fact that it's something substantial."
3636940,3637940," It looks better than this DL thingy."
3637940,3638940," Um, okay."
3638940,3639940," Uh-huh."
3639940,3640940," Uh-huh."
3640940,3641940," So, we got that."
3641940,3642940," Uh-huh."
3642940,3643940," Uh-huh."
3643940,3644940," Uh-huh."
3644940,3645940," Uh-huh."
3645940,3646940," Uh-huh."
3646940,3647940," Uh-huh."
3647940,3648940," Uh-huh."
3648940,3649940," Uh-huh."
3649940,3650940," Uh-huh."
3650940,3651940," Uh-huh."
3651940,3652940," Uh-huh."
3652940,3653940," Uh-huh."
3653940,3657940," But we don't have different kinds of, um, kinds of tiles."
3657940,3658940," Yeah."
3658940,3662940," Maybe we're gonna introduce them soon."
3662940,3663940," We'll see."
3663940,3664940," We'll see."
3664940,3667940," And I also wanna be able to switch between the modes, right?"
3667940,3672940," Because sometimes you wanna just be in a game mode."
3672940,3675940," And sometimes you wanna switch to the, uh, to the developer mode."
3675940,3676940," All right."
3676940,3680940," So, maybe that's precisely what we are going to have here, right?"
3680940,3686940," We're gonna have some sort of a variable that says, are we in the development mode or we're not in the development mode?"
3686940,3693940," And in the development mode, we're going to introduce all of these, like, features and stuff like that."
3693940,3695940," Uh-huh."
3695940,3700940," Another interesting thing."
3700940,3706940," Do we wanna include the development mode in the final release?"
3706940,3707940," Probably not."
3707940,3709940," We have a special macro, by the way."
3709940,3711940," Release."
3711940,3717940," So, if the release is defined, it basically removes all of the development feature."
3717940,3719940," All of the, uh, developer feature."
3719940,3724940," Like, for example, reloading config from a file, uh, and now there's no config anymore."
3724940,3728940," The config is baked into the executable, uh, and so on and so forth."
3728940,3733940," So, maybe we're gonna do the same thing with the development tools and what not."
3733940,3735940," Sounds, uh, pretty cool."
3735940,3736940," Right."
3736940,3741940," So, is our game even building in Redis?"
3741940,3742940," Let me check."
3742940,3747940," Redis usually takes more time to build because we're enabling all of the optimizations."
3747940,3748940," Right."
3748940,3749940," All three."
3749940,3750940," Okay."
3750940,3751940," It's done."
3751940,3752940," Um, and if I run this, I think."
3752940,3754940," So, it's gonna be something release."
3754940,3755940," Right."
3755940,3756940," Nothing."
3756940,3757940," Nothing."
3757940,3758940," Nothing really pretty much changed."
3758940,3759940," Right."
3759940,3777940," But the only difference here is that you won't be able to automatically reload the, uh, configuration"
3777940,3778940," files."
3778940,3780940," You won't be able to do that."
3780940,3783940," And I think you won't be able to even reload shaders as well."
3783940,3790940," Uh, anyway, so, let's go ahead and introduce a special mode for the developer."
3790940,3793940," Uh, game HPP."
3793940,3797940," So, what's this special mode going to be?"
3797940,3807940," Uh, boolean, um, is it gonna be like a level editor or maybe, um, developer mode?"
3807940,3808940," Um, editor."
3808940,3810940," Let's call it editor."
3810940,3815940," Uh, so, and by default, this entire thing is going to be false."
3815940,3821940," And on top of that, if not defined something, uh, release."
3821940,3822940," Right."
3822940,3823940," This thing is not going to be included."
3823940,3824940," Okay."
3824940,3825940," Okay."
3825940,3829940," So, I don't want to include editor in the release of the game."
3829940,3830940," Um, right."
3830940,3836940," But if you want to have an editor, you can just recompile the program with the debug build or something."
3836940,3840940," So, if the game is completely open source, you can find the source code of the game in the description."
3840940,3841940," All right."
3841940,3845940," So, and then here I can put something like, um, I don't know."
3845940,3857940," Uh, some sort of like editor mode."
3857940,3869940," It indicates where the, uh, where the, uh, how to spell where the, uh, the, uh, editor mode is, uh, the level editor mode is on."
3869940,3870940," Right."
3870940,3871940," So, if we handle the events, right."
3871940,3884940," If we handle the events, uh, and if the editor mode, right."
3884940,3889940," If the editor mode is on, uh, we're going to be placing the tiles."
3889940,3890940," Right."
3890940,3891940," So, we are placing the tiles."
3891940,3892940," Right."
3892940,3893940," So, we are placing the tiles."
3893940,3896940," Uh, otherwise, we are shooting."
3896940,3897940," Right."
3897940,3898940," Otherwise, we are shooting."
3898940,3900940," It's as simple as that."
3900940,3910940," And since by default, it's going to be off because of the zero initialization rule, uh, we won't be able to place any tiles."
3910940,3911940," Hmm."
3911940,3912940," Hmm."
3912940,3913940," Hmm."
3913940,3914940," Yeah."
3914940,3915940," Okay."
3915940,3916940," Oh, it didn't work."
3916940,3917940," Excuse me."
3917940,3922940," If editor, then that, otherwise shoot."
3922940,3923940," Didn't you?"
3923940,3926940," Oh, I'm running release."
3926940,3927940," Okay."
3927940,3928940," Sure."
3928940,3930940," Uh, I'm running release."
3930940,3931940," Okay."
3931940,3933940," So, as you can see, I'm just playing the game."
3933940,3940940," Also, I'm not going to display the cursor, the pizza cursor, unless we are in the editor mode."
3940940,3941940," Okay."
3941940,3942940," So, that's basically what I want to do here."
3942940,3946940," If editor, only if editor, uh, then display the cursor."
3946940,3948940," Uh, then display this entire stuff."
3948940,3949940," Otherwise, don't display that."
3949940,3950940," All right."
3950940,3951940," Hmm."
3951940,3952940," Hmm."
3952940,3953940," Hmm."
3953940,3954940," Hmm."
3954940,3961940," So, the, the pizza cursor is going to be an indicator of, um, of whether we are in the special mode."
3961940,3965940," Also, I want to kind of, like, not show the cursor, uh, in the game."
3965940,3968940," Is there any way in SDL to hide the cursor?"
3968940,3969940," SDL hide cursor."
3969940,3971940," There must be a way to do that."
3971940,3972940," Show cursor."
3972940,3973940," Okay."
3973940,3974940," Uh, all right."
3974940,3975940," It's as simple as that, apparently."
3975940,3976940," Okay."
3976940,3977940," Uh, all right."
3977940,3978940," It's as simple as that, apparently."
3978940,3979940," Okay."
3979940,3980940," Let's go to here."
3980940,3987940," Uh, and after we initialized the window, I suppose, um, we're going to just do a very simple"
3987940,3988940," thing in here."
3988940,3989940," Right."
3989940,3990940," Right."
3990940,3991940," I guess zero."
3991940,3995940," And also, do we have a special checks for that?"
3995940,3996940," Probably not."
3996940,3997940," I don't know."
3997940,4005940," Um, if this entire thing returned, like, uh, minus one, we're going to be panicking."
4005940,4006940," Say, an SDL error."
4006940,4007940," Right."
4007940,4008940," SDL error."
4008940,4009940," SDL get error."
4009940,4011940," And we're going to be printing this error."
4011940,4014940," For example, maybe on some platforms, it's not possible to do something like this."
4014940,4015940," Who knows?"
4015940,4016940," Who knows?"
4016940,4017940," Who knows?"
4017940,4018940," Who knows?"
4018940,4019940," Okay."
4019940,4021940," So, uh, we have that and we don't have a cursor."
4021940,4022940," Okay."
4022940,4026140," As you can see, I still can see the cursor if I go outside of the window, but inside of the"
4026140,4029940," window, you are like just shooting the enemies and whatnot."
4029940,4030940," Okay."
4030940,4033940," We need a special key that will toggle the editor mode."
4033940,4034940," Right."
4034940,4036940," Uh, so let me see what we can have in here."
4036940,4040940," Uh, toggle the editor mode."
4040940,4041940," Mm."
4041940,4042940," Mm."
4042940,4043940," Mm."
4043940,4044940," Mm."
4044940,4045940," Mm."
4045940,4046940," So it's going to be game CPP, uh, handle event."
4046940,4052940," So this is going to be key down and I don't know something like what's usually for the editor"
4052940,4053940," mode."
4053940,4054940," What people usually use for the editor mode."
4054940,4057940," Uh, something like F three, uh, maybe."
4057940,4058940," I don't know."
4058940,4059940," Let's actually do F three."
4059940,4061940," SDL key, key F three."
4061940,4067940," And this entire thing is going to be as simple as editor equal, not editor."
4067940,4068940," We just toggled the editor mode."
4068940,4069940," Okay."
4069940,4073940," Let's try to, uh, see if we can enter the development mode now."
4073940,4074940," All right."
4074940,4075940," So here's the regular game."
4075940,4076940," And then I press F three."
4076940,4077940," And there we go."
4077940,4078940," I can now place the tiles and whatnot."
4078940,4079940," Right."
4079940,4082940," So I can still control the player, but, um, I cannot shoot anymore."
4082940,4095940," Um, so an F three is going to be that maybe when I am in the editor mode, I should be freely"
4095940,4098940," move around, uh, detached from the player."
4098940,4104940," If you know what I mean, um, or maybe the player should actually go into some sort of no clip,"
4104940,4111940," uh, mode where I can just move around with, uh, uh, WASD, um, and stuff like that."
4111940,4112940," I don't know."
4112940,4114940," And at any point I can just toggle it back."
4114940,4117940," And now I'm immortal in, in a normal game here."
4117940,4121940," Uh, so it's funny how it's, it's stuck now."
4121940,4122940," Right."
4122940,4123940," Okay."
4123940,4125940," That's, that's pretty cool."
4125940,4127940," Uh, but again, uh, in."
4127940,4133940," Uh, in the release mode, I don't want to, uh, have this kind of editor."
4133940,4134940," Right."
4134940,4136940," In the release mode, I don't, I don't want to have this kind of stuff."
4136940,4141940," So because of that, I'm going to just try to build this entire thing with the release"
4141940,4144940," and see where it's going to fail."
4144940,4145940," Right."
4145940,4146940," Okay."
4146940,4151940," So as you can see, uh, in the release, uh, we don't have editor."
4151940,4154940," So I guess I'm going to be doing the following thing."
4154940,4160940," If not defined something release, uh, we're going to exclude all of that."
4160940,4166940," And as we have more and more, uh, keys related to the development, we're going to put them"
4166940,4169940," under this, uh, if in depth condition."
4169940,4170940," Right."
4170940,4173940," So, and they're going to be removed in bulk."
4173940,4174940," All right."
4174940,4176940," So let's actually go through all of the compilation errors."
4176940,4179940," And, um, here is another one."
4179940,4182940," Here is another one."
4182940,4187940," And I wonder how it would be easier to sort of separate all of this entire thing."
4187940,4196940," So the easiest way to do that is probably if in depth, uh, something release, uh, and you"
4196940,4201940," also should not include that, but I don't know."
4201940,4202940," I don't know."
4202940,4203940," I don't know."
4203940,4206940," It would be better to look, just have a completely separate case in here."
4206940,4219940," Uh, if in depth something release, uh, and then otherwise just shoot and if, there we go."
4219940,4228940," So while this entire thing is not particularly complex, um, it should be as simple as adding"
4228940,4233940," like these if in depth, but as it becomes more and more complex, maybe we're going to move"
4233940,4237940," the entire like editor logic to a separate sort of structure."
4237940,4242940," And that structure could be excluded from the build, like in bulk, like as a, as, as a blow."
4242940,4243940," Right."
4243940,4248940," So, uh, we have this editor thingy and if you're released, just never include that thing."
4248940,4249940," Right."
4249940,4255940," So yeah, uh, right now the editor is tightly integrated with the game, but at some point"
4255940,4259940," as the editor become complex, it could be a separate thing decoupled, slightly decoupled"
4259940,4263940," for the game, having like a couple of connection points with the game."
4263940,4268940," And we can wrap those connection points in, in these if depths, uh, when we build and release."
4268940,4272940," Uh, I never done anything like that before, but that's how in theory this works in my head."
4272940,4274940," And I just want to check how it's going to work."
4274940,4275940," We'll see."
4275940,4276940," Maybe it will work."
4276940,4277940," Maybe it won't."
4277940,4284980," another game developer something release okay so i'm going to do it like that there we go"
4284980,4298660," and i think we're having a release build uh all right it'll be also kind of cool to indicate that"
4298660,4308100," we're in debug build um so you can use the development features so build okay so if i run the"
4308100,4317540," release right everything seems to be working yeah everything's working right cue and now if i try to"
4317540,4324180," build the regular build the debug one um i have to do that from the right place of course otherwise"
4324180,4333620," it's not going to work um now i'm capable of going into the editor mode and everything's okay that's"
4333620,4341220," actually pretty cool so again as i said it would be kind of cool to have some sort of an indication that"
4341220,4349300," bro you are in the debug mode you can use these debug features and whatnot so yeah i think i'm gonna"
4349300,4355940," place some sort of like um text on the screen saying like debug like somewhere in the corner"
4355940,4360900," like somewhere like a very very small white text uh and it's only going to be included if you are in"
4360900,4365860," debug mode in debug build if you're on release build we're not going to have any of this text"
4365860,4371060," um so just something to indicate that i can use these features um all right"
4375300,4383860," don't include the level uh level editor in the release build right and i'm going to push that"
4383860,4391140," right into the repo mate right into the reaper cheers by the way um it's a little bit cold in here"
4391140,4395620," and i ran out of tea so maybe i'm soon i'm gonna make a small break to make a cup of tea"
4399860,4402660," maybe i feel cold because i'm drinking a cold water"
4402660,4411540," and this apartment by the way actually have a pretty good thermal isolation so if it gets cold in here"
4411540,4418980," it stays cold for quite some time even if outside is like you know plus 30. uh let me actually start"
4418980,4426740," touch it arena um so what's the temperature today uh weather no sabirsk i think my boat is dead"
4426740,4435140," yeah my boat is dead okay but usually when it's dead uh i still can query uh the current weather from"
4435140,4445060," the discord all right so let's quickly do that weather no sabirsk and it's plus 24 yeah it is plus 24"
4445060,4452020," outside in siberia by the way in siberia but it's still pretty cold inside because i have a pretty good"
4452020,4458500," thermal isolation because that's what you need if you live in siberia but here's the thing about siberia"
4459140,4468580," people think that siberia is like a snow desert but in reality the temperature in siberia ranges from"
4468580,4478340," minus 30 to plus 30 throughout the year so the winters in siberia are extremely cold and the summers"
4478340,4486420," uh in siberia are extremely hot and i also live nearby the uh the lake and so during the summer and hot"
4486420,4493220," weather there is shit ton of mosquitoes in here it's just like oh my god uh they're eating you alive"
4493220,4502660," and this winter by the way we had minus 40 so i don't know the humans shouldn't live in here to be"
4502660,4509540," fair the humans shouldn't live in here but here we are uh living in here so anyway uh what i was doing"
4510580,4518180," uh don't close the level editor in the release build and um we need to extend the level editor i suppose"
4518180,4525620," need to extend we need to add more features in there uh for example maybe an ability to spawn an"
4525620,4533380," enemy on the click uh all right uh and since we need to do that uh we need some sort of a way to switch"
4533380,4541380," between placing the tile and placing the enemy but before we do that i just remembered what i wanted"
4541380,4548180," to do before we do that we need to place a special text that we are in debug build yeah yeah okay i went"
4548180,4554180," on such a tangent i forgot what i wanted to do all right uh so let me see let me see so i'm gonna go to"
4554180,4563620," the game cpp and uh it's gonna be something like a render render render render okay so here's that um"
4563620,4571540," so this is the editor and if it's debug build we also want to place some small text on this screen"
4571540,4578820," how do we render the text so we render it through a font uh and i can just render this entire thing like"
4578820,4587060," this okay so this is going to be font uh render text uh i do have a renderer right and the text i want"
4587060,4592260," to render there is going to be just a simple word debug uh the position of this thing will probably"
4592260,4601700," depend on this screen right i want it to be somewhere in the corner um maybe somewhere like in the right"
4601700,4611780," bottom corner something like that so that means the actual position is going to be v2 uh it is around"
4611780,4629780," um w minus half of the height yes that's the size so it's going to be screen uh width minus uh screen"
4630900,4638180," height to be fair we can we can do it like this uh we can do it like this so this is going to be screen"
4638180,4644660," size const auto screen size and on top of that i'm going to automatically cast this entire thing into"
4644660,4653460," the float there we go so also i want to wrap that in this thing okay here's the screen size um"
4656340,4663700," i need to calculate the position so to know the position i also have to offset it by the size of"
4663700,4671460," the text uh so let me put it like this so it's going to be text uh and it's going to be debug"
4671460,4675460," debug label"
4678100,4687140," bug label there we go so we don't have a way to calculate the size of the text just by the text"
4687140,4695700," right so maybe the thing we need to implement in here is something like a abb gl float uh gl float"
4697140,4705060," text text size and in here we're going to be actually taking that uh size"
4705060,4715060," yeah it's going to be v2 uh and we're also going to be accepting the scale there we go"
4715060,4721700," yeah that's what we need in here text size you provide the text you provide the scale and it will"
4721700,4727540," give you the size the dimension width and height of the text so you can use that information to do the"
4727540,4737700," layouting on the screen all right so let's go into the font cpp and um a render text okay so it's going"
4737700,4747860," to be font uh yep yep so we have a character size in pixels right uh we have a character size in pixels and we"
4747860,4754980," multiply that by the uh by the scale and whatnot and we also have a character size character size and"
4754980,4760420," pixels there is actually a vector okay so maybe because of that we can do something like this character"
4760420,4768660," size in pixels we multiply it by the vector scale right and also we need to multiply the"
4768660,4776420," width of this thing so uh the width of this thing by the amount of character in the text"
4777140,4782900," uh but we don't need to do that with the height height is going to stay the same and this entire"
4782900,4788260," thing has to be casted into the float of course otherwise it's not the math is not going to check"
4788260,4794340," out to be fair we could simplify this entire stuff by actually"
4794340,4803220," doing something like this so this is going to be one right so here is the vector and then you're just casting"
4803220,4810100," this into float and that produces slightly shorter expression right i think it's slightly shorter"
4810100,4815620," you're constructing a vector of like size t and you're casting the whole vector into the float all"
4815620,4821540," right so that i think that's going to be a little bit better i think this can be a little bit better i'm"
4821540,4824900," going to put it like that and that's the thing i want to return"
4828420,4835380," okay looks good to me so that's the function we're going to use to determine the size of this internet"
4835380,4846100," stuff so let's go back into the game uh into the game uh render okay okay okay okay okay"
4848660,4854660," so here's the screen size um"
4854660,4856740," debug text"
4856740,4868500," then uh auto debug size and it's going to be font text size um and we're going to provide"
4869300,4874820," i forgot which one comes first okay okay first contact uh come the texts right so here's the text"
4874820,4881460," and the scale is going to be let's say debug text scale so it's going to be a special cont uh constant"
4881460,4892340," that we want to update um oh also another thing um it would be kind of cool if debug text was part of the"
4892340,4900740," the config you know what i mean um so i could just go to the vars"
4900740,4907860," conf and just do something like debug uh text and use something like string and it would say debug"
4907860,4915860," so yeah that'll be actually kind of cool realizing yeah but we don't support strings yet but we will we"
4915860,4927220," we will we will we will we will um okay so maybe i'm gonna actually do it like this uh to do vars"
4927220,4930980," conf does not support string type"
4930980,4943140," um so screen size um i also know the debug size so and we need to calculate the debug location because"
4943140,4951300," of that we need to calculate the debug location because of that um that's gonna be the debug location um"
4951300,4963540," um open gl coordinates actually screw up with my with my brain so uh let's actually draw the axis here are"
4963540,4972980," the axis here is like this uh uh and i suppose what we're essentially doing we take this point right"
4972980,4981620," we take this point and we subtract the width of the text and since the text is drawn starting from this"
4981620,4987860," point upwards i think it's going to work out quite nicely all right it's going to work out quite nicely"
4987860,4994420," we could also probably add a little bit of the padding in here right some sort of a padding but that"
4994420,5002900," could be implemented like separately um all right so we need to introduce something like debug position"
5002980,5008980," so this is going to be debug position and debug position is essentially uh screen size right so here's"
5008980,5018580," the screen size so how can we find this position right this specific position this position in terms of width"
5018580,5030020," is full width but height is in fact uh minus half of the height there we go we find the position where it"
5030020,5041220," it starts and we need to subtract the debug size but only um but only width right uh only width and to do that"
5041220,5046900," we're gonna uh retain the width but we're gonna cancel out the height so that's how we're gonna work with"
5046900,5058420," all of that um so we found uh yeah we essentially found this specific position and this is where we can render all of that"
5058420,5065540," so it would be nice to add some sort of a padding right and how can we add the padding the padding could be"
5065540,5073620," essentially just subtracting minus v2 debug uh text"
5073620,5076260," padding"
5076260,5084660," debug label padding so it's going to be minus that and also"
5085540,5091540," debug label padding and there we go we calculated the position uh all right so now"
5091540,5095380," render text"
5095380,5109460," debug position right next thing is the scale uh debug scale uh and then the color debug text color"
5114580,5115440," for the consistency"
5115440,5124180," debug text debug position debug scale debug color"
5124180,5135700," all right so that should be pretty much it um let's go ahead and compile this entire stuff"
5140260,5144660," all right we don't have a deep well i mean let's put it like this"
5144660,5156340," okay debug text scale uh let's start with something very simple let's start with one right initially is"
5156340,5156900," going to be one"
5156900,5166900," okay debug text padding uh again let's start with something simple it's going to be zero and we can"
5166900,5176020," adjust all that in runtime in no time in runtime in no time okay so maybe for now it's going to be just red"
5176020,5184340," right and then again be adjusted we just need to have something um all right so"
5186420,5190740," uh-huh"
5190740,5199700," so this entire thing are you telling me that this stuff is in size t okay i can easily cast this thing to float"
5199700,5207220," sure it's not that big of a deal it is quite easy in fact uh what else um"
5208340,5220660," so uh is there any special string literals for size t is that a thing i can do or do i have to do something"
5220660,5221380," like one u"
5221380,5237460," okay because here is unsigned in and science t one l u okay um i'm actually quite curious uh curious c plus plus"
5237460,5240740," size t literal"
5242980,5245460," initialize integer literal to size t"
5245460,5255620," uh there's no such standard facilities c99 do have such macros um oh"
5255620,5255940," shit"
5255940,5265300," ah it's it's not a standard thing that would be actually quite cool if we had like z thingy"
5268580,5274740," there's no way to get the suffix says it in suppose you could create yeah i mean why would i do this"
5274740,5279300," starting from c plus plus 23"
5290980,5303300," okay okay just in case i want him all righty all righty all righty all righty so can you see the"
5303300,5314740," debug thingy uh wait what the fuck yeah you can't see shit uh it should be somewhere in the in the corner"
5314740,5323620," but i can't see it um i wonder why so this is okay so here's the editor and i can block this entire"
5323620,5333940," thingy uh which is nice and then i go in here all right doesn't work i'm so happy i'm absolutely happy"
5333940,5340180," so can we actually go into the debug mode in here just to see what happened"
5341140,5347860," uh just see what happened or is the text where the text is rendered where the text is rendered is it"
5347860,5352020," rendered with the font program assets that's what it's rendered with"
5352020,5362580," okay let me just confirm that uh all of these computations are correct to some extent at least"
5362580,5367380," so uh i'm gonna go to the gdb so it's gonna be something in debug"
5367940,5381940," uh right and i'm going to break uh break something some thing is it called src something debug or is it"
5381940,5392980," something debug something debug game cpp um why can't i have that i'm i'm really confused um break some"
5395460,5397460," um"
5397460,5410260," yeah i need a break just a second um 269 all right so there we go let's run it and uh-huh i think we"
5410260,5417460," already hit this entire thing so if i print debug text i mean it's it's obvious that's what it is uh next"
5417460,5430580," one debug size and uh debug size in pixels 35 by 9 looks good to me because it's longer right print screen size"
5430580,5431860," here is the screen size"
5431860,5437060," uh all right and i think this is already where"
5438020,5444820," oh yeah okay i see this is already we have where we have a problem because the size the width goes from"
5444820,5452900," minus half of the width to plus half of the width uh and what i'm doing in here is yeah this one has to"
5452900,5460820," be like a half of the half of the width there we go debugging step debugging actually works step debugging"
5460820,5468580," so it makes you like follow the logic that you're doing and then you find find the error um all right"
5468580,5474100," so this is minus half of the width and uh in terms of height is just like minus half of the height that"
5474100,5482580," makes sense to me okay so let's try to recompile this entire thing and let's go over"
5482580,5493780," can i see anything i can't see it didn't help all right so but that was the bug nonetheless"
5493780,5500660," right that was the bug nonetheless and we fixed it so uh hopefully because how how am i running i'm"
5500660,5513380," actually building this entire thing and then i'm running it okay um 269 okay break some something uh"
5513380,5527140," something game cpp 269 269 and then i'm running this entire thing uh huh um okay so screen size makes sense"
5527140,5536660," to me uh huh and let's take a look at the debug position debug position is 925"
5536660,5549940," minus 540 which makes sense to me this looks like a good debug position so maybe something wrong is going"
5549940,5558660," on within the render text okay so yeah we're figuring out uv coordinates and then we just fill a abb with"
5558660,5564660," the font program asset and what is the font program asset that's the interesting thing uh what is the font"
5564660,5571540," font program assets um so as far as i know the font program"
5571540,5581700," it's defined somewhere here so let's go into the renderer uh there we go it uses the regular camera"
5583860,5594820," okay okay okay what do they expect it uses goddamn camera instead of screen okay i was trying to render"
5594820,5604340," it in okay so that means that that's text is located somewhere in the world yet uh okay where is it"
5608180,5615940," i wonder maybe we can even find it somewhere it's gonna be difficult to find because it could be also"
5615940,5623060," very small but we can blow it up uh in here so what if we scale it to like 50"
5623060,5627860," we'll be able to yeah there we go now we see it inside of the world yeah there we go"
5630020,5643140," uh that's cool that's pretty cool um it's not a thumbnail probably"
5643140,5656100," um so the thing i want to do in here is i want to replace the camera in this thing with uh the screen"
5656980,5664340," which is completely identical to the screen program yes maybe we should just remove"
5664340,5668660," font program asset uh and just use always the screen program um"
5668660,5678260," so let's go to the renderer right render hpp and i'm straight removing fonts it's not needed since we"
5678260,5683700," have like a screen program assets yeah it doesn't matter anymore so let's go to the compilation errors"
5683700,5691620," uh this one is not needed okay so this one is for now"
5691620,5707700," so screen maybe this program has to be customizable uh through a parameter and a function because sometimes"
5707700,5713300," maybe you want to render the screen on the the text on the screen or maybe sometimes you want to render"
5713300,5718340," it in the world depends uh if we'll need to render it in the world i think then i'm going to add this"
5718340,5726100," parameter but not for now right let's not try to jump ahead of ourselves and there we go so we've got"
5726100,5730820," some corrupted shits cool i really like that the fuck is going on"
5731860,5744500," um oh it's probably because for a different program now it is using some some stuff because for the for the"
5744500,5755140," font we have to use a separate link uh that explains it wait a second um was there like a font"
5755140,5769620," i don't even remember assets uh shaders fragment texture color so we have an image there's a gradient"
5769620,5772500," that circle all right so let's actually find the program"
5772500,5783540," sync uniform where do we sync the image image unit"
5783540,5795540," that's why we needed the font okay i'm an idiot we need to bring the font back because it was a it was"
5795540,5801860," truly a different program because we needed to set a different texture unit because the the bitmap font"
5801860,5807220," is located in a completely different uh texture okay okay i'm starting to remember let's go back"
5807220,5816020," let's go back oh my god uh so this is going to be like this and because of that in the renderer what"
5816020,5824420," i had to do simply is just to replace the camera with the screen so maybe at some point we're going to have"
5824420,5827780," something better we'll see if we're going to have something better"
5827780,5836100," uh we'll see what okay there we go now it is rendered on the screen that's precisely what i was"
5836100,5843300," trying to achieve uh now yeah again it's it's too big so let's actually try to adjust that let's try to fix that"
5844020,5857300," um um where is my text uh where is my text vars conf so this one is going to be what what if it's going"
5857300,5866500," to be like 10 uh is that a good size uh maybe um maybe it could be even smaller than that yeah something"
5866500,5874420," like this and it definitely needs some sort of a padding so let's actually add five and yeah i'm"
5874420,5885300," calculating padding incorrectly okay so that means i need to actually um subtract width but add the height"
5885860,5893220," okay i see i see how it's going i see how it's going so in here i'll have to multiply it by v2"
5893220,5903380," and i'm subtracting width right so this one is probably plus minus one uh but i'm adding height"
5904180,5911540," all right so that should be it"
5911540,5916980," okay that looks all right as you can see so there's a little bit of padding in here"
5916980,5922100," and if i'm just doing it like that so yeah cool uh"
5922100,5933860," so vars conf uh and the padding could be like 20 for instance yeah i guess 20 is all right uh 20 is"
5933860,5942500," all right so and yeah i can set this stuff in here and now if i build the release build right so this one"
5942500,5951460," is going to be releasing"
5951460,5963620," it's going to take some time because you know all the optimizations and stuff like that"
5963620,5971300," uh cool uh release so we don't have anything in release and we cannot open"
5971860,5978180," uh the level editor and everything looks okay all right um"
5978180,5982420," add"
5982420,5998900," debug label on the screen in the debug build all right so what we got in here"
6001860,6010900," so what's going to do the next step um we have like 20 minutes left so i suppose within those 20"
6010900,6016420," minutes i'm going to just add an ability to switch between the things that you're doing in the level"
6016420,6024900," editor specifically uh if you are well i need to run the debug build right so um right if you switch to the"
6024900,6031940," level uh editor you can place the blocks but then i want to have some sort of like um how to say that"
6031940,6037780," buttons in here some sort of buttons which i can click and switch to for example spawning enemies right"
6037780,6046180," right right now the enemies are spawned automatically uh and uh maybe i want to suppose spawn specific"
6046180,6053540," enemies in specific places for the level editing purposes right so anyway before i'm gonna do that i"
6053540,6058260," i want to make a cup of tea because it's a little bit cold in here and um i see you in snap"
6058260,6063060," all right welcome back"
6063700,6073140," two back so uh let's go um what we need to do in here we need to add additional thing so we need"
6073140,6082340," to introduce uh sort of like the notion of the editor brush or editor tool um so speaking of brushes"
6082340,6085620," um i should not forget to edit to do for the thing i wanted to do"
6087700,6094420," uh essentially the thing i wanted to do is i have an ability to sort of draw the tiles you see when i"
6094420,6101540," hold uh the mouse nothing's happening but i want to be able to just draw the tiles so let me quickly"
6101540,6110500," add a to do somewhere um so remember that there was like a get tile right so this is the interesting"
6110500,6126580," time get tile uh there we go so the level editor does not allow to draw the tiles by um"
6126580,6136820," dragging the dragging the mouse cursor is that is that a good way to describe that i mean i do understand"
6136820,6141460," what it's talking or what it's talking about so whatever all right so we want to introduce like"
6141460,6147540," the notion of these brushes right so right now we have a tile brush right and then we want to"
6147540,6153460," introduce something like spawn enemy brush um so maybe that's precisely what it's going to be uh"
6153460,6157940," called but i'm not sure if brush is a good word for this kind of thing maybe it's going to be just"
6157940,6165620," tool right so it's going to be editor editor tool right uh editor tool and editor tool is going"
6165620,6172260," going to be just enumeration right and by default this thing is going to be um tiles right so let's"
6172260,6183700," introduce something like i don't know um enumeration class editor tool why did it spell cool tool well"
6183700,6190740," i mean maybe it's cool who knows uh so what we have in here is tiles uh and then we're gonna have enemies"
6191620,6200660," right right there we go um that's pretty cool and in the main game in the main game um so if editor is"
6200660,6210100," on right and you press mouse down um we need to check the editor tool so it's going to be switch uh"
6211300,6222980," editor tool right and the case editor to what's going to be that uh tiles right is it plural yeah it is"
6222980,6229780," plural uh so i'm gonna rub this entire stuff into the break and then we're gonna just do it like that"
6229780,6239380," there we go so here's the tiles otherwise uh editor tool uh enemies enemies enemies and if"
6239380,6248020," we are spawning an enemy uh we should just take the mouse uh position right the mouse position and spawn a"
6248020,6255620," new enemy there i think we had a function for spawning enemies yeah you can just spawn an enemy at that specific"
6255620,6262660," position uh so what does it do uh it just creates a new enemy at that specific position okay looks good"
6262660,6272340," to me uh spawn enemy at uh mouse world that's it so now we need a way to switch between the tools"
6274020,6278420," um first of all um first of all maybe it would make sense to just check if this entire thing compiles"
6278420,6283460," or not um so it's gonna be like that"
6283460,6295700," all right um so we can do these kind of things and uh if we go into this mode i can uh place the tiles"
6295700,6304500," but i cannot really um cannot really place the enemies because we cannot switch between the editor"
6304500,6312740," tools and whatnot so uh how are we going to be switching between the um the editor tools i think"
6312740,6319060," we're going to introduce like ui elements uh some sort of like buttons right uh and depending on your"
6319060,6325300," current tool only one is going to be highlighted and you can click on another one and uh it's going to"
6325300,6332820," switch your entire entire thing so recently i actually started to work on immediate ui library"
6332820,6340900," uh i'm hui right i started to work on it because i wanted to learn how immediate ui uh uis uh work"
6340900,6349700," seconds just adjusting my slippers um and it's actually quite an interesting approach to designing uis"
6350420,6360980," uh i'm gonna put the link to this stuff in the description right so uh my immediate ui library"
6360980,6368020," there we go and i was thinking if i can apply some of the approaches uh i discovered in this while"
6368020,6375060," developing this library to my game and i think i should be able to so we can probably create like a special"
6375540,6388980," um you know ui element a special ui element that basically um draws uh the tool depending on what tool"
6388980,6397940," is selected uh and also checks the uh events the mouse position and mouse state to know when it's time to"
6397940,6406180," switch between the things um right but maybe right now like integrating like a whole immediate ui library"
6406180,6413380," into the game is too much work so what i'm going to be doing i'm going to actually allow switching"
6413380,6423380," between uh different tools depending on what you press i suppose um all right so maybe we can reserve"
6423380,6429620," some of these like uh layers we can reserve some of these layers"
6429620,6437940," so for example if you press f1 it's going to be one tool if you press another one it's going to be"
6437940,6444980," another tool uh not sure how good of the idea that is but let's let's implement that yeah because"
6444980,6453140," it's going to be the easiest thing to do right so if you press z you set editor tool to editor tool"
6453140,6460980," tiles right so it's going to be tiles and if you press x right if you press x"
6460980,6468100," we're going to be doing enemies there we go that way we don't really need to render anything i just want"
6468100,6476100," let's see if it works or not uh all right all right so i'm going to f3 i press z and i can place the tile"
6476100,6483860," i press x and i can spawn new enemies right i can spawn a lot of them so it's funny how they're secret"
6483860,6492980," synchronized right and if i go in here i can kill all of them uh funny enough uh since we didn't have"
6492980,6499620," any way to respawn the enemies i actually made them to automatically respawn right so maybe since i"
6499620,6505300," have a way to spawn new enemies uh i don't really need that anymore so i can just spawn as in as many"
6505300,6513380," enemies as i want uh and it's really funny how they synchronize this is because i'm animating that uh"
6513380,6518500," animating them based on the current time that's why they're so synchronized this is actually quite funny"
6519220,6526260," all right so let me actually remove out a respawn so it's going to be spawn enemy um okay so this is"
6526260,6534500," the first spawn uh uh-huh and i so actually enemy is respawned by itself so i think i'm going to just"
6534500,6542500," remove this entire thing uh and we'll see how it goes okay so if i kill the enemy it's not respawn and at any"
6542500,6550100," point i can just spawn more enemies and that seems all right uh all right so that's looks cool and there"
6550100,6559140," we go so that's pretty cool uh f3 and then i can place some tiles in here so also i'm not even sure if"
6559140,6567300," zooming should be available in the final game maybe zooming should be like a very much development feature"
6567300,6572180," but right now it is available in both release and bug maybe i'm actually spending too much time trying"
6572180,6577220," to separate release and debug maybe just it's an open source game right just allow everyone to do"
6577220,6583780," whatever the hell they want to do and include also development tools why not though there's we should"
6583780,6589940," still have like a separation between release and debug build because we want to ship and like actual"
6589940,6596980," executables that are well optimized so with all three and building all three is still like a huge step"
6596980,6603060," that's why it is better to like separate this step at least for the optimization so look at how much time"
6603060,6608100," it takes to build like a release build we can actually time it it's a pretty small game"
6608100,6615860," but release build just takes a lot of time relative to debug of course debug also takes a lot of time"
6619940,6631220," you know yeah 17 seconds and this is a single compilation unit usually with a single compilation"
6631220,6636900," unit it goes a little bit faster because the compiler doesn't have to reparse and reanalyze"
6636900,6641860," each individual translation unit because it has only one single translation unit and if you don't know"
6641860,6648420," what is a single single compilation unit i'm going to put the wikipedia article about this technique in"
6648420,6653460," the description so essentially the idea of that technique is that you take all the cpp files you"
6653460,6658820," smash them into a single cpp file and you compile that single cpp file so that way it's a little bit"
6658820,6665220," faster all right uh but there is pros and cons to all these approaches of course so check out this article"
6665220,6676420," single compilation compilation unit there we go all right so and i suppose it would be nice to see"
6676420,6683620," some sort of an indication right of what is currently selected what tool is currently selected and i suppose"
6683620,6691620," we can probably draw that right we can probably draw that how are we going to be drawing that and that's a good"
6691620,6698100," question uh i think we're going to draw it as a panel right so which indicates what is currently selected"
6698100,6708100," um all right so it's going to be game hpp um i i think i need to know the amount of editor tools that we"
6708100,6716660," have um so because of that i'm going to introduce the count uh and the actual type behind this animation"
6716660,6724100," class is going to be size t so um because i want to have separate icons for each individual tool"
6724100,6729460," and maybe having icons is too much work right now uh so maybe we're going to just have colors"
6729460,6734100," right maybe we're just going to have colors all right"
6739140,6747940," so uh render so uh render so here's the render so what we're rendering effectively in here so this is the"
6747940,6758820," editor uh aha this is the cursor all right so i want to indicate that this is a cursor uh cursor"
6761460,6773780," then this is the debug label so this is the debug label and on top of that we want to be able to render"
6773780,6780980," the editor tool uh panel right so this is going to be edited to panel the question is where we're going"
6780980,6788500," to be rendering the editor tool panel uh we can render it somewhere in the left corner i think it's going to be"
6788500,6796900," really convenient and i suppose it should be only rendered when we are in the editor mode so maybe"
6796900,6805060," because of that i want to actually push all of that under the editor umbrella right so this is the cursor uh"
6805060,6816500," and yeah um tools panel right so all of that is only going to be rendered if you are in the editor mode"
6816500,6824660," so debug label is always rendered so you can see that you you can use all these things so the tool panel"
6824660,6831860," um so we have a mouse on the screen here's the mouse on the screen this is a cursor"
6831860,6836420," so here's the screen size"
6836420,6844420," i'll probably need the screen size to actually find the position all of that or maybe not"
6844420,6848180," no no no i will need that uh maybe because of that um"
6848180,6854340," let me just copy paste it just in case i think it's going to be all right"
6854340,6861540," there we go so here is screen size and then we're going to have a panel position right this is going"
6861540,6872580," to be const outer uh tools panel position it's essentially minus half of the width minus half of the width"
6872580,6878900," okay that's when you're really interesting so screen size uh multiplied by v2 minus half there we go so"
6878900,6885700," that's the position minus half of the width minus half of the width cool uh also we should probably add"
6885700,6896820," add some sort of a padding right so this is going to be something like v2 tools uh tools panel padding"
6896820,6904660," there we go tools panel padding um all right once we figure it out we need to actually start iterating"
6904660,6913860," through each individual tool right and to do that we need to do something like this less than editor tool"
6913860,6922820," count right uh and we'll probably have to cast this entire thing into size t but it's not that big of a deal"
6923540,6941620," um all right um editor tool tool static cast editor tool uh this is going to be i there we go and this"
6941620,6950580," one is probably has to be statically cast static cast to size t right so this is going to be size t uh and"
6951540,6957780," now we have a tool and we can determine the tool position right so we need to have something like"
6957780,6967780," uh with two tool position maybe it could be also outer this one could be also outer because we're casting it anyway"
6967780,6973300," so this is a tool tool position is essentially um"
6974660,6975620," to to to to the doom"
6975620,6990660," tools panel position tools panel panel position um plus v2 i zero right because uh we're only arranging"
6990660,6997380," them horizontally so that means vertically we don't have to change anything and all of that casted to float"
6998020,7008420," and multiply it by uh the tool size right the single tool size uh tool button size i would even say so"
7008420,7017460," something like this tool uh button size this is a tool button size and there we go you calculated the position"
7017460,7025860," maybe also plus two uh tools panel padding yeah we also need to include the padding in here just in case"
7025860,7036740," um so it's going to plus this is going to be multiply cool and here is the tool position here's the tool position"
7039060,7044820," so after that we need to render the actual a abb"
7044820,7048020," the actual a abb"
7048020,7055380," all right so let's go to the renderer"
7057700,7062820," build a bb"
7062820,7078260," so what's the a abb we're going to using here the a abb is going to be a abb is going to be"
7078260,7087300," tool position right so this is the position of the tool and uh tool button size right it's going to be"
7087300,7094340," square button there we go still by button size so what's going to be the shade um i suppose it's"
7094340,7101460," going to depend on the specific button right we need some sort of a way to knowing the tool"
7101460,7109060," to know the tool color right we need to be able to know the tool color"
7113220,7121140," so where we can put all that i already feel that the editor should be decomposed from the game as"
7121140,7126500," soon as possible right because we're it's starting to have a lot of this complexity and if we're going"
7126500,7133460," to be not including editor into the release build maybe we better like put into a separate class that"
7133460,7140500," that just operates on the game on the game itself right um yeah i think i'm going to put the to do for that in here um"
7140500,7149060," uh decouple decouple editor uh from the game there we go"
7149060,7152660," so i'm going to put it in here and there we go"
7153860,7159860," so i need a static array right a static array that just holds the editor colors"
7159860,7167140," uh so let's introduce something like this so rgba uh and it's going to be completely static of course"
7167140,7173860," maybe it's going to be external it could be actually internal to the game itself if you know what i mean"
7174420,7190180," um so it's going to be static uh rgba rgba editor to color and it's basically uh editor to uh editor to"
7190180,7196340," count and i need a lot of conversion between those things so i'll probably have to do a static cast"
7196340,7204100," the c plus plus enumerations are really awkward to be fair when it comes to these kind of things and of"
7204100,7212260," course um i cannot use designated initialization like in c right so because in c plus plus it's a"
7212260,7216260," new extension in c as far as i know it's part of the standard but in c plus plus you cannot just"
7216260,7225220," easily do these kind of things so we could probably do something like this stuff in here but that means"
7225220,7229300," we have to do initialization and it's just like really awkward but"
7233780,7239540," okay i think for now since we don't really have that many tools we could probably do a switch case"
7239540,7245780," right uh we probably can do like a simple switch case in here and it just doesn't really matter that"
7245780,7256820," much all right so it's going to be something like a render um so the caller the caller the caller the caller um"
7261060,7269140," editor tool tool and uh what's going to be the texture what kind of texture we're going to use in"
7269140,7275140," there i think we're going to use the texture of uh white rectangle so we can just set the color"
7275140,7282740," um so it's going to be atlas get uv it's going to be just zero and program i suppose it's going to be"
7283460,7290180," uh screen program right screen program asset right so because we want to render all that on this screen"
7290180,7301380," so and we'll need to implement this function uh so right so this is the function editor tool color so"
7301380,7309380," you accept the editor tool right you accept the editor tool and it gives you the caller and uh let's quickly"
7309380,7315780," implement this entire thing in here uh and obviously this kind of stuff has to be in the separate thing"
7315780,7322260," so if in depth uh something release right something release"
7326100,7334980," and if something release okay so we're going to do switch case uh and we're going to switch case"
7334980,7345860," upon these two things uh so it's going to be case uh editor editor editor two tiles"
7347460,7355220," tiles and uh the tiles is going to be um i suppose green we can just do something rgba uh green"
7355220,7367380," for the enemies we're going to use probably blue maybe red let's use red for everything else we're gonna"
7367940,7376980," panic uh panic uh maybe we're gonna put unreachable unreachable okay and i'm gonna put"
7376980,7382340," the name what is going on"
7382340,7394020," the name in here there we go uh and reachable unreachable um okay let's try to compile this entire thing"
7398740,7402020," though i have a pretty cool idea actually"
7402020,7409780," oh i'm i'm just waiting for for the release build"
7409780,7416420," let's do the debugging that's why we're separating them by the way that is precisely why we're separating"
7416420,7422580," them editor to uh count oh yeah so we also need to take a look at the count so it's going to be case"
7422580,7430420," editor to count uh right and then also the default and in both of the cases is going to be aids uh"
7430420,7438900," unreachable right this is a much more straight up whatever um should not be reachable uh anyway tools"
7438900,7445060," panel padding okay so let's go to the uh to the config file padding is going to be uh let's say it's going"
7445060,7459220," be 20 right anything else uh oh yeah classic static cost uh size t zero"
7459220,7470740," tools button size okay uh tools button size let's actually set it to something like 200"
7474580,7476900," do we need anything else and um"
7476900,7483060," yeah this thing has to be cost"
7483060,7493940," all right anything else uh duplicate cases oh yeah"
7493940,7496900," sure"
7496900,7504100," uh okay so we didn't catch the last case in here this can be editor"
7504740,7510020," tool uh count let's put it in here let's let it fall through"
7510020,7514580," um const count not const"
7514580,7526180," all right so if i switch to here there we go here are the buttons you cannot click on them uh but"
7526180,7533060," we can use them to indicate what is the current tool so first of all let me let me rerun it one more time"
7533060,7536020," because i want to update them because i want to adjust their padding their sizes because they're too"
7536020,7545460," too big as you can see so uh yep yep and let's go to the bars conf so uh here they are so let's actually"
7545460,7551860," make them 100 right uh yep and the padding could be actually a little bit bigger in my opinion"
7551860,7560500," uh maybe 50 yeah i think it's all right so yeah this is roughly how i want to want them to be and here's the thing"
7560500,7566420," essentially when if the tool is not selected right if the tool is not selected i don't want"
7566420,7574420," uh this tool to have any sort of color so uh we want to be able to see what is currently selected"
7576980,7583540," so we're rendering it with this specific color but we're only going to be rendering this thing if the"
7583540,7590900," tool equal to the editor tool right otherwise we want to be rendering it with let's say white do we"
7590900,7595060," even have white we can actually do something like this right it's going to be straight up white"
7595860,7607220," um so i go in here and as you can see this one is selected green if i switch to enemies this one is"
7607220,7612420," red now right and that means i'm spawning enemies i switch into this one i'm spawning tiles so it's a"
7612420,7617860," pretty rudimentary like selecting tool it doesn't even allow you to click on these things but at least"
7617860,7622980," it indicates what is currently selected and the cool thing in here is that it makes it relatively"
7622980,7629140," easy to add new things in here right so for instance you can add full right and if you try"
7629140,7635060," to recompile of course it's going to fail in some of the places uh specifically um here right"
7637940,7647620," so yeah uh right now full is not going to do anything uh and here we need to check we need to"
7647620,7654580," select uh a special color for uh for the full so the special color for the full is going to be just uh"
7654580,7659060," i don't know blue right this is going to um"
7659060,7667540," right and if you switch to editor mode now you have three of them uh you cannot switch for the"
7667540,7673940," to the blue one uh but it's there it's super easy to add new tools you just add a new enumeration and"
7673940,7678260," uh it integrates that into this entire system and one of the things we want to be able to do we want"
7678260,7688900," to be able to click on these uh tools to select them uh to the two so let me put it like that and i"
7688900,7699540," i don't even know what to do that but so the editor the editor tools panel uh panel does not allow to"
7699540,7711380," select uh tools by clicking on their icons right another one is going to be editor tools panel buttons"
7712020,7719220," don't have any icons on them right so that's another thing and we could probably implement"
7719220,7725620," something interesting like uh if you are in the editor mode and you're scrolling the mouse wheel"
7725620,7733140," you would switch the tool but then we're gonna actually collide with um with zooming so maybe i'm not"
7733140,7740260," going to do that so but uh at this we're having something right let me quickly remove full um right"
7740260,7752660," okay so we need to remove that and we need to remove that and there we go we won't have any um any third"
7752660,7760500," button anymore as you can see now we have only only two of them so yeah so that is a pretty pretty plug"
7762740,7770100," um uh so let's do a committee committee uh and what are we doing here i think we straight up introduce"
7770100,7778500," the editor tool panel yeah that's precisely what we did uh editor to panel right and let's push that"
7778500,7785780," right into the repo and create a pull request and all of this jazz because we also have a bunch of"
7785780,7790900," to do's uh i actually introduced a lot of to do's in here so i need to snitch them up"
7793140,7799060," all right so if you don't know what is a snitch snitch it's a special tools that i use to collect"
7799060,7805540," to do's in in my source code and report them into the issue tracker uh so if you're interested in this"
7805540,7815060," kind of thing check it out in here uh in the description right okay so let's create the pull request"
7817060,7834660," so what was that um in game level editor okay uh rough okay rough sketch of the in game level editor right"
7834660,7841780," and this entire thing is going to close the issue 19 uh there we go there we go uh"
7843780,7854740," you so you see you see you see kawai this and let's actually snitch up all of these to do's"
7854740,7865220," so it's going to snitch report prepend body introduced in uh 95 95 and let's go to all the"
7865220,7872740," to do's and just special type index instead of that one okay um special type wars for index okay"
7873380,7879220," uh l does not allow draw the tiles by dragging the mouse or yeah it is true uh this one we should"
7879220,7884980," not do that it's a false positive uh decouple editor from the game that yeah that sounds pretty useful"
7884980,7890820," uh does not allow the selectors by clicking them yes that's quite important i mean yes uh buttons"
7890820,7896980," don't have any icons on them we do need icons uh support string types we also need that and there we go"
7896980,7905380," it will report all of these to do's as issues to the to the issue tracker and if we take a look at the"
7905380,7911780," original pull request here are all of the issues that we reported from the to do's and we link them up"
7911780,7918580," to the pull request in which those issues were introduced so and for each individual issue snitch"
7918580,7925620," created a separate to do and and a commit and associated uh an issue with the with the to do"
7925620,7929940," and the next thing we need to do we need to just push that right into the repo and everything is going"
7929940,7937060," to be interconnected all right so i guess today was a pretty productive stream i'm really happy that we"
7937060,7946420," managed to introduce uh a level editor now i can add tiles uh during the runtime and stuff like that"
7946420,7952980," that's actually super cool uh so thanks everyone who's watching me right now i really appreciate it"
7952980,7959380," have a good one and i see you um on the next video um i think like tomorrow tomorrow is monday that means"
7959380,7963860," tomorrow we're probably going to be doing the web development but i can't promise anything anything can"
7963860,7969860," change at any moment so uh yeah check out the description check out the links in the description"
7969860,7974660," and uh i gotta go thanks everyone for watching love you"
