start,end,text
720,6080," so i haven't checked jay for quite some time already uh all right so and i decided to maybe"
6080,12400," the time has come to take a look at it again as far as the latest build is 96th one uh right so"
12400,18800," i have no idea what to expect from it so let's actually unpack it super quick uh let's actually"
18800,26960," unpack it um i think i haven't updated my jay theme or jay mode uh in emacs for quite some time"
26960,32400," as well i think it is located somewhere in emacs dot local so we have a bunch of like a custom modes"
32400,38560," that are not installable via the what is it called melpa right so and jay is one of them and i think"
38560,48240," it's just like i copy pasted it once and simply forgot about it um so the js is that is there js"
48880,58720," wait wait wait a second um there is a apparently there is a js jay uses js mode"
62720,69600," that's the i've never expected actually what the so jay is literally inherits"
69600,74960," uh js mode apparently it it uses js and then"
74960,86160," okay uh moving on so anyway what i wanted to do i wanted to actually update my my jay mode jay mode for"
86160,94560," emacs um jay is a javascript ai exactly so good some subs thank you so much everyone for the subs uh"
94560,100560," thank you thank you thank you so this was yesterday uh ormus boxer thank you so much for the message yay"
100560,105040," jay um thank you thank you that's your one azora akimori thank you so much for the trine with the"
105040,112320," message toting a panger your mom's a banger thank you thank you so much all right so i think that's the"
112320,118720," one i'm using right now so yeah uh were there any okay the latest changes were made like a last year"
118720,124880," so it's not really supported that actively anymore uh fortunately or unfortunately i don't really know"
124880,138160," it just depends um what the fuck is is that some sort of like a like a build system for emacs packages"
138160,144560," that i'm not aware of i i know that there was like emacs cask right so it's a project management tool"
144560,150720," for emacs like uh completely unnecessary as usual but but this one is isk"
150720,162000," what is going on bro emacs isk okay don't freaking tell me that it's a replacement for freaking cask"
162000,165120," so it's a lot for building runtime testing managing your freaking"
168240,175920," webification of emacs like this disease spreads across of all of the languages like what the"
175920,181520," is wrong with people why people keep spreading this disease this web disease"
181520,187040," it's literally a disease like it's absolutely unnecessary people just like dumping all of"
187040,191840," that like in all of the languages in all of the infrastructures anyways let's let's"
191840,196560," fucking ignore that shit let's fucking ignore that let's not ruin our mood today we're on a good mood"
196560,202560," today we're trying to we're gonna just check the latest build of jai so i don't want to ruin my mood"
202560,211200," today anyways so it's actually doing all the latest stuff and uh i'm going to do a w a get uh right so"
211200,218080," hopefully it's going to replace i wonder if ah thank you w get i want you to actually replace the file"
218080,224400," button it is what it is so is there any changes in jai mode okay so there's a bunch of changes in here"
224400,237120," okay so a few more keywords were actually removed is that the wrong mode is that the wrong mode i'm looking"
237120,247120," at i feel like this is like did i wait um no this is the this is the right mode why was it"
248080,252000," so it removed a bunch of things maybe maybe it literally got rid of all of these things"
252000,260080," uh so but then some of the con okay i don't think it's completely different but it is different"
260080,267360," nonetheless um it's not very basic anymore no it is a rather basic but it's just like afraid maybe i just"
267360,276320," copy pasted the wrong one no it's it's the same one just modified uh so actualized keywords uh yeah so i"
276320,279840," i think i think that's the right one anyway so i'm not going to commit it right away i'm just going to"
279840,286800," keep it in okay so uh let me go and just probe the jai let's actually write a hello world for the latest"
286800,291840," version so this is going to be main jai uh i suppose one of the things i probably want to do i want to"
291840,298480," restart my emacs super quick uh right so let's actually go here so here's the main jai um and if"
298480,304640," i remember correctly you import basic module right so and you just do something like this right i haven't"
304640,310320," programmed in jai for quite some time so i don't quite remember the things in there so if i understand"
310320,317120," correctly i do not have jai in my path unfortunately okay so one of the things i can do is just something"
317120,322560," like this right so jai linux so let's just do it like that and it seems to be working so look how quickly"
322560,329200," it compiles look how quickly it compiles can your rust do that i don't think so i don't think"
329200,335520," rust can pull that off but anyway so here is the executable right so here is the q and it says hello"
335520,342160," world so everything seems to be working everything seems to be twerking that's pretty cool um so let's"
342160,350080," take a look at what we have in here uh so remember they recently added more or less proper uh proper"
350080,360160," support for um web assembly macOS the current what is this or macOS anything you download while the web"
360160,366240," gets flagged as quarantine i think i already read that oh it's the current team right okay"
366240,373440," it's really funny so editor support oh it's msvc only msvc nobody gives a shit about msvc"
374000,381520," so there's a bunch of things in here uh executables and stuff like that so let me see uh stuff about"
381520,387600," web assembling right so let me find some okay okay so there is some example yeah there's literally"
387600,393920," examples for wasm right so there's one example for wasm uh let's take a look at it and they even"
393920,403360," mention me right so because i did quite some work for like uh you know compiling jay to wasm so i"
403360,408400," suppose they used some of my work and okay they mentioned me in the example which is actually rather"
408400,416400," cool so this example compiles a j program into wasm64 uh after compiling first you can view it in"
416400,422480," your browser by serving the public folder via web server since jay currently only supports compiling"
422480,427360," okay so they did they didn't figure out how to solve that problem they really didn't figure out so"
427360,438160," the main problem here is that jay cannot compile to wasm32 right and wasm64 at the time at least was"
438160,444560," not mainstream uh right so and it was not supported in any browsers or anything like that you like if you"
444560,450160," go to use it in node you would have to enable experimental flag if you were to use it in a browser you"
450160,455440," would have to go to the settings set the settings and so on and so forth right so it's a huge pain"
455440,460960," in the ass and uh because of that you couldn't ship that program at all to to the end user because the"
460960,465840," end user is not going to go into the settings and put experimental flags nobody's going to do that"
465840,472320," right so one of the solutions that i used for when i was creating i think it was called jay break"
472320,478560," right so here's the uh here's the thing so this is the jay break this uh game is written in jay by the"
478560,483120," way and it works in the browser and it doesn't require you setting up any flags or anything like"
483120,490320," that uh right so it just works in the browser the way i solved this problem is i actually wrote a tool"
491440,499360," that converts 30 64 wasn't 64 to kind of wasn't 32 uh right so i'm going to show you in a second"
499360,502560," i need to find my description where's my description by the way because i want to put some"
502560,511760," uh references in here uh right i think it was called a wasm uh 64 to 32 or maybe it was a 32"
513040,521520," 264 i don't quite remember i don't remember okay so let's actually do a search uh so wasm"
521520,531840," yeah wasm64 to 32 so and i actually forked the official sort of like a tooling for for wasm and i"
531840,538240," hacked it to to work as as intended a simple tool that converts wasm64 binaries to wasm32 ones based"
538240,545600," on the code of the original bobbitt right so interestingly is that um so how does it work as"
545600,552240," far as i'm concerned the only thing memory uh thing memory the only thing memory 64 does is that it allows"
552240,560880," you to index the memory with i64 values where the default wasm32 allows you only i32 wasm64 to 32"
560880,566880," searches for all of the store and load instructions in your binary and truncates their pointers from"
566880,573680," i64 to i32 this technically defeats the point of memory 64 extension which is being able to address"
573680,578320," more than four gigabytes of memory so use this utility only when you know for sure that you"
578320,584640," uh that your 64-bit program does not use more than four gigabytes of memory right so and essentially"
584640,591200," um so the way i would use that i would compile the wasm64 binary and then using this tool i would"
591200,598000," convert it and truncate all of the pointers to wasm32 and this is how a ji break worked uh so i know i"
598000,605680," heard recently i think wasm64 became mainstream and uh right so now it's automatically enabled in the"
605680,611520," browsers so that means you don't really have to do this trick anymore uh so let's actually see let's"
611520,618320," actually see so what's what's what's up with them so maybe we can just go ahead and compile that example"
618320,630320," in specific uh so this is wasn't uh right so first wallock wallock oh what is it what the fuck is wallock"
630320,639680," a small malloc implementation for use in web assembly"
639680,650080," fascinating is that what it is right so um so wallock is a bare-bones implementation of malloc for"
650080,655280," use by c programs when targeted web assembly it is a single why there is no source code of this thing in"
655280,664880," here right so why is this only o uh and stuff like that oh there's a it's is that this wallock or is"
664880,674640," that the uh-huh it's a foreign one so that means yeah it feels like this is just a pre-compiled wallock"
674640,679600," that's what it feels like but there's no source code of wallock in here which is kind of bizarre"
682240,688240," binary blobs i mean so jay is kind of well known for just shipping binary blobs in there so you don't"
688240,692800," have to recompile them and stuff like that but i mean that's kind of that's kind of sus right so"
692800,699360," yeah anyways so let's actually go ahead and just maybe build this entire thing so jay linux and i'm"
699360,708320," gonna just do first jay and what did it do uh i suppose yeah so running linker and it just put wasm"
708960,716800," main wasm into into public i think that's what happened in here uh right so yeah here it is so"
716800,725360," and i suppose they said that you have to just serve um you know that folder um maybe we can even go here"
725360,733520," so it's gonna be python 3m http server 69 or 69 this is not correct i should have put ampersand at the end"
733520,740560," but yeah let's actually go here and okay open your browser console to see stuff all right so do we see any"
740560,748400," shit uh wasn't validator at office"
748400,768560," i don't know man is that maybe because it's 64 right so we can try to open this shit in chromium right i have"
768560,772320," chromium uh localhost okay um"
772320,778160," it doesn't even show anything right so we can't see shots"
778160,785920," okay so yeah it was showing like an audio api because it was cached or something i don't know"
785920,792400," right so freaking chromium doing shit okay so invalid memory limits flag zero enabled with experimental okay"
793920,800560," apparently experiment yeah so memory wasm 64 is still not a thing apparently"
800560,810560," we can try to enable this entire stuff right but wasn't it already like uh out so you don't have to do"
810560,817200," experimental flags or anything like i i don't really understand so because i heard like a huge rumors like"
817200,823840," holy fucking shit like wasm64 is already out and where maybe i forgot to update"
823840,828880," like uh okay so we can try to update maybe there is some update in it somewhere"
828880,841840," xbps install uh all right but nothing fucking nothing uh right maybe it's not in void repos yet but i don't"
841840,852800," fucking know um so let me see um jai wasm example experimental wasm memory uh 64 right so what i"
852800,858640," want to do in here is just copy paste this thing because unfortunately if i close this thing where"
858640,864560," a clipboard actor kind of dies so i have to put it in here right so i just like put it like that and it is"
864560,872000," going to just work magically does it no it doesn't just work it didn't even recognize this flag um invalid"
872000,874080," memory limits flags enable with"
874080,887040," nice browser google that's that's very cool uh so i don't know about features or something there was"
887040,898080," something i don't remember uh chromium enable wasm64 or memory 64 how the fuck do you do that uh i think this one"
898080,903440," fuck it's in german i don't understand which one i have to"
907360,918560," fuck wait a second accept i suspect this is accept so this is accept and this is denying"
918560,926560," germans did i guess it correctly did i actually guess i think i guessed it correctly yeah"
926560,935040," i know german i know german it's almost like english i'm joking uh all right so um yeah there we go"
936240,951840," accept did it redirect me man uh so enable memory 64 wasn't timeline update should chrome uh enable"
951840,965440," trap hat like bro i don't know bro chromium how to enable memory sick bro how to enable memories it's so"
965440,972960," fucking bad google is so fucking bad you google you're gonna die you're gonna get replaced by chat gpt like"
972960,981680," everyone like us as well uh right so just yeah shut the fuck up shut up"
987840,997440," two to enable memory 64 in chromium you can follow this ah chromium flags yeah yeah thank you chrome uh flags"
997440,1004000," stupid i'm i swear to god uh and like search engines are fucking dying they're really"
1004000,1010400," fucking dying they're useless they're straight up fucking useless uh okay okay okay so i'm gonna we can"
1010400,1020320," also log errors logging by the dog it worked it worked"
1020320,1032400," poke jump poke jump in the chat poke jump in the chat oh hello dry so we can we can write games in jive for"
1032400,1038960," browsers now but we have to ask the user to enable some stupid flags and stuff like that but we can't"
1039600,1046000," holy fucking i mean we could before i'm still like i don't know like memory 64 should be out"
1046000,1057840," like i swear to god 2024 2024 64-bit addressable memory is still unsolved problem in web web developers"
1057840,1061280," didn't manage to solve it yet it's still fucking unsolvable"
1064160,1070320," right so i swear to god it's just like web is dragging all of the tech behind"
1070320,1080560," what the is go why the internet is down or i don't understand what is going on"
1080560,1084960," all right google attacking stream yeah google is attacking stream right now"
1085680,1091360," uh so web devs actually angry at us right so they're trying to do those the stream yeah web devs are"
1091360,1098800," reducing us uh pathetic web devs they can't accept the truth they can't accept the truth they have to"
1098800,1103280," silence us but we cannot be so we cannot be sounds we're going to be saying the truth"
1104080,1113600," right so we're back two back uh champions of the arena oh that's pretty that's pretty bonus so what"
1113600,1120320," i was talking about uh yeah so so there is a very annoying thing about um numbers in"
1120320,1128080," in javascript right so i think uh if you take for example like a 64-bit number right and this is more or"
1128080,1133520," less like a valid pointer in 64 bits well i mean this straight up is not particularly valid right"
1133520,1140880," so i think even modern hardware cannot address uh like this much beats they claim they can but in"
1140880,1146560," reality some of the beats in the address are not really usable right so because uh nobody needs this"
1146560,1153360," much memory right so i think more realistic like pointer is more like a i don't know 50 like maybe"
1154000,1161040," 59 or 49 or 49 or something this is more realistic 64 bit pointer uh right i think so if it literally"
1161040,1167520," take this value this is not a safe integer value in javascript as far as i know uh right so there's a"
1167520,1176400," thing like a number is uh safe integer right so and you just like plug this entire thing uh right it's still"
1176400,1183200," safe okay so but i mean i suppose this kind of thing is not yeah this kind of thing is not safe so i mean"
1183680,1190160," something that is 64 bit uh address pointer it may not be like representable with a javascript number"
1190160,1198960," right oh there's also max safe number right so max save max save integer yeah so but at the same time"
1198960,1205680," as you can see it's smaller than the biggest 64-bit address and to be able to address uh you know web"
1205680,1210560," assembly memory you have to be able to uh actually represent these kind of numbers but they are not"
1210560,1218160," representable in javascript right this is the main problem why memory 64 is still experimental in"
1218160,1224080," javascript because javascript is a freaking toy scripting language this is literally the i'm not even"
1224080,1230160," making it up i'm not like making a meme or anything like that the only reason why mem 64 is still"
1230160,1235760," experimenting web assembly is because javascript is a toy scripting language that uses floats for everything"
1236480,1242960," like literally no joke not trying to diss not trying to like that's literally the reason so"
1242960,1248640," and the way you have to now address things you have to do that through a big number right so and that"
1248640,1257840," means that a lot of code that kind of interacts with 32-bit was a modules now broken if you replace the six"
1257840,1264640," replace that module with 64 bits right so you can't just make it as a drop-in replacement so it creates"
1264640,1270400," like a lot of problems so it's just it's so fucking stupid it's so fucking annoying but that's what it is"
1270400,1278000," welcome to well uh right so uh and i don't know it's just like"
1278000,1289120," so do they use big in yeah there we go there we go hell hell yeah so and if you don't use big"
1289120,1294080," int it will throw a runtime error or something like that yeah freaking classic"
1294080,1307120," um freaking classic so i think we got some subs thank you so much uh master marcos 12 12 uh for"
1307120,1312560," which part of the question thank you thank you thank you um okay so do we have any other interesting"
1312560,1319600," examples in here i kind of want to write something enjoy you know i kind of want to write something uh"
1319600,1324320," so we can take a look at the modules i think the modules are pretty much the same in here"
1324320,1332560," right nothing particularly new something on thokla thokla baker nice so it's baking something"
1332560,1341680," that's pretty cool maybe we should write like a small web game uh right maybe we should write a"
1341680,1346720," some more webcam thank you so much fibo226 forward pushpan recognition thank you thank you thank you"
1346720,1349280," um right"
1349280,1362000," so examples wasm so in here we just have an index html uh internet explorer edge"
1362000,1370720," interesting so open your browser blah blah blah and you just do runtime js and this runtime js just loads"
1370720,1378560," everything so global reference of the wasm's memory area so that we can look up pointers okay that"
1378560,1384160," that actually makes sense right so this is the memory these are all the functions that were declared"
1384160,1390800," as foreign in our jay code they let you interact with the js and dome world from within jay if you"
1390800,1399760," forget to implement one the proxy below oh they even used my proxy idea hell yeah i came up with this idea"
1399760,1410640," i i can i invented this proxy thingy hell yeah so you're welcome uh right cool cool cool cool so here is"
1410640,1416800," the bunch of functions and this is the imports and stuff like that uh so did i invent it i think i"
1416800,1424320," invented it yeah i think i did maybe maybe i just stole it but then forgot so if that's the case please"
1424320,1432240," forgive me the original also but i feel like i invented that okay so um anyway so here's the js yeah so all"
1432240,1440480," of that is pretty much classic all of that is pretty much classic and uh now how do you even compile uh"
1440480,1450160," this kind of stuff so hello jerry these multiple calls why why are you testing logging like okay"
1454000,1457920," wait wait wait wait ah it's uh i thought i'm looking at the build script jesus christ okay"
1457920,1464880," so uh-huh so we just set it uh yeah so this is becomes a build script"
1464880,1469760," we create a workspace so this is executable back end is llvm where"
1469760,1480640," they edit os target wasm of holy so wasm is not a hack anymore i thought it's a hack"
1480640,1484880," but it's not a hack anymore it's an official target for what the"
1484880,1493760," fuck brov skis brov skis this this is huge if big bro it this is huge if big i'm telling you so let's"
1493760,1501200," actually take a look at that um so module yeah i think it's something like module so grab our n so"
1501200,1505040," all we have in here so i think it's um oh fuck damn"
1505040,1511360," so os target"
1511360,1522320," so wasm i didn't freaking see that so this is the compiler maybe i need to"
1522320,1531120," just search for wasm and not not here where is the definition of wasm ah i found it it's a preload"
1531200,1542480," okay okay okay okay okay uh so crampus right uh crampus operating system so yeah wasm is official"
1542480,1549520," wasm here is official uh so something interesting message from valgo um i'm following one of the"
1549520,1555600," mozilla employees and he tweeted recently that wasm64 is on track to be uh on by default in the next"
1555600,1562160," major version of firefox i think chromium is about the same so we keep winning uh i don't know if"
1562160,1569120," that's a win so if it's still as lame as it was several years ago it feels kind of you know weird"
1569120,1581120," it's a weird flex but okay um but anyways um all right so here's the wasm all of that is official"
1581120,1586400," so is there any other mentioning of wasm throughout the modules that's a good question so am i kind of"
1586400,1593680," curious so runtime support oh this is actually super cool so within the standard library they"
1593680,1601760," specifically add compile time check the current usb in wasm and just this is so freaking cool bro"
1601760,1609920," this is the right string synchronized right so for the input output and if you are compiling for wasm"
1609920,1615760," they just make it a foreign function that you have to define in java thank you so much thank you so"
1615760,1623760," much thank you thank you jai gods finally finally finally finally finally finally uh right you don't"
1623760,1631520," have to do weird hacks and and like that okay that's cool not in script in scripting you"
1632720,1640560," you scripting you you scripting i feel like you scripting you only need you scripting uh when you"
1640560,1647600," like hard depend on postex environment that's the only reason why c would use mscripten like you really"
1647600,1654400," hard depend on postex and you can do nothing about that like it's just like that's it like you you either"
1654400,1659920," you have postex environment or you just like don't ship right if you have an opportunity to not depend on"
1659920,1665840," postex i think there's really no that much reason to use mscripten right if you like writing like a"
1665840,1674240," very small minimal bare bones like game uh like i didn't see a reason to to use mscripten um so yeah"
1674240,1678880," the file system on scripting is is very shitty because it's a hack right so it's a hack when you"
1678880,1683200," can't get rid of postex right so they just implemented postex for the browser there you go"
1683920,1689280," so assuming no yeah this is this is a freaking classic this is a freaking classic so this is"
1689280,1693920," something that c3 compiler writes when you try to compile to wasm just assuming non-postex environment"
1693920,1695760," uh right"
1695760,1703360," what you if you use sdl well if you use sdl you pretty much depend on postex i think"
1703360,1718080," right really not i think you do but anyways anyways anyways so okay backtrace and crash"
1718080,1724560," okay so yeah so you can't have backtraces or in wasm yet maybe in the future will so then you can"
1724560,1731680," specify output directory okay that's pretty cool the executable um 11 option target system features plus"
1731680,1738320," bulk memory so you we're bulking up the memory this option is needed so the mem copy and mem set are"
1738320,1741840," mapped to mem.copy and mem.fill instructions"
1741840,1752160," so wasm has its own mem set and mem copy that's pretty cool so enable split modules have no idea what"
1752160,1758080," the it is so function equation to get around the living area section already has uh defined"
1758080,1761760," function dot text okay so there's a bunch of hacks in here to solve some problems"
1761760,1768640," and our own modules folder first so that we can overwrite modules with our own version if necessary"
1768640,1774960," uh okay that's pretty cool that's pretty poggers and so okay so there's a little bit of like a custom"
1774960,1783280," program and we're looking at the tab checked things um oh you can replace individual procedure bodies if you"
1783280,1787760," need to in here so this is just template but we don't really replace anything in here"
1787760,1794560," uh-huh so in in the past in the past you kind of needed to do this kind of thing because some of the"
1794560,1801520," functions were uh like we're having assembly chunks right there was inline assembly for some of the"
1801520,1807680," functions and if you try to compile to wasm this uh inline assembly would literally be inlined into the"
1807680,1813760," bytecode of wasm and this is not a valid wasm so it would not probably work properly work so you would"
1813760,1821360," have to write this loop to catch any assembly inline assembly at compile time and just like strip them"
1821360,1826960," off uh right so in the functions that you strip the assemblies of you you should not call right so because"
1826960,1831920," they're broken now the only purpose of that was to just make it compilable uh otherwise it just wouldn't"
1831920,1840720," compile uh right so as far as i know now um the ji developers actually do if def uh right so in the"
1840720,1847920," check if if it's a wasm environment they just don't do like you know uh assembly in inline assembly things"
1847920,1852880," right so this kind of stuff is not really needed anymore if i understand correctly right so if i"
1852880,1857840," understood everything correctly so a lot of these things are not really needed in here so there's a stack"
1857840,1866560," first so where's the was like walloc uh and stuff like that uh i'm not sure if i care about walloc honestly"
1866560,1875120," um right so here we're just implemented allocator proc um right so it's a walloc allocator and stuff like"
1875120,1881600," that uh right so and this is the allocator that is going to be used in wasm i kind of want to write"
1881600,1887040," like a web assembly module but without the uh allocator or anything like that i can actually do my own"
1887040,1890480," thing i think um right i hope at least"
1890480,1900560," okay so let's actually write something let's actually write something let's go um so let me"
1900560,1906640," let me see so this is going to be a probe a ji so this is we're just trying different things uh i suppose"
1906640,1914720," we just have to do first ji and this is going to become our build script right so i suppose if you try to"
1914720,1924640," just uh build this entire thing so where is the ji bim ji linux right it's not going to work because it"
1924640,1932160," will try to search for for entry points right so there is no designated like entry point so you can"
1932160,1939440," write a block right so this is the block that will be executed at compile time right and you can write"
1939440,1946320," anything in here right so you can write anything in here um so well i mean you you also have to import"
1946320,1957360," uh import basic uh okay so it actually wrote hello world at compile time right you can like"
1957360,1963120," write arbitrary ji code at compile time in here but it still doesn't finish the compilation right so because"
1963120,1967920," there is no entry point for this entire program so one of the things you have to do if i understand"
1967920,1973280," correctly you have to instruct at compile time that the program that you're currently compiling is not"
1973280,1980160," going to have any output and subsequently it's not doesn't need any entry point so by doing that you kind of"
1980160,1986800," instruct that okay this file is actually like a script it only executes at compile time but it doesn't have a"
1986800,1993040," run time right this is a thing that can be enjoyed right so you can have files that only executes at compile"
1993040,2001120," time and they don't really produce any meaningful run time aka build scripts uh right so uh this is how"
2001120,2009120," i at least understand that um so where is the first here's the wasm and you do that by setting build uh options dc"
2010160,2019520," right dc stands for during compilation i think right you set build options during compilation as it goes"
2019520,2026640," and you say okay this compilation that is currently happening it doesn't have any output right so by"
2026640,2033280," doing that now this is purely a build script but i mean you have to also import a compiler right so because"
2033280,2039600," all of that's located within the compiler uh there we go so now it's purely a compilation script right it"
2039600,2044880," didn't produce any executable or anything like that it's just like a purity script now so that's how"
2044880,2053680," basically it works i suppose uh so we've got some subs thank you so much um throw about at which prime"
2053680,2057360," and thank you so much fibo 226 i don't remember if i acknowledge you thank you thank you thank you"
2057360,2064880," i really appreciate all of the subs so once you've done that you have to actually start a different uh"
2064880,2069520," sort of compilation process right so you basically transform this file into the build script"
2069520,2076160," now you have to set up the build system uh right so you do that by creating a workspace right so here"
2076160,2081920," is the workspace all of the compilation happening within the workspace uh so you have to take all of"
2081920,2087920," the options out of the workspace right and options is basically like a structure and it has a lot of"
2087920,2095680," fields so enjoy instead of fiddling with uh individual flags of the compiler you basically fiddle with the"
2095680,2102320," fields of the structure for compilation options right so which is kind of cool right so instead of working"
2102320,2108720," with flex it's a structure in the same language so it's a structure in the same language uh so"
2109600,2116560," copy commonly propagated fields i have no idea what the is that this is something new um"
2116560,2121200," okay let's actually take a look at that what the is this function i don't remember"
2123680,2136160," um okay so uh it's probably something within the modules uh copy commonly propagated fields how queer uh all right"
2136160,2146560," so this is provided in case you want a meta program that propagates various optimization settings uh and so"
2146560,2155520," forth but doesn't copy over weird stuff like import dir and executor and there is a commonly commonly"
2155520,2162160," propagated okay these are fields that might be commonly copied from something like default meta program which"
2172160,2190800," it's so it's so it's so vague and hand wavy um you know like what it would be kind of funny to call them like the the annoying"
2190800,2199120," parameters the the commonly propagated or something like the parameters that i like to set up when it's midnight"
2199120,2202800," it's just it's so vague what the fuck does it even mean"
2202800,2206480," it's a misc stir"
2206480,2215520," you know the the summer parameters this is the parameters that our team copies during the summer because it's hot"
2215520,2217040," right it's just like"
2217040,2227440," this is so funny like i don't know why it makes me fun like laugh that's what they they are john just copies"
2227440,2231440," them around at the time and uh end up putting them into this truck i see"
2231440,2242800," you know these are my vacation parameters i like to copy these parameters when i'm on my vacation"
2242800,2243280," you know"
2243280,2252240," and this using boots uh puts them directly in the scope you don't have the prefix them i guess i still don't"
2252240,2256160," understand what the fuck is that but i'm gonna treat them as just sort of a magic that i have to do"
2256880,2258880," but it's so fucking funny"
2258880,2266480," so the gi compiler module needs at least three rewrites i guess"
2266480,2269360," okay"
2269360,2274400," so commonly propagated fields uh"
2274400,2276000," okay"
2276000,2281200," the naming should have been a little bit better uh i'm telling you"
2281840,2285680," because it's just like a commonly propagated i don't even know what that means"
2285680,2292960," uh okay so there is a output type is executable some stuff like that emit debugging for dwarf"
2292960,2298960," i'm not sure if i really care about that but anyway so might as well copy paste uh some of this stuff"
2298960,2303600," right so uh all of that kind of makes sense not all of that but majority of these things kind of do make"
2303600,2308800," make sense to me right and this is the replacement for the compilation flags right so that's what they are"
2308800,2311360," and instead of compilation flags it's just fields"
2311360,2317600," so import paths uh this is probably needed when you have the module folder that looks like this"
2317600,2322560," we don't really have a module folder so i think i'm gonna omit that i think i don't really care about that"
2323200,2329440," so in here we have a wallock object file uh right so we're not going to be doing our wallock thingy"
2329440,2335360," okay so something from rafael this was compiled from oh okay okay so it was compiled literally"
2335360,2342640," from that thing that we found on the internet right yeah yeah it's literally that uh so via clang"
2342640,2347600," blah blah blah we should probably port this allocator to jai instead that sounds like a good idea actually"
2347600,2354960," it sounds like a good idea so here we do this stack uh right so we're just setting up the stack size"
2354960,2362640," oh this is probably needed for wallock object file let's actually not do that right i don't really care"
2362640,2369040," about wallock so and okay so after we set up all the options and stuff like that we just set build options"
2369040,2376960," in here right so that's kind of the last thing that we do uh right and we don't really need to"
2376960,2381360," intercept the compiler right so even this example doesn't really do anything so the last thing we"
2381360,2390480," do we just add the file to the build process so that's basically it uh right so we just say"
2390480,2396320," that the current file the first.ji is a build script with this single line then we create a separate"
2396320,2404080," workspace uh right so we get options from that workspace and then we copy commonly propagated fields"
2404080,2409440," again whatever the that means right it's just something let's just call them they should have"
2409440,2416080," called it like a you know the not commonly propagated but commonly copied by by john right so i think that's"
2416080,2423440," how it should be called like that literally name like uh copy commonly uh you know copy it copy it"
2423440,2431120," by john i think that's how it has to be called right because again it doesn't really say me to tell me"
2431120,2438480," anything the the john's fields exactly uh so it's just it's so vague that it conveys"
2438480,2443600," nothing it conveys nothing at all uh might as well just like mention that i was just like whatever john"
2443600,2449440," copies all the time uh because that's more specific that gives you even more information right that's better"
2449440,2453200," name copy the fields john needs in his yeah exactly so"
2457680,2462560," so that's much better because again it's like at least i now understand justification but this is"
2462560,2470640," just like it's too big like what the is that um so uh now if i try to build this entire"
2470640,2477360," thing is it going to build anything no oh undeclared identifier crt"
2479200,2488160," fuck what am i supposed to do what am i supposed to do oh no no it doesn't it doesn't even make sense"
2488160,2495440," uh copy whatever john move so and like it's what"
2495440,2498160," what"
2501440,2511040," why that thing worked like broski i didn't expect honestly i expected anything but i didn't expect that"
2511040,2521760," error um so i feel like it might be something it might be actually something with main let me take a look at"
2521760,2530320," how um you know this is implemented aha i see"
2530320,2539120," i feel like what is going on in there is just like you need to have these functions"
2539120,2546160," right otherwise it's not going to compile properly let me take a look at the error"
2546160,2553680," a hole one more time because it's a very interesting error right so it's a c malloc foreign malloc let's"
2553680,2562880," take a look at what exactly is going on in here do they even check for uh this malloc anywhere at compile time"
2563840,2571680," uh-huh hmm so scope file and this is a module of default allocator"
2571680,2578000," so and this is a walloc allocator"
2578000,2587440," and allocator i think i kind of know what is going on in here but i need to confirm that a bit"
2592720,2600320," i wonder if it will go away if i literally just um define something like this"
2600320,2608560," like define these two things let's actually define uh this thing right like it it feels like that"
2608560,2615520," somewhere at compile time there is a check do you depend on a foreign malloc thingy and if you don't"
2615520,2621040," try to use that crt thingy right so that's what it feels like but i can't confirm that"
2621760,2629360," so let me let me see so this is main this is main.j right so what if i put it here okay i'm gonna call"
2629360,2637200," it my malloc will be provided by wasm yeah yeah so my malloc uh something like that and now if i try"
2637200,2642240," to build this entire thing it still says uh and declares a crt"
2646080,2651600," so okay we're leaving c uh here for a little bit so that people can use them as a fallback but"
2651600,2659600," they will be removed before too long i feel like maybe the crt is actually defined somewhere"
2660400,2666400," um okay um okay let me let me let me actually see let me actually see so this is gonna be first"
2666400,2670720," wasm there must be 30 somewhere"
2670720,2673280," uh no"
2673280,2685520," how do they even do that how does it even work then this is so bizarre bro this is uh yeah it just works"
2685520,2695520," it's crt maybe i forgot some flag that could be actually a thing maybe i just forgot some flag but"
2695520,2711200," what did it ah this must be it actually ah i see you so this is the default allocator"
2711200,2717200," motherfucker this is the default allocator and in the build we're remapping it to a different"
2717200,2724240," fucking module i got it i'm gonna fucking see this"
2724240,2730480," um this is probably something that we want to try to do as well"
2730480,2738000," uh okay so i think i figured it out i think i figured it out um so i want to just take a look"
2738000,2744240," at what the is a remap import right so let's actually grab this entire thing uh right so what"
2744240,2750560," the fuck is the remap import show me don't fucking tell me that this is oh it's not a big"
2750560,2754720," okay so"
2754720,2764080," maybe maybe you can do something like this yeah hell yeah hell yeah okay so let's actually read about that"
2764080,2771520," in remap import use host module name of empty for the main program or star to mean all modules plus the"
2771520,2778400," main program um i have no idea what that means honestly this is not a general wildcard only star"
2778400,2786720," works i don't know what that means anyway so the host module name import name replacement name i don't"
2786720,2791200," understand what that means so i suppose i'm gonna actually treat it as a magic but what i can understand"
2791200,2795440," is that we're basically remapping this one to this one right that's what i understood i don't understand"
2795440,2807040," whatever that the fuck that means all host main all program anyway whatever so um okay we're gonna we're"
2807040,2815040," gonna put that after the set build options so this is going to be default allocator uh your mom okay"
2818320,2825200," uh so uh so what we're doing here i suppose yeah so we're just remapping this entire uh right so you"
2825200,2837280," you're your marketer right uh does it exist uh-huh so i think that's that's correct can you even create"
2837280,2844560," such modules yeah you can right so this is that uh and we're remapping it like that so that means the only"
2844560,2852080," thing we have to do now is to just rebuild it like this okay so i'm able to find the module called"
2852080,2859360," you mama cater uh in any of the modules so and this is why we had to actually set up the import modules"
2859360,2864880," so we can find you mama cater so to be fair since we're going to be having like a separate modules and"
2864880,2870080," stuff like that at this point it makes sense to maybe create modules right so let's actually create"
2870080,2877680," the modules let's put your mama cater there so this is your mama cater and now if i take a look at how"
2877680,2885200," it's done and wasm where is the module stuff okay so yeah here is the import paths so it's a dynamic array"
2885200,2893680," we append uh so a bunch of like modules in there right so it's a file path modules so for all the imports"
2893680,2897840," we just copy it in there and we just set it like that in there okay so i'm gonna just copy paste this"
2897840,2904160," kind of stuff right so i'm gonna copy paste it i'm gonna put it in there uh there we go so if i try"
2904160,2910160," to build this in there i think what is it talking about it is talking about uh an allocator proc is"
2910160,2916720," not a member of import mama cater this is actually very cool right so it's a different program a different"
2916720,2923840," problem uh so we just have to provide allocate the proc right so and it's kind of uh yeah so and this is"
2923840,2930320," literally what this function does right so uh this is what we have to provide let's go ahead and do"
2930320,2936960," that so you mama cater uh right we'll put it in here um and we're not going to really do anything in"
2936960,2944240," here so i suppose i'm going to just return new uh for now um and yeah so we can just continue okay"
2945040,2951280," cannot open file public wasm okay so this is because we don't have such folder where is the public"
2951280,2958000," uh yeah here it is so let's actually say that output is going to be like a current folder and we managed"
2958000,2959280," to create a wasm module"
2961520,2969840," f**k you f**k you f**k you about that how about that thank you so much epic uh god mcc for twitch"
2969840,2974720," translation thank you thank you thank you that's pretty cool that's pretty cool um"
2974720,2986800," what language does sodium use this is zig uh i'm programming the zig right now so um um yeah we don't"
2986800,2992560," even need this thing anymore right so we don't need this kind of thing anymore uh and uh yeah so that"
2992560,2998080," makes sense this is actually kind of cool system right so um and the only thing we have to do in here"
2998080,3012480," is just like implement this entire thing so it's a cabal yeah um now uh what we can do what we can do"
3012480,3018160," maybe we can actually still create this interesting system where like we have a public right so here is"
3018160,3024720," the public uh right and let's put all the wasm stuff in there because that kind of makes sense right"
3024720,3032640," so all the wasm stuff goes in there so in here uh this one's going to be public like this uh let's"
3032640,3039120," rebuild the whole thing and public went here that's pretty cool uh we might as well actually you know"
3040320,3048000," go here so i'm gonna copy paste all of the html stuff right so let's copy it in here"
3048000,3056240," uh i don't fully understand what is x ua compatible what what is that what is this parameter uh"
3056240,3060240," why not in russian could you please tell me that in english"
3060240,3067840," so annoying uh so it's big meta tech controls how internet explorer in this web page"
3070320,3082400," okay who fucking cares fuck you internet explorer uh or a viewport uh okay okay so initial scale one"
3082400,3089360," i honestly don't understand what's the point of all that but okay so this is the job as an example uh"
3089360,3094240," honestly i don't feel like i want to do any of that stuff in here right so i don't feel like i want to do"
3094240,3101920," any of that stuff in here uh right so german pages in german language pages in russian stream in english"
3101920,3113360," english exactly so mr worldwide mr worldwide oh okay so now uh let's actually go here and copy paste the"
3113360,3119520," runtime so this is the runtime what do we have on the runtime so this is the exported functions uh so this"
3119520,3128320," is the oh this is actually kind of cool wasn't debug break wait a second so you can have debug breaks in jai"
3129120,3132960," uh right so okay grab uh"
3132960,3148000," and of four x86 it's int it's literally in three i remember using this instruction to break uh when i"
3148000,3154640," was actually generating machine code directly for i think bfg do you guys remember this shit you guys"
3154640,3161760," remember this shit like a bfg bfg so i think i was using that specific instruction to debug this thing"
3161760,3170560," uh right so and depending on different platforms they just use different instructions and even for wasm"
3170560,3176240," it just called to this function and at the lower level in a runtime it is used uses the debugger thingy"
3178960,3184960," that's so so cool that's so cool that's so cool anyways um so let's actually take this thing and so"
3184960,3190800," the description i'm gonna put the stuff in here uh by the way i think i need to put a lot of other things"
3190800,3202640," things in here so also walloc wallow wallow wallow wallow wallow wallow wallow okay that's pretty cool uh so"
3202640,3213280," log dom i'm not sure if i care about this stuff instantiate text decoder console buffer uh write to console log"
3213920,3220080," all right so all that is useful i'm not sure if i want to log into like do wasn't like a log dom"
3220080,3224800," i don't think it's useful uh right so this is something that i'm probably going to remove"
3224800,3230960," uh so this is that oh i already copy pasted it right yeah i already copy pasted it so i can"
3230960,3240640," now safely remove shit so i'm going to remove that within that um now here's the bunch of imports blah blah"
3240640,3246400," blah blah main module so this is the simple very simple runtime i really appreciate the simplicity"
3246400,3251840," of the syntax like seriously thank you so much raphael uh very very simple very very good thank"
3251840,3258960," you so much uh sender send senderm936 40 miles of kitchen thank you thank you thank you all right"
3258960,3266640," so that's pretty cool now we can try to do python uh this thing oh it's already serving something i can"
3266640,3271600," i can feel that i can sell the sense that okay so it's already serving let's kill that let's restart"
3271600,3281760," this entire thing and is it working is it twerking uh-huh uh-huh uh-huh so ah this is because it's"
3281760,3290480," freaking okay so let's open it in chromium uh right so this is that but i have to yeah okay as you can see"
3290480,3296880," hello world right so we have our example right so we finally have that's pretty cool that's pretty cool"
3296880,3302320," so i can do full bar uh all right so and then i can review the whole thing hopefully uh"
3302320,3311920," and then i refresh yeah there we go it says full bar cool cool cool we have a like a you know the base"
3311920,3315520," we can write something we can write some game we can even write like a canvas game"
3316080,3320720," if you know what i'm talking about that would be actually kind of cool uh so let's go into the"
3320720,3328000," index html maybe so this is public index html and here we can just create a canvas right i don't"
3328000,3331760," really like the formatting of this thing i'm gonna bike shed a little bit i'm gonna"
3331760,3339200," fucking bike i'm gonna fucking bike shed you fucking back so uh html mode go okay okay"
3340480,3345760," bike shedding is almost concluded there we go the bike sharing has concrete i like this kind of stuff"
3345760,3353520," better all right so uh let's create a canvas so this is going to be id game right so this is what we"
3353520,3362400," have in here so canvas id game uh so we need to in the javascript in javascript we have to find that"
3362400,3369600," canvas first i believe so i suppose we have to do that when we loaded the assembly module right"
3369600,3377200," web assembly module right so here we loaded it then we extracted the memory then we called the main"
3377200,3380880," right so and then we just called main without any arguments that's actually kind of funny"
3380880,3391440," um yeah we just call the arguments but i suppose what we have to do in here is we have to also like set up"
3393040,3400480," uh the canvas right so let's create uh canvas right so this is going to be just a canvas"
3400480,3414240," uh to the two canvas um documents get elements by id game right so we have that"
3416000,3423120," i'll get element by id so and then we can have a context uh honestly i suppose i only care about"
3423120,3430800," ctx right so because you can extract canvas through the context right so you don't really need to keep"
3430800,3435680," the point of the canvas because it's inside of the context because of that you can just keep this thing"
3435680,3442480," as local thing as local thing and then for the canvas you can do canvas uh get context um 2d"
3442480,3450320," so in this case i suppose we can just do something like if canvas turned out to be new uh right we can"
3450320,3464720," throw new error uh no game element is found no no canvas with id game is found so that's kind of important"
3464720,3475680," then we do the context right so in the context is new uh right so it really matters honestly i don't feel"
3475680,3483840," like it matters right so yeah whatever so we can just do something like this even like that because"
3483840,3490560," we don't really have any like checks in here anyway uh right so we'll just keep it simple like that um"
3490560,3500080," yeah so what can we do in here we can introduce a couple of like external functions uh that would allow"
3500080,3508320," you to for example set width and height of the canvas right so just a second i'm going to do console log"
3508320,3515040," ctx right and let's rebuild the whole thing it didn't rebuild something went wrong i'm able to open first"
3515040,3521280," jai uh am i in the wrong place i feel like i'm in the wrong place honestly uh yeah i'm in the wrong place"
3521280,3526400," so this is this is what they're supposed to do in here there we go so refresh refresh this entire thing"
3526400,3535680," document document okay uh doc documents i don't even have to reveal this entire thing but yeah so here's"
3535680,3546000," the canvas and uh yeah we can do things with it um so what we want to do now right in the main dot jai"
3546000,3553760," i think we're gonna have we want to have functions that says something like a set canvas size right which"
3553760,3559200," accepts width which is an integer and height which is an integer but we want this thing to be like a"
3559200,3565440," foreign function if you know what i mean uh right so as of right now if we refresh and we take a look at"
3565440,3574160," the canvas its size as of right now is 300 by 150. this is not really what we want this is really not what we"
3574160,3584480," want so uh what we want instead is maybe set it to uh to something bigger 800 by 600 something like that"
3584480,3591440," so how do we mark it as an uh as an external foreign function so we already did that stuff in here no not"
3591440,3601120," um we can just look up we can just look up so here's the runtime c malloc or i think there was like um"
3601120,3613120," module probe opt jai this one and there was a default allocator and there's a module jai and yeah something"
3613120,3621280," like that it's just a foreign malloc right i think that's what we can say in here um right and then if"
3621280,3628720," i go to main.j i can just say something like this i wonder if it's going it's not it's not like that so"
3628720,3636480," set canvas size right if i try to rebuild this entire thing it didn't like that right because if i go to put"
3636480,3644960," colon colon colon in here and so it's not part of crt okay it compiled but if i try to refresh it now"
3644960,3651760," it will fail with missing function set canvas size which we can quite easily implement in here"
3651760,3660240," now uh right so set canvas size it will accept width and height uh like so and in here we can just"
3660240,3668080," do the city x i think it's just canvas width uh like so it's going to be width and it's going to be a"
3668080,3677600," height look at that so now if i refresh this entire thing uh okay so fail to set width property or something"
3677600,3694640," if you ever wondered why mem 64 is an experimental extension"
3694640,3704160," this is a very good example like this is literally why it is experimental because again javascript is a"
3704160,3710480," fucking toy scripting language it's a fucking toy scripting i'm fucking telling you it's just like"
3710480,3723760," yeah so uh modules like wasm32 modules 64 modules are not drop-in replacement for 32 ones"
3723760,3732560," existing javascript code that operates with 32-bit uh modules will break if you replace it with wasm64"
3733440,3739440," this is a fucking joke it's a fucking joke and it's literally gonna kill wasm"
3739440,3746800," at least it errors instead of silently track agent yeah so that's at least something"
3746800,3757680," uh so the question is how big is the big int uh your mama kind of big i think it is actually um so let me see"
3759840,3768480," so node uh big int uh big int right so it's something like that and as far as i know you can just"
3768480,3782160," i don't know keeping it fine maybe so let's do x uh and put big int n oh wait a second i think you can"
3782160,3789520," just do one n and that's already considered big int right so that means you can do 69 can i actually do a power"
3790720,3798880," uh of this thing uh of this thing uh convert big int value to integer okay is there math on big ints does anybody know"
3798880,3806320," uh is there math on big ints like a power huh that'll be interesting actually"
3807760,3818400," uh just a second uh just a second just a second big uh int big int math javascript uh big int"
3818400,3828800," math oh you can actually do that through okay so you can parse strings and shit all right so i can do big int"
3831040,3833920," all right"
3833920,3835920," all right and then"
3835920,3846160," so it's basically long arithmetics right so that's how big they are"
3847680,3856560," um my int is very big so yeah it is the answer is it's your mama kind of big um it's like in python"
3856560,3860320," i suppose right so in python also by default they're that big"
3863600,3865360," yeah you can't even see that but"
3865360,3867920," um"
3867920,3875200," uh it doesn't have a max value property like number i don't think so uh i don't think it has because it's"
3875200,3883040," infinite right so it's just like we'll occupy all the memory um so big paint yeah yeah there's no such"
3883040,3887920," thing as max value it's just like goes indefinitely right it's a long arithmetics if you never heard about"
3887920,3895040," long arithmetics uh google lab long arithmetics uh and actually long arithmetics is a pretty cool"
3895040,3903120," exercise in computer science um right so arithmetic arbitrary precision arithmetic so usually it's"
3903120,3909280," implemented by like through an array of integers right so people just allocate an array of integers"
3909280,3914800," which represents like a very long number that is beyond 64 beats so it's a very interesting topic"
3914800,3919440," i actually never streamed long arithmetic topic even though like i'm sort of into computer science"
3919440,3924880," and it's a pretty cool computer sciency topic i never streamed that maybe i should do that because"
3924880,3930320," it's kind of cool implementing like long edition long multiplication division and stuff like that"
3930320,3936880," it's rather cool it's almost like it feels like writing an algorithm for column addition and column"
3936880,3941360," multiplication and stuff like that that would be cool yeah that would be cool it's it's a very cool"
3941360,3948160," exercise this is something that we did in uni right so and uh like i have a cs major right so in uni we"
3948160,3957520," did the long arithmetics um so yeah anyways anyways anyways anyways anyways so yeah javascript is a"
3957520,3964720," toy scripting link uh and i suppose what do we even have to do how do you convert like a big int to a number"
3964720,3977360," uh right so javascript big int to number number gamba okay so it's just a just a number"
3977360,3990160," uh straight up converting it uh okay so number 69 yeah it works it works it even i would say it works"
3992160,3997440," oh so this is that okay so now if i try to"
3997440,4010000," you know what that means no other things that means the uh new lines in the file are windows new lines"
4010000,4011360," aka those new lines"
4016000,4021920," this is because i copy pasted that file from the examples and this is the language developed by game"
4021920,4025920," developers and game developers obviously use operating system for video games"
4025920,4032240," and now i have video games line editing line endings in my source code"
4035120,4039520," god damn line endings for video games"
4039520,4041520," whatever"
4041520,4046880," line endings for video games"
4046880,4051120," i just can't"
4051120,4059520," um sanitize your laptop immediately that's what i have to do there was a way to actually convert that i"
4059520,4071520," think uh convert uh encoding um okay emacs change line endings to unix yeah so there was a there was a way to"
4071520,4080240," do that i remember that i can remember that bruce uh set buffer file including yeah set buffer file encoding"
4080880,4081440," unix"
4081440,4083520," look at that"
4083520,4086480," sanitized sanitized"
4086480,4090160," sanitized let's take a look at the rest of the files"
4090160,4093200," disgusting"
4093200,4096000," uh so"
4096000,4099440," perfectly"
4102160,4108000," all right all right so we're gucci where tamaguchi and i think this one yeah everything's fine"
4108000,4114960," cool cool cool uh what i was doing yeah so if we try to compile this entire thing uh all right so we"
4114960,4120400," try to compile this entire thing and uh refresh this entire stuff and then take a look there we go"
4120400,4122800," look at it ah"
4122800,4131360," so as you can see it it reacts to that so we managed to set the size of the canvas from jai"
4132160,4135840," uh right so every time we need some sort of a special function in there we'll have to sort of"
4135840,4144000," propagate that function uh i wonder if i can i don't know like clear um with a particular caller"
4144000,4152320," um clear with cola and i don't even know how i can do that so the easiest way for me would be to maybe"
4154080,4160160," yeah just pass things like that right so zero zero zero and the xff um"
4160160,4163040," all right and then i can just say"
4163040,4172000," something like this i wonder if there's like a u64 is there u8 there is a u8 okay so that means i can"
4172000,4180000," just grab this thing boom boom boom boom boom boom i want you to trim my room okay so in this one is"
4180000,4190640," going to be something like that cool and clear with color so we set canvas size and clear with that"
4190640,4198960," specific color we can now try to rebuild and if i refresh it should fail with no such function which is"
4198960,4205520," understandable perfectly understandable let's implement this function right so and this function is going"
4205520,4215360," to accept rgba and since by the way since i passed them as u8 i suspect they're not going to be big"
4215360,4223120," integers right so we can even try to check that so we're going to do console um can we just do something"
4223120,4235520," like args and just log args or maybe even clear with cola with cola like this all right so i'm gonna what"
4235520,4245200," the is going on what the okay so i just run it from a wrong folder okay that's fine uh unexpected identifier"
4245200,4262560," okay so this is what we got and all of them seem to be like numbers they seem to be like numbers but"
4262560,4271280," here is the cool trick now if i replace all of these things with integers rebuild this entire thing refresh it"
4271280,4277040," look at them they have ants at the end which indicates that they're big ints so that means i"
4277040,4285120," could have actually done something like u32 in here and because of that i wouldn't probably wouldn't have"
4285120,4291680," to this do this kind of stuff right so because they're going to end up being 32 bit integers which are"
4291680,4297520," representable by normal javascript numbers uh right so i could have done something like that is that a good"
4297520,4302480," idea i think it's a pretty cool idea honestly uh right so i'm going to replace this with u8"
4302480,4308560," let's rebuild that refresh that everything's working everything's twerking look at that we figured it out"
4308560,4317040," we figured it down uh so okay so we just need to implement the clear with caller how we're going to be doing all that"
4317920,4329280," um so let's let's take rgb rgba and i suppose so since they are values from 200 to 55 right i want to kind of"
4329280,4340240," i want to parse them as yeah there is a very annoying thing is that if you work with canvas you can only use"
4340240,4348560," styles right so you have to do ctx fill style which is insanely stupid right and i usually i remember i had"
4348560,4357360," a function that given the values of the components of rgb it will create you this style string"
4357360,4363040," right so because the way you specify the colors in javascript is like this"
4365520,4368880," it's not really javascript but in the browser uh so"
4368880,4381440," it's so goddamn stupid i swear to god like if you told uh told that we have to do like that in 2024"
4381440,4388640," people who were doing serious programming like 20 years ago they would think that you're crazy honestly"
4389440,4395120," right like several decades ago this kind of was not acceptable in engineering culture"
4395120,4400960," this kind of was like straight up not acceptable in engineering culture honestly"
4400960,4411280," uh but but now it's it's considered the norm right the good example is that like electron for instance"
4411280,4416160," when i only started to do programming in zeros somewhere right in in the middle of zeros"
4416720,4424720," uh we were joking around with like embeddable internet explorer element you know there was an active"
4424720,4431760," x do you guys remember what is the active x uh active x uh in english please"
4431760,4440400," so there's active x and through active x you could kind of embed an internet explorer element into your"
4440960,4446560," uh into your native application and we were like kind of joking imagine like writing native"
4446560,4452400," applications in html and javascript and then wrapping them with the active x element and like just"
4452400,4459280," saying that this is the application holy this is so funny that is stupid this is not viable nobody in"
4459280,4466400," their right mind would do that but this is a funny joke 2024 this funny joke is a reality"
4466400,4472160," apparently and it's so fucking stupid the fact that uh it's not even considered to be weird"
4472160,4479200," that's what weirds me out it's just like this must be a joke no it's not a joke like everyone's doing it like that"
4479200,4480800," um so"
4480800,4492480," uh yeah top 10 pranks that go too far like when i first heard about the idea of electron like i my first thought was"
4493200,4499920," that that that cannot be right this is a joke right so this this must be a joke this is not a real serious"
4499920,4508880," like a solution no it is not a fucking joke some people not only did that but the content was also adobe flash"
4508880,4514000," well okay let's continue it um right"
4516160,4522880," um so i i'm gonna just go ahead and steal some code from my other things so"
4522880,4525920," i think i did this kind of stuff in olivets"
4525920,4529120," olivets olivets"
4529120,4537040," okay so uh what do we have in here so i think there was something about the colors"
4538560,4541360," i don't think so it was not about the colors"
4541360,4547520," where did i do that does anybody remember in which project i did the color thing in"
4547520,4557360," um i did the rgb thingy i think i did that literally in jai break i think that's where i can steal this kind of"
4557360,4567600," uh let me let me let me go here so sodding a jai break uh jai break let's actually clone this thing"
4569280,4589440," so jai break jai break so j s uh rgb cola text cola okay"
4590560,4606640," all right let's fucking go let's fucking go so we're gonna put it in here uh and we just set"
4606640,4620240," okay hex cola uh rgb a b a so and then we're gonna do ctx fill rect 0 0 ctx canvas width"
4620880,4630720," ctx canvas canvas height not hex color height you dummy dumb dumb all right so and that's it right"
4630720,4638640," so just do fill fill rect and and okay so let's try to rebuild this entire thing uh and if i refresh"
4638640,4646960," this entire stuff it didn't fucking work clamp is not defined"
4654960,4661440," uh okay so load js uh-huh i see"
4661440,4670720," fair why don't we have clamp in javascript in 2024 can anybody explain to me look at that look at that"
4670720,4675600," why is it yeah okay so that that's perfect so and the color is actually set from jai"
4675600,4682480," actually i think that's pretty cool i think the fact that it's set from jai is super freaking cool so we can"
4682480,4688320," change it to something else right so it could be something like green now uh right so we can reveal"
4688320,4692800," that and now it's green right so we're modifying that from jai and it's not that even hard"
4692800,4699600," uh it's not even that hard and what's funny is that we don't have an allocator yet right"
4701040,4714880," uh that okay so what went wrong i don't understand"
4714880,4725440," light gray but it's not light gray it's actually it's supposed to be super dark"
4726720,4732560," so something is weird so we take r"
4732560,4738240," this motherfucker assumes that their value from zero to"
4738240,4741760," it's for floats"
4741760,4747120," we can do floats i mean who said we can't do that we can do floats"
4751280,4760000," so it's gonna be one it's gonna be one if that's what you're into we can float and"
4760000,4765920," then uh i can just do 18 divided by 255"
4765920,4770560," and just repeat that thing three times"
4772640,4782720," and boom ski uh got you got you got you got you got you so that's good that's good uh now we can"
4782720,4789520," maybe even i don't know uh fill the rectangle um interestingly enough"
4789520,4794720," we need to be able to pass the color as a structure or something"
4794720,4807280," uh so if i introduce something like color um color which is a structure uh and then we're gonna just"
4807280,4818800," have something like this g d a what if i say that yeah we just pass a color how the color is going to look"
4818800,4827520," like in this specific case uh it's basically like uh with uh with ray deep right so ray deep have this"
4827520,4832880," structure so it fits into a single sort of integer i feel like it's not going to be uh passed as an"
4832880,4843280," integer right if i do some some shit like that uh if i do something like r 255 and then g uh g which is"
4843280,4851520," is zero b and a which is also 255 right so something like that if i try to do something like this"
4851520,4859360," in um uh what is it called what is the function called clear with color right so clear with color"
4859360,4866800," let's take a look at the color and add its value so this is called color i just want to do console"
4866800,4874160," log color color and uh let's rebuild in that thing okay so let's open this thing and what we have in"
4874160,4882080," here okay this is an interesting value um it doesn't look like a pointer at all that's the thing it"
4882080,4886400," doesn't look like a pointer at all if i set"
4892240,4893600," if i just do something like that"
4893600,4907600," bingo it actually fits the whole structure into an integer this is amazing bro this is really cool"
4907600,4918480," right so it literally packed all of that into 30 like unsigned 32-bit integer uh so we can actually"
4918480,4923760," pass it like that we don't have to deal with weird uh point us to the structures or anything like that"
4923760,4928800," uh right so we can just pass it like this but the thing is that on the javascript side we'll have to"
4928800,4935360," uh parse that integer i'm not sure how easy it is to do that so let's actually do something like a a"
4936080,4950400," uh bb b b b b b c c d d d right so we have something like that and in runtime right clear with cola"
4950400,4961200," we can try to do something like a mod to 255 right uh all right so and it's uh actually negative how can i"
4962800,4967360," so the fact that it's negative how can i interpret it as unsigned"
4967360,4976480," is there any way for me to interpret it as unsigned uh you should do bit shift if i have to"
4976480,4985200," do bit shift i probably have to do beat masks as well uh so yeah do i have like this"
4986080,4999280," uh-huh so how do i do it to hex hex hex uh to string to string 16 uh-huh"
5003360,5016800," okay so now we can do caller just eight beats like this all right so refresh that ah ah ah we figured"
5016800,5023520," it out okay so that's that's going places brov and this is going to be the last one i think 24 or"
5023520,5025280," something a a b b b c c d d"
5025280,5035840," ha ha so we can even do something way cooler right so we can make them all eights but it's going to be"
5035840,5045280," more like zero um all right so there's one eight two and this is going to be eight three"
5046640,5052880," brovski all right and that's already kind of exactly what we want so the only thing we have to do in"
5052880,5060240," here is just like do something like this right so just like past it paste it in here um all right"
5060240,5073360," and uh we can kind of now save all of that stuff to either r g and b or whatever so this one's going to"
5073360,5091920," the g b a uh console um console log uh huh and um this one is just r g b a boom"
5091920,5094480," wait"
5101200,5110560," yo and if we take a look at that that is on point so let's also replace this thing with zero"
5110560,5119680," all right and check that it is working correctly there we go so that actually sets the colors correctly"
5119680,5129600," that is amazing honestly right that is amazing so now i can do like ff in here uh all of that stuff"
5129600,5138160," becomes zero and alpha obviously i want to do ff so and in here i can just do the style so just set this"
5138160,5147120," entire stuff to the style uh-huh so this is the style like so and just draw the rectangle like this"
5147120,5157120," boom look at that that's a red one so now here in uh here i can quite easily can i get rid of this"
5157120,5164640," so it will make it easier for me so it will make it easier for me to do yeah i can so now i can just do"
5164640,5175600," okay green now rebuild green okay blue rebuild blue perfect so now i can just do something like this 18"
5175600,5186080," so that's going to do what happens if you add another field uh well it's probably will overflow and"
5186080,5195920," return you and turn it into that depends actually that's a very good question so if it's overflows 32 bit"
5195920,5208640," maybe it will pack it into um 64 but yeah can you clear with color we could right so we can literally"
5208640,5214640," just turn it into 32 and the code is basically going to be the same i think i think it's going to be"
5214640,5221280," basically the same clear with color uh so but it the order is going to be different so the first one is going"
5221280,5230960," to be a so alpha and then b uh b green and red so if you want to have red it's going to be something like"
5230960,5241280," this right so yeah this is red so to make it green you have to do it like that all right so so to do"
5241280,5247040," actually put in a different order you have to parse it differently in runtime but i feel like i kind of prefer"
5247040,5253040," the structure right with the structure it's a little bit more type safe so to speak right more"
5253040,5258480," type safe okay so we have this kind of stuff so the reason why i wanted to to to make it like this is"
5258480,5264480," because if i want to feel erect right uh essentially what i want to be able to do i want to be able to"
5264480,5274960," provide x um the i32 is is that s yeah so let's actually do s uh so y width which is also s32 height"
5274960,5284960," s32 and then color which is the color right so that's what i wanted to do um like this and this is"
5284960,5293120," going to be feel uh feel erect so we clear with color uh so and we can actually factor out this thing to"
5293120,5304320," background color like this right so here we can say back uh background color which is cola like this"
5304960,5309920," right right and we don't even have to do that so that's the background we can even introduce foreground"
5309920,5318800," color which is this is going to be red uh all right and then we can feel erect uh zero zero"
5318800,5327680," 100 100 foreground color foreground color like so as you can see we're slowly developing our like sort of like"
5327680,5336480," ray deep ray leap uh library right and we don't have a feel erect right so we just have to implement this"
5336480,5346560," entire thing all right so let's go ahead and just implement it and so here's that uh so in here we"
5346560,5352400," always accept x y uh so let's actually accept all of the arcs because i don't want i want to take a look at"
5352400,5362320," them but i just want to take a look at them um now and it is so it's console log uh feel erect"
5362320,5373280," so now uh it's orgs like so so let's recompile i don't think recompilation is required in here but we"
5373280,5378960," can recompile yeah there we go so all of them are integers everything's fine so i feel like these things"
5378960,5386080," should be factored out into separate function and that function could be hex color uh right"
5386080,5396000," but in this case we just have to accept only one hex color let's call it parse color all right"
5396000,5402880," so this is parse color uh and this is what we oh that's a funny way to do that i don't know why i did"
5402880,5407840," that through what is it called string interpolation but we could have just concatenated all the strings"
5407840,5416160," all together maybe i'm just stupid that's fine it's okay being stupid chat it's okay being stupid"
5416160,5422720," so because of that i can just do parse color right and something like this so when we feel direct"
5422720,5430960," we just do that uh right so and the color is one of these things x y w h color okay so then we do ctx feel"
5430960,5441920," rect i said rect rect it's x y w h and that's it so that enables us to draw a rectangle here and also"
5441920,5449600," with different colors right so we can even customize and specify and so on and so forth look at that now"
5449600,5457360," it's a it's a green one uh we can even maybe uh put it at the center right to put it at the center we need"
5457360,5462640," to say and you need to know the size width and height of the window and stuff like that we can put it into"
5462640,5472800," width 800 and this one is going to be height uh 600 right so this is a 600 so this is width right so this"
5472800,5482000," is height and here uh let me think so maybe we're going to have a rect width which is going to be 100 and"
5482000,5490320," uh a rect height uh rect height which is also going to be 100 and the way we're going to do that is that"
5490320,5500080," like it's located at the center so it's a width divided by two minus rect width divided by two since all of"
5500080,5507680," them are integers so we can combine this stuff together uh right so and then uh we can put this"
5507680,5514240," stuff like this so it's going to be also uh height you can't see shy saying this means but that's fine"
5514240,5522240," rect width uh rect height boom i'm gonna rebuild boom it's at the center so we can already develop games"
5524080,5530880," uh we can already develop freaking games so it'll be kind of cool to also you know maximize this entire"
5530880,5537120," thing on the entirety of the screen right so uh at least like center the canvas right it'll be kind"
5537120,5543360," of cool to center the canvas we can kind of do that i think uh but i'm already streaming for one hour um"
5543360,5548080," so i think the time has come for me to make a small break and refill my cup of tea i ran out of a freaking"
5548080,5553360," t so let's make a small break and after that we're gonna get to you all right so let's continue so what"
5553360,5561040," can we do in here uh i want you to actually sort of center the canvas um somehow right so i already"
5561040,5567520," uh did that trick with coil right another game that i'm kind of developing in on the back burner"
5567520,5574800," right so the cool thing about coil is that look at the canvas right it's sort of like uh always centered"
5575440,5581600," no matter what right and it's always stretched right so it automatically stretched to fit uh the"
5581600,5587440," entire screen right so it's it's a trick that is actually done not in javascript but entirely in css"
5587440,5594320," uh so if we take a look at the assets um it's not really in the assets i think it's straight up in the"
5594320,5603920," index html yeah there we go so we're using media queries specifically we're using media queries uh so"
5603920,5613120," when the minimal yeah when the minimal aspect is 16 by 9 we're transforming it one way when it's not"
5613120,5621360," we're transforming in the other way right so that's basically how it works uh so usually if this is the"
5621360,5630720," minimal aspect that means uh the width is greater than height so we can just position it one way otherwise"
5631600,5636880," means that height is actually greater than width we have to position it differently right as you can"
5636880,5643120," see right so we just translate it differently in here and uh i can put it in uh in my code as well"
5643120,5652880," so this the tag is just style right so let's go into the public uh right index html and let's find the"
5652880,5660880," tag style style uh style so and i can simply copy paste this code so i think i'm also going to use"
5660880,5666480," the color for the background and stuff like that uh though for the color for the background the background"
5666480,5671360," right now is actually the same color in here so i don't think it's going to be good so let's remove that"
5672080,5678800," right now if i yeah there we go so that's what we have in here look at it look at that and now if i even"
5678800,5686160," so magical css magical css that allows you to automatically do these kind of things"
5686160,5690240," so cool that it like no javascript is involved in here i really like that"
5690800,5700160," um so maybe we can i don't even know um so because there is a little bit of a padding in here at the"
5700160,5707200," at the top as you can see uh and this is due to uh like you know default settings for different"
5707200,5712240," elements and it's going to be i suppose kind of different between different browsers and this is one"
5712240,5719440," of the reasons why in this specific code actually copy pasted reset css right and reset css is very"
5719440,5725840," cool concept right i'm not sure how many people are these days are familiar with the reset css concept"
5725840,5731920," but the idea of that concept is that you basically reset all the possible defaults of all of the possible"
5731920,5741040," elements so then you can have a css that is the same across all the browsers right so because all css"
5741040,5745920," may look different across different browsers because of the slightly different defaults you"
5745920,5752960," just reset all of them to zero and then you build your css on top of the completely reset css right these"
5752960,5758160," days i suppose people just use like css frameworks that do that for you so not that many people maybe"
5758160,5766880," even know about such concept as reset css uh so i didn't know that i don't know i kind of worked uh in a"
5766880,5775440," company that was doing web development a little bit in early 10s before all of the frameworks before"
5775440,5780160," uh like javascript frameworks css frameworks and stuff like that a lot of stuff we had to develop"
5780160,5786720," ourselves and because of that i have like this kind of like a lost web knowledge that nobody knows because"
5786720,5793280," everything is abstracted with frameworks uh it's a known thing yeah so and what's funny is that is that i"
5793280,5798720," i didn't even work as a web developer i there i worked as a c plus plus developer for the desktop"
5798720,5806000," application right but we also have the web version right and the team uh the teams for web version and"
5806000,5811840," the desktop version were sitting in the same office so we kind of like a learned different knowledge by"
5811840,5819360," by osmosis right so the uh desktop native desktop developers learned some web stuff uh right so and"
5819360,5824320," the the vice versa it was actually kind of cool um the idea of actually putting different teams in the"
5824320,5829760," same room the teams were actually really small like two to three people uh was insanely useful right so"
5829760,5834720," we were sitting in the same room and we're kind of like exchanging knowledge uh and stuff like that so"
5835600,5843600," it's kind of cool i was inclined to push back against uh deleting the scripts from one of our projects"
5843600,5847760," because zoomers thought it's too old so we don't need it okay"
5847760,5856800," um rest in peace desktop developer everything and now electron garbage i will there's quite a few like cube"
5856800,5866880," garbage uh so i don't know uh for example chat arena uh is implemented using cute and c plus plus and"
5866880,5872000," believe it or not the reason why it is not using electron is precisely because electron is fucking slow"
5872000,5880560," right i think right so i think that that is so we probably have a like maybe some chat arena developers"
5880560,5885200," in the chat right now so they can probably confirm or deny that but i feel like one of the reasons why"
5885200,5889600," it's c plus plus cute is because electron is fucking slow right so"
5889600,5900640," and chat arena is actually designed to withstand like very intensive twitch spam right so and it has to"
5900640,5907760," be fast it actually has to be fast um anyways so let's actually copy paste the reset css uh i think i want"
5907760,5921040," i want to do that from here all right so where is that yeah i can go and copy paste that stuff here"
5921040,5928560," let me take a look at the beginning yeah that looks good and now if i refresh that padding went away"
5928560,5936560," do you remember that padding it just went away right so because we reset all the possible defaults for for for this kind of stuff and now"
5936560,5941760," uh this is this is this is the game that we have this is the game so the problem with the game is that"
5941760,5949840," we don't really have like an event loop um through which we kind of interact and stuff like that but we can"
5949840,5960240," implement that i think we can implement that so we probably want to have um some sort of a function update"
5960240,5967760," update frame right right which is going to i suppose accept delta time right between the frames and stuff"
5967760,5975920," like that uh right and it needs to be called uh constantly by javascript to be called by javascript"
5975920,5983360," we can expose this entire thing or we can introduce another foreign function which is something like set update"
5983360,5988560," frame right set update frame right set update frame which is going to accept a function pointer"
5988560,5993440," right so uh yeah let's actually maybe call it as a function like this"
5993440,6000640," and uh this is going to be um i guess like dt float is that how we do that"
6000640,6005520," how would you specify a point to the function right especially the function doesn't return anything"
6005520,6014960," do i do something like void no i don't think so is that how you do that um i wonder if float will be"
6014960,6021120," big float i don't think so a float is probably going to be 32 bits because a memory 64 is specifically"
6021120,6024240," for addressing memory and you don't address memory with floats so"
6024240,6030560," so no i think it's going to stay full"
6030560,6035840," imagine like a"
6035840,6044880," an architecture with continuous memory well you do well i mean it's technically still truncated to integer"
6044880,6048640," when about to actually access memory so you still actually address with integers"
6049760,6054320," so uh you understood you perfectly understood what i meant you're just shitposting um"
6054320,6059680," so yeah imagine the architecture where the memory is addressed like"
6059680,6064480," where memory is actually not discrete bytes but actually continuous"
6064480,6073920," that's interesting how do you read and write from that memory okay uh so it's sort of like a continuous function"
6076640,6081600," that's pretty interesting that's pretty interesting and that's pretty interesting and maybe you actually"
6081600,6087840," sort of like apply the compositions of functions on the regions of memory"
6087840,6098800," i just got a wild idea i need to test it out on a paper right but i'm going to do that after this"
6098800,6104240," change so just a continuous memory right which you read like you know"
6105520,6111680," from continuous address with floats and you write through applying continuous functions"
6111680,6123440," anyways so i'm not sure how this works right so um yeah so is that cool is this going to be like"
6123440,6126960," a function pointer i think this is going to be a function pointer that accepts a single phone but"
6126960,6133600," doesn't return anything uh and if we manage to implement that uh there should be a way to set"
6133600,6142000," update frame update frame like that uh right so the first thing we want to do by the way we want to set the"
6142000,6149680," canvas size right then we initialize the update frame and within the update frame we do the actual drawing"
6149680,6155680," so this is basically how i want to organize my sort of framework uh right so afterwards let's try to build"
6155680,6159440," this in that thing and this just compiled"
6159440,6170000," okay so it apparently this is a pointer to a function that accepts a single flow but doesn't return anything"
6170560,6178880," well i mean it makes sense the syntax is consistent but in this specific case it just looks goofy"
6178880,6186080," honestly okay fair enough fair enough good sir uh all right so let's actually take a look at that stuff"
6186080,6196640," um so what do we have in here so obviously ah aha so compiling function call expect this isn't expected"
6196640,6198560," honestly um"
6198560,6203680," what is wrong in here"
6203680,6211520," uh compiling function failed call zero expected i64 before get i32"
6213600,6218560," i feel like this should not be a thing we're in the chromium right and we take a look at the chrome"
6218560,6221200," flags here is the memory 64"
6221200,6228160," foreign alias i think foreign alias foreign alias uh did i for uh"
6228160,6232960," ah yeah thank you so much okay"
6232960,6237840," yeah that that was the case okay so let's try to recompile this thing"
6237840,6243360," okay now we're talking so set update uh right and what i want to do"
6243360,6246960," is now implement this entire thing so it's going to be runtime js"
6246960,6255680," so let's grab this thing and set update function so it's going to be f"
6255680,6263520," and let's just do console uh console log f let's take a look at it"
6266720,6271360," well missing function still uh because of this um"
6271360,6277760," did i forget to"
6277760,6282560," am i"
6288320,6297680," i think i'm going to click on this one"
6297680,6297920," i think i'm already going crazy set update frame all right so here is the function it's external one"
6297920,6300000," here is the one am i looking at the"
6302880,6315440," i think i'm not going to click on this one am i think i'm going to click on this one"
6315440,6316560," i'm going to click on this one"
6316560,6317200," i'm going to click on this one"
6317200,6318000," i'm going to click on this one"
6318000,6319360," i'm going to click on this one"
6319360,6320480," i'm going to click on this one"
6320480,6321440," i'm going to click on this one"
6321440,6322080," i'm going to click on this one"
6322080,6322960," i'm going to click on this one"
6322960,6323840," i'm going to click on this one"
6323840,6328080," so so and what's funny is that the point of the function is three"
6328080,6336720," you know why because functions are not stored in the memory uh the functions are not stored in"
6336720,6343520," the memory they're stored in function tables so let's take a look at where we can find that"
6343520,6353040," function super quick so oh here's the thing so we have allocated right so here's the allocated so"
6353040,6360080," we store only uh the memory exported memory but then we instantly forget the entire object we"
6360080,6365120," actually never store that object anywhere uh so let's actually do the following thing i'm gonna"
6365120,6377040," constantly log the obg the dada g all right so and in here we have instance we have exports holy"
6378800,6384960," and there should be a table i think it's a module where is the table um"
6384960,6397360," so here's the tables though tables doesn't seem to be experts yet so among the experts we do have"
6397360,6405840," memory right so where is the memory here's the memory and maybe here we can have some function pointers"
6405840,6418240," so in those libra in those libra in those libra uh we had a similar situation i think"
6418240,6425840," uh we had a similar situation so i'm gonna actually copy paste it in here for anyone who's interested"
6425840,6433200," and for people on youtube potentially i'm not even sure if i'm gonna upload it to youtube but uh so just in case in the description"
6433200,6440240," what we are doing we have to compile it in a very specific way"
6440240,6448240," um in this source code how do we accept the tables right so table"
6448240,6458480," indirect function table that's the thing we're interested in right so it's an indirect function table let's find it"
6458480,6466000," and there's no such thing in here in export so it has to be in export but it's not in here at least i don't see it"
6466000,6478480," so there's an intimidation first um indirect function table it is not a thing so the way we expose the indirect function table is by compiling it with a special flag"
6479200,6486240," which is called uh export table which is called export table so this is one of the things we have to do we have to export"
6486240,6495040," the table but we have to pass it to the linker uh right so if i go into the first main um"
6496480,6503200," in example somewhere in example somewhere we had an example how to pass additional stuff to the linker"
6503200,6511440," uh specifically something about the stack yeah there we go so there's options additional linker options"
6511440,6517120," this is probably what we have we have to do in here uh so here it is additional linker options and"
6518240,6528880," uh we are going to do something like um expert table that's what we're gonna do expert the table"
6528880,6537360," um i roughly remember something like that roughly so like this is something that you just have to know"
6537360,6540960," right and if you don't don't know about this kind of stuff you're probably gonna spend a lot of time"
6541520,6546880," uh you know fiddling and trying to find and troubleshooting and stuff like that but it is"
6546880,6556240," what it is so if i now there we go here is an indirect function table and in that indirect function table"
6556240,6562160," we have a bunch of things right we have a bunch of things and each of them is basically the function"
6562160,6569360," function pointer is an index within that indirect function table right that's what it is so and that"
6569360,6575200," means if we want to call the update frame we have we have to call the function at the index 3 in the"
6575200,6581360," indirect function table in here so we have to call this one uh right and as you can see literally update"
6581360,6588400," frame we got it so that's how function pointers work in web assembly they are not stored in the memory in"
6588400,6595280," the data memory but they're stored in a separate memory which is called the function table right so in case"
6595280,6599760," of x86 64 they're literally in the same memory whereas the data but in the web assembly they're"
6599760,6603840," separated probably for the security reasons uh i assume so"
6603840,6613360," three n is three yes it is three n suffix n indicates that it's basically big integer"
6613360,6620400," right so it's it's essentially beginning so if you add it's too big three n plus one"
6620960,6627920," uh plus n that goes so it's four n so the thing about big integers is that they can be this kind"
6627920,6635680," of big right so they're super big and of course you have to do plus one right so longer authentic integers"
6635680,6645120," and you need them for memory 64. okay so that's basically what's going on in here uh indirect um so what"
6645120,6649040," was it was called was it was called indirect something something completely forgot its name"
6649040,6658320," so let's just copy paste it just in case uh indirect function table so in in a runtime uh we're gonna have"
6658320,6672480," a function table like this and along with um along with the memory we're gonna have function table obg instance"
6673520,6685600," um obg instance exports indirect function table right so and now what we can do we can have update frame"
6685600,6693600," update frame and when you set update frame what we do in reality is maybe i can even"
6693600,6700320," you know set it as like an empty function that doesn't really do anything it's just an empty function uh right"
6701360,6713440," so update function function function table f like this right so and now it is callable you can just call"
6713440,6719680," it you can just call it perfectly fine uh so and when you're calling it you're going to be calling into"
6719680,6730160," webassembly right so that's what's going on here anyways uh so when we got the um the context"
6730960,6738080," here we call domain now we have to organize the event loop so i forgot how to do that so it's something"
6738080,6746400," like a request animation frame or something javascript request animation frame uh right so that's what we"
6746400,6752480," have to do in here request animation frame that's that's the thing so we have to also do the callback"
6752480,6759600," it's actually through the window right so window request animation frame so and this one is going to be"
6759600,6765840," be basically the first thing uh right so and it also accepts the timestamp we have to keep track of the"
6765840,6775920," timestamp honestly um right so afterwards we keep track of the previous uh timestamp initially it's undefined"
6775920,6782560," right but the first thing we do at the first frame is we're saving the previous timestamp and we're"
6782560,6789040," scheduling the next animation frame which is going to be something like this so uh this one becomes"
6789040,6799120," frame uh right and in here also we accept the timestamp right so we accept the timestamp um we"
6799120,6806640," compute delta time right delta time we take the current timestamp minus previous timestamp and as far as"
6806640,6812400," now it is in milliseconds so we have to divide it by one thousand right maybe we can even multiply it by"
6812400,6818800," one thousand right so this is that the time and we have to save the previous timestamp"
6818800,6827360," again after that we call update frame with the delta time with the data time and we are rescheduling the"
6827360,6833600," frame yet again so that's how we're going to be organizing the loop and calling the update frame continuously"
6833600,6841680," and effectively we are calling this function right effectively we're calling this function in uh in"
6841680,6847200," jive okay so i didn't really have to recompile it but i mean i did it just in case so let's take a look"
6847200,6854080," at that and update frame is not a function yay that's pretty cool i wonder why was it what is it then"
6854080,6861200," uh so let's troubleshoot i suppose let's go ahead and fucking troubleshoot set even though i call it as a"
6861200,6868400," function right so it's set update frame if i just don't do this kind of thing don't do this kind of"
6868400,6875760," thing uh right so and then i just refresh this and i think it's totally fine right so something is wrong"
6875760,6886160," with this function table we can just do a console log update frame just to explore what is the update it's"
6886160,6893280," undefined which is rather funny so what's up with the function table in that case uh function okay so it's"
6893280,6905520," function table so and all right so this is the function table this is f okay so and getting i think at that"
6905520,6913040," specific place i probably use the function tables incorrectly so that's that's yeah so because i'm pretty sure"
6914560,6923840," um um oh right so yeah you probably do get in stats yeah i swear to god you just do get instead"
6923840,6932400," uh convert big integer to a number okay so that's understandable that has to be a number uh"
6933760,6937680," uh only then it works uh only then it works are you serious"
6937680,6947760," so the function point is a big integers but tables do not accept begin this might be a fault of"
6947760,6959600," of lvm and lvm might be actually i think it's a fault of lvm when it passes a function pointer to javascript"
6959600,6970240," environment it uses big integer but functions are not addressed by big integers even in memory 64 because"
6970240,6979680," they are not located in 64-bit memory this is a miscommunication between llvm and uh you know v8"
6979680,6985360," implementation it must be miscommunication between these two things which is funny"
6985360,6997040," anyway so because of that i suppose i can i can just do it like that right so um now i i must use get"
6997040,7003680," okay i i literally must use get otherwise it's not gonna work okay figured it out figured it out"
7006800,7009200," and could not convert"
7009200,7012080," aha"
7012080,7025360," big okay convert this to big int uh-huh at 75"
7025360,7030080," and i have to"
7032320,7033520," update frame"
7033520,7036720," update frame accepts big int"
7036720,7043280," but i said accept float"
7043280,7049440," okay what if i accept a u32"
7049440,7058480," by the way we can do something like"
7060640,7061200," um"
7061200,7065760," so update update frame"
7065760,7068720," func and it's just"
7068720,7073440," dt float i think this is what we can do"
7073440,7076880," and because of that we can just say update"
7076880,7082640," frame func ah it's not it's not convenient like that okay"
7084320,7084880," so"
7084880,7087520," so this is"
7087520,7089120," bizarre"
7089120,7093360," to say the least"
7093360,7096720," why it wants to have"
7096720,7100400," in here"
7100400,7104720," oh well i mean now i have to remove big integer okay okay so that makes sense"
7104720,7117440," js floats are float 64."
7117440,7117760," fuck"
7117760,7123440," how can i pass okay so how can i pass float 32 then"
7125440,7125760," wait"
7125760,7133680," i think that's what i have to do"
7133680,7137280," i think i think we'll figure it out"
7142720,7150880," hmm hmm hmm hmm hmm hmm hmm hmm hmm hmm hmm"
7157840,7158720," there's a big float"
7158720,7165840," big int"
7165840,7174560," name collision"
7176400,7176640," no"
7176640,7176960," no"
7176960,7185920," i'm confused just a second give me a second to think about what's going on"
7185920,7195760," hmm hmm hmm"
7195760,7201200," so that frame has to be float except in the float okay"
7202880,7203200," um"
7203200,7204400," now"
7204400,7206880," so let me save this entire thing"
7206880,7210960," so i"
7210960,7217280," cannot be converted to big int because it's not an integer"
7217280,7220880," but why do you accept big int in here"
7220880,7225520," why on earth do you want to accept big int"
7225520,7230080," you should not be accepting big int like what the fuck is this"
7230080,7233360," shit you know what i think i want to uh"
7233360,7238880," disassemble uh this wasm it's actually kind of huge but"
7238880,7242000," now can i do wasm to what it wasn't to what"
7242000,7246560," wasm to what wasm to what wasm to what all right"
7259200,7266560," this is a disaster honestly memory 64 in wasm is an absolute and utter disaster"
7266560,7272160," like it's it's straight-up disaster like what the fuck"
7272160,7278560," um my guess was it's not calling his own update frame"
7278560,7281520," i don't know honestly"
7281520,7282880," um"
7284800,7288480," what it's probably maybe calling a different update sure um"
7288480,7291920," let me see"
7291920,7295600," i'm utterly confused"
7295600,7298160," um"
7306640,7307280," so"
7307280,7312080," so after that console log"
7312080,7315040," update frame"
7315040,7320000," uh-huh"
7320000,7324960," it's a native code but we might okay okay so we have at least the disassembler in here"
7324960,7326480," and i lost where"
7326480,7330800," i instantly lost the position where it was"
7331280,7334880," okay can i click okay thank you so much so it's"
7334880,7340960," is that the correct location though why do we have okay update frame"
7342000,7344240," and it's all i60"
7344240,7352240," my god are they all parameters"
7352240,7356160," okay so this is a local"
7356160,7367040," wait i feel like one of the thing i have to do i have to say that it's a foreign function and no"
7367040,7375920," context that explains it okay i forgot that jai also uh accepts shit ton of garbage"
7375920,7380160," with all these functions because it accepts the entirety of the context"
7380160,7385360," so yeah it was accepted expecting not only float but also context"
7385360,7391360," oh my god okay so can i say no context i completely forgot about this thing okay okay okay okay"
7392080,7400960," right so so mismatch the usual native uh okay so the usual native procedure is required uh time uh"
7400960,7408160," procedure is a sequel uh-huh so that does that mean i have to also put this thing in here"
7408160,7416000," uh okay and i think now it will work i think we figured it out honestly hell yeah"
7417120,7421760," fucking hell yeah so what's the difference between sequel and no context i wonder so"
7421760,7428320," sequel if i do sequel okay it's the same thing is there a difference between sequel and no context"
7428320,7430720," uh right so"
7430720,7441440," i wonder no i wonder i wonder i wonder okay so one of the things we can do now is we can maintain some sort"
7441440,7445840," of a state right uh by the way um"
7445840,7457840," we can so this is the float i want to actually have it as a float so then we can have x uh which is just"
7457840,7469840," zero and y so in here we can actually start from x and y uh and as we go we can simply do 100 multiplied"
7469840,7477600," by dt and y right so boom so we can do animations and shit"
7477600,7485680," we can do animated only animated units so that's pretty pretty epic it's pretty epic so and the state"
7485680,7491120," is stored within the web assembly module uh yep yep yep yep yep yep yep"
7494000,7507040," so now now now now now uh uh we are going to uh maybe so what game do we want to actually implement"
7507040,7515440," so we can do the infinite pong uh that we did uh last time right so but enjoy"
7519440,7526080," so yeah that sounds kind of cool infinite pongus pongus pongus"
7526080,7537200," um so ji plus javascript collab i wonder what jablo has to say about i'm pretty sure he doesn't give a"
7537200,7544160," shit so that's that's everything he probably has to say about that uh so let's actually maybe introduce"
7544160,7548880," something like a fill circle right so we want to be able to do circles so here's the circle and it's"
7548880,7554640," going to be x float to y float and we're going to have a radius and also color obviously"
7554640,7563600," uh so this is going to be the color and this is going to be the foreign and feel a circle feel the circle"
7565200,7573520," now uh what we're going to have what we're going to have now now um so instead of feel rect let's do feel"
7573520,7580640," circle right so it's going to be circle and this one is going to be let's say 100 right so if i try to do"
7580640,7594160," this kind of thing it doesn't work obviously right and now uh if i go to run time js uh feel erect"
7594160,7605280," so x y color right and then we just do it like that and ctx it's not you can't you can't feel circle"
7605280,7614000," because it's stupid web right so um canvas html feel circle right so how do you do that uh canvas"
7614000,7622640," feel circle with not with the image you stupid google uh all right geek for geeks just just give me the the"
7622640,7632400," thing and off yeah that's that's it off go away all right so begin path uh so this is what we do um"
7632960,7639760," where's the radius though where's the radius i don't really know where's the radius um is that the"
7639760,7653040," radius uh okay radius context arc yeah let me show yeah the third one is the radius all right so this is"
7653040,7659920," the radius this is x and this is y and yeah so that makes sense line width we don't really want to do line"
7659920,7666880," width uh i suppose we have to do feel right so that's what we have to do uh ctx there we go"
7666880,7673200," so x and y radius and this is the full sort of like a three three hundred and sixty three hundred and sixty"
7673200,7680880," okay cool so let me let me see if it's going to actually do anything at all there we go that's the"
7680880,7688400," circle does it look circle-ish i think it looks pretty circle-ish to me i think it looks pretty circle-ish to me"
7688400,7703920," uh now let's fucking go um yeah let's introduce the notion of um you know board width and height"
7703920,7707520," because we're going to have an infinite pong and infinite pong like uh when i was talking about"
7707520,7717440," infinite pong infinite pong uh right it's this thing it's this kind of thing right so when you have two"
7717440,7724960," balls and they sort of consume uh cells or like turning them into their color right so it's been"
7724960,7730640," floating around on twitter and stuff like that for quite some time uh right but uh let's implement that"
7730640,7735760," right so i think it's kind of a cool exercise right i really like um so we're going to have screen uh"
7735760,7740960," width and screen height and we also need to introduce like a board width and board height"
7740960,7745040," um so let's say maybe it's going to be 100 by 100"
7745040,7752080," so the thing i want to do actually i want this screen width and screen height to be dependent and"
7752080,7757040," on board width and board height because of the because of that let's introduce something like cell"
7757040,7763440," size which is going to be like maybe maybe 20 right and because of that screen width is going to be"
7763440,7769680," basically board the width multiplied by cell size right and board height height is going to be"
7769680,7777040," uh multiplied by cell size something like this right so um and all that is going to be completed at"
7777040,7783280," compile time right so when you do uh colon colon it's a compile time uh value so we can even align this"
7783280,7792480," entire thing like so there we go uh so now if i try to do that okay so it doesn't like something in here"
7792480,7803120," because it's not a screen width not seen but screen width screen height all right screen width screen height"
7803120,7807680," and it's actually very squarish which is not particularly great maybe one of the things i can"
7807680,7814240," do in here is just say that this thing is going to be twice as big as that thing right so uh the other"
7814240,7820880," way around let's put it the other way around let's make this one 100 but this one is going to be board"
7820880,7828720," height multiplied by two right so and if i rebuild it uh it's something like that okay that's pretty cool"
7829920,7838560," that's pretty cool that's pretty cool so as we sort of like render the whole thing um i want to just see"
7838560,7843200," how the board looks like so let's actually use a little bit of a checker pattern so i'm gonna do"
7843200,7851680," like um so we're gonna start with the rows y in or is it i forgot how to do that i think it's just like"
7852560,7861920," zero dot dot board height uh right and you probably have to do minus one and the same for x so this is"
7861920,7870720," for board uh width and in here we're going to be doing a bunch of fill rects we're going to feel a little"
7870720,7880480," bit direct right now chat so here is the x so it's going to be basically x multiplied by cell size and y"
7881120,7887760," multiply it by cell size like so uh can you see what i'm typing here okay so this one is going to be"
7887760,7895040," cell size and this one is going to be cell size here we can maybe put something like i don't know red"
7895040,7904320," right something like this uh and uh let's remove foreign because i think this specific foreign is not"
7904320,7912640," good let me put my camera a little bit down because i think it's too high do you feel wrecked chat do you"
7912640,7925680," feel wrecked right right sorry uh so if it's uh divisible by two we want to do this kind of thing right"
7927120,7935440," i'm erect same um now let's actually remove this kind of thing i think it's not particularly useful"
7935440,7941440," uh writes let's rebuild it and it doesn't what does it say number mismatch float s64"
7942080,7949120," uh yeah so i suppose we have to do something like yeah just a second maybe even"
7949120,7963840," i want to be y and bx bx by so in here this one is going to be one to be floats all right so bx"
7964880,7980400," cell size y y uh w uh cell size and h so in here we can just do this kind of thing w h uh like so and"
7980400,7987760," obviously it's not going to compile right but then i can probably do something like um i don't know xx"
7987760,7994640," oh it even highlights xx that's cool yeah but in this specific case i probably have to do something"
7994640,8004240," like this yeah yeah fuck you fuck yeah look at that oh my god that's actually a lot of them uh let's"
8004240,8012080," reduce the amount of them to 50. yeah uh maybe even 20."
8012080,8018960," yeah that that's much better so this is roughly what i'm going to do what is x it's basically"
8018960,8026720," automatic casting to whatever seems fit so here i have an integer and here i have a float so just like"
8026720,8033280," do the usual conversion so in case if i was using c it would just naturally convert to to this thing"
8033280,8040720," but jai will will not right so but to tell it okay act like c in this specific case you put xx in here"
8040720,8047520," it's actually a really cool trick it's not really inferred it's more like act like c i think i think"
8047520,8054240," that's what it is uh right because the uh the behavior of c is kind of dangerous because it does conversions"
8054240,8059840," silently this is not what you want but sometimes it's freaking convenient especially if you copy pasting"
8059840,8066400," c code uh into jai and just like doing some things sometimes you rely on implicit conversions"
8066400,8070320," uh right so in this case you can say okay like just do the implicit thing in here"
8071040,8076320," um"
8076320,8081280," except it's still strictly about bound checks though at least since the last beta okay"
8081280,8089040," it makes sense uh right so uh we have the board in here so which is kind of cool"
8089040,8093600," i suppose one thing we need to do in here we need to introduce the enumeration"
8094560,8099040," for for the players right so how are we going to be doing all of that"
8099040,8110800," um maybe do i want to have it as an enumeration or do i want to have it as an integer let's actually"
8110800,8118160," have it as an enumeration so we can have like a player right so this is the player enumeration uh player"
8118160,8123920," uh player one player one player one and player two right player one and player two i wonder if i can"
8123920,8127760," just do i think i think i don't even have to do it like that right so it's just will be"
8127760,8139040," automatic right player one and player two uh no extra allowed uh wait do i have to yeah i probably have"
8139040,8148320," to put some of the columns okay that makes sense that makes sense sure sure sure sure sure so i feel"
8148320,8156000," like i need to associate um the player colors let's introduce player colors uh right so we're gonna have"
8156000,8164240," something like that and i suppose this is going to be like an array um so do we have the count of"
8164240,8171840," enumeration still or it's not particularly convenience yet uh i don't think so like let's let's introduce"
8171840,8183040," something like account players uh all right so player we can call it actually one uh player counts"
8183040,8193920," and i want this thing to be cast to integer right so and then what i can do in here is just for the first one"
8193920,8200320," so there is still no designated initializers or anything like that i can't easily map uh like"
8200320,8207280," specific specific thing in here right so there is no correspondence between numerations and arrays"
8207280,8214960," in jaya like an ada right so can i just have ada arrays in like do we have any professional jaya"
8214960,8220080," developers like what's the most convenient way to do the thing that i just want to do right so i have"
8220080,8228160," enumeration and then mapping from values of enumeration to uh you can do it procedurally with run i guess"
8228160,8233520," i guess i could um"
8240000,8250320," um they're not a bad idea honestly let's go um so we can have results right which is just a player"
8250320,8262480," uh player count all right of colors that's how we do that i think i forgot how to do that but yeah"
8263200,8269920," so this is something like that we might as well even maybe do something like this is that a thing"
8269920,8282160," so then afterwards i want to do player we can even do it like this okay um one two count"
8284080,8293280," count uh player one and let's make it like red it's the most convenient way i have come up with so far"
8293280,8299600," which isn't very but it's it is what it is i guess so i suppose john is not a big fan of ada"
8300720,8306800," or pascal or pascal well i can understand that he's a hardcore american and pascal is a european"
8306800,8312080," fucking language language of freaking commies you know so"
8312080,8321920," pascal language of freedom anyways so i'm so sorry i'm joking i'm joking uh right so"
8328720,8337200," so let's do that and then we simply return uh return the results just return the results okay"
8337200,8343680," let's fucking go it doesn't really work the way i expected it to work but maybe i have to do something"
8343680,8353120," like this uh yep yep yep so it what did it say here is the procedure one it's zero ah i also have to do"
8353120,8361280," this weird ass shit where i have to explicitly say some stuff like like this right or it also couldn't"
8361280,8371440," infer that uh john would have used switch case probably maybe that's the case in here yeah"
8371440,8377520," okay let's actually go with the john's approach right so you're right let's just do switch case in"
8377520,8385840," that case okay okay okay fine fine fine fine fine all right so but me we can at least make a function"
8385840,8398160," right so yeah player color um maybe color of player color of player so we can do player uh which is a player"
8398160,8406960," right right and it's gonna be uh john one it's jover yeah john one i'm sorry yeah so if player that"
8406960,8416800," so and i suppose it's just like one uh it's a case one okay is one uh return uh this one is gonna be a"
8416800,8428560," i suppose i suppose red i don't know what the is going on with me but i'm struggling chat i'm struggling"
8428560,8436480," a little bit please bear with me all right it didn't work um not okay"
8440880,8450960," is that how i remember i remember that little obscure feature of jay holy it's just like it it"
8450960,8456400," basically bubbled up from my subconsciousness i can i kind of vaguely remember there was something like"
8456400,8465440," that yeah yeah so you just like say that it's a complete one i wonder does it generate any additional"
8465440,8471840," code in here so if due to a memory corruption you're gonna end up with invalid player in here will it"
8471840,8477440," actually have like an additional unreachable state or something for no default case yeah exactly i feel"
8477440,8482720," it literally generates like a additional code at runtime in here for the default case"
8482720,8487360," um yeah it just means that the switch handles all the cases so no yeah yeah"
8489920,8498800," okay so we have a color of player and now the thing i can do actually right um i can just get rid of"
8498800,8507920," this entire choice soon and say um color of player we need to have a board honestly we need to have a board"
8507920,8516960," uh so since we have that stuff we can just say um board and it's going to be a two-dimensional array"
8517600,8528320," i suppose can i have something like a board height uh board width player like so so this is what we have"
8528320,8535920," uh i suppose one of the things i want to do here is peel it up with something right so let's actually do"
8537200,8548560," by by zero board height minus one and this one is going to be bx height height width uh-huh and in here"
8548560,8559840," we're going to do boards by bx one all right so we fill it up with the first one and now what we do is a"
8559840,8569920," call of player board bbx like so okay do we get anything i don't know so this has to be a caller"
8569920,8575360," cannot call into native procedure from sys without using push context"
8584720,8590080," okay so here is the interesting thing one we call main um"
8590080,8604160," i think this is the reason why we put zero in here i feel like this first zero is an indication of no"
8604160,8609680," context or new context and this one is a point to the array of arguments or something like that"
8610480,8615360," let's give it a try first of all i'm going to do the following thing i'm going to get rid of the"
8615360,8620640," no context because this is annoying i don't want to be doing all that on the sling i just don't"
8620640,8625200," want to be doing it and i don't really need context in this specific case i don't even have malloc i don't"
8625200,8631280," plan to malloc anything right so we might as well just have like an empty context or whatnot right"
8631280,8640240," so we have this kind of situation uh if i do that it crashes right so and big int so i suppose what"
8640240,8650400," we have to do in here update frame uh when we call update frame we have to do big int zero i feel like"
8650400,8658400," that's the case got it so yeah beacon just like refers to like a new pointed to the context right so"
8658400,8662160," there's no context in here and trying to access anything from the context is going to fail"
8662160,8670400," uh right so yeah that's basically the case"
8679440,8683200," that's really strange in just a second"
8683200,8695520," yeah so uh let's continue what do we have here"
8695520,8704480," so now we can actually uh maybe fill it with a different player right so we can fill it with a"
8704480,8710720," different player uh too right so and it's a different one"
8710720,8729040," all right now um so we need to keep track of the position of different players uh so i really don't"
8729040,8735040," like how hard these colors are so let's make them a little bit brighter right let's make them a little"
8735040,8736720," bit brighter like so"
8736720,8743040," so it didn't did it recompile i don't think it recompiled anything that's"
8743040,8750960," ah it's a background okay damn it it has to be uh yeah so let's actually make them like this"
8753920,8762240," uh so something like a a right so something like a a um and honestly like i'm not sure if that's a good"
8762240,8768720," idea how i want to be able to do hsl or hsv uh to work with all that"
8768720,8778400," hsl of hsv but i don't want to be implementing all that stuff if you know what i'm talking about so is"
8778400,8783520," there like hsl like a quick hsl formula that i can use for something maybe steal it from"
8783520,8795120," raylib uh all right let's actually try to steal it from raylib um so raylib uh index maybe src raylib.h"
8795120,8804240," so hs yeah so color to hsv so let's actually find this function um to hsv i need from hsv actually"
8804800,8814560," right this one uh from hsv uh is that too much"
8814560,8821600," maybe not honestly this is a straight up function that we can use"
8821600,8831360," huh okay so let's actually literally copy paste it i think it's usable i think it's gonna be usable um so"
8831360,8835040," this is the main right so and yeah"
8835040,8844960," so this is a color from hsv color from hsv something like that so i'm gonna actually leave a credit uh"
8844960,8853040," stolen from raylib so it's stolen from raylib uh-huh stolen from raylib and i'm gonna do it like that"
8853600,8859600," like so and this thing is supposed to return a color right it's supposed to return a color"
8859600,8866320," um yeah so one of the things we can do actually we can literally try to uh just follow the compilation errors"
8867200,8875520," um so yeah there we go so this is gonna be something like that uh-huh"
8875520,8883600," so maybe i can do it like this all right so this is a float maybe i can yeah"
8885520,8890560," f modif so it doesn't like f modif in this function we don't"
8890560,8897920," in this language we don't need suffix our float constants with f"
8902400,8903360," really like that"
8903360,8912720," thank you john i got it i i got it um could have allowed it right especially for the"
8912720,8921600," sexy errors exactly john loves this kind of errors right so that that what makes using this language so"
8921600,8927520," fun because once in a while you just encounter things like that uh right and it's just like really really"
8927520,8936880," funny uh so what do we have in here so it's a float uh-huh it's gonna be something like this"
8936880,8944480," what else do we have oh this one is interesting so jai doesn't have ternary operator but i think it has"
8945120,8956880," a thing called ifx right so an ifx it's basically if as expression right it's an if as expression"
8956880,8965360," uh-huh right so okay unsigned char but i don't think we need this kind of thing right we can just do it"
8965360,8974640," like that yeah so this is the color and that's about it so we don't have to prefix anything in here"
8975360,8978320," okay so okay so we have to do that in several places"
8978320,8987360," all right so let me try to medium use a little bit of an emacs magic so this one is going to then else"
8987360,8994160," uh if we can even do something like that"
9001280,9007440," just slowly translate okay so this one is fair um maybe there is something in the stand library of jai"
9007440,9014560," let's actually see jai uh modules uh grab f modif"
9014560,9021440," well yeah"
9024960,9035520," maybe it simply supports f modif on the level of like this you know maybe it just allows you to do"
9035520,9038400," these kind of things so let's see"
9038400,9046320," okay does not work with floating point left argument was a type of float"
9047600,9058960," okay another sassy error uh back to jai poke exactly back to j back to back so um how do you do f mod in"
9058960,9070560," j does anybody know uh is that is that a thing okay so jai modules uh grab f mod right there is some f mod"
9071600,9083840," aha oh there is f mod site oh oh uh cycling maybe there is just f mod not f but you know just"
9083840,9086800," cycling"
9086800,9097120," uh-huh so okay so there's a math uh f mod cycling okay we call this of my cycling to clarify that its behavior is"
9097120,9102800," different from the from the from that in base leap c which most people don't want but we want to avoid"
9102800,9106720," people introducing errors by using ah is that does it mean that"
9106720,9112960," oh it probably does the like negative it properly uh handles the negative"
9112960,9119280," um yeah that's what's going on in here f mode cycling"
9119280,9125360," uh is there any other f modes in here i don't think so that's the only f mode"
9126400,9129760," and what we're doing here is that we do like a floor"
9129760,9140480," oh that kind of implies that it will just work without like any additional stuff or anything we"
9140480,9152240," can just yeah we can just try to do that uh main so import math right uh and this one is f mode"
9154800,9162320," okay yeah so f mode cycling"
9162320,9175760," right so in this case it was actually just an integer all right uh this is not going on"
9180240,9185600," okay so what do we have in here uh yeah that's understandable that's totally understandable uh we"
9185600,9190160," can just do something like xx"
9190160,9201760," cool it worked uh that actually perfectly worked and it even compiles so that's pretty cool so that"
9201760,9209440," means i can finally use color from hsv uh so when i define these kind of things uh so we i can say this"
9209440,9216400," is red uh saturation let's actually keep the situation"
9216400,9223440," high i don't remember the saturation is zero right so from zero to one it's normalized uh so one"
9223440,9231040," one yeah yeah so let's actually keep it like that one of the things i remember about the hue specifically is that it's in degrees"
9231600,9235280," right so it's right so it's specifically in degrees and this is something that we could probably fix"
9235280,9239760," right so because as you can see we divided by 60 but i guess that's fine"
9239760,9246720," nonetheless uh all right so we have that and that's very greenish i would like to maybe initialize"
9246720,9253120," both of the players um right so essentially we're gonna have the first part"
9254000,9262720," um all right in terms of x is gonna be something like that so this is the first part i'm gonna divide"
9262720,9271040," it by two uh board in our case i suppose is divisible by two right so this is one of the things we're kind of"
9271040,9279760," doing here um can we do something like asserts board width"
9279760,9289440," uh mode two equal to zero is that something i can do in here and then multiply by three"
9291440,9301680," ah why did it work though ah that doesn't yeah okay so let's just put it like this yeah"
9303600,9307680," hell yeah man this is so cool"
9307680,9311600," yo"
9311600,9317760," again just like yeah so i mean static assert is nothing new but it's just like"
9317760,9323360," syntactically it's it looks so nice like this look at that it's just like syntactically"
9323360,9329520," just like i kind of defined board width and i instantly like kind of assert that yeah it has"
9329520,9334560," to be always like that so because then later right here i'm gonna kind of depend on that"
9334560,9338000," right and the way i'm gonna be depending on that is essentially by"
9339280,9345840," i suppose adding half of that width in here uh like so so this one is going to be one"
9345840,9351520," uh and this one is going to be two something like that this is basically what i want"
9351520,9358480," uh align equal right so we're going to have left and right parts"
9358480,9367360," uh yeah so this is both of the parts in here uh okay cool and um"
9368480,9372400," now i want to actually kind of control the saturation and value i might as well actually"
9372400,9377440," do something like saturation uh it's going to be one and"
9377440,9385680," value and i'm going to share the saturation and value saturation and there's the saturation"
9385680,9395760," saturation so this is a saturation saturation and this is the value like so"
9397680,9404080," uh-huh and i can control them separately so i don't want it to be that saturated for sure"
9404080,9411360," so now i can actually control this part right so it's about 70 saturation hey emacs could you please"
9411360,9420800," shut the up emacs uh right so it's less saturated now that is very cool maybe even even more less"
9420800,9427600," saturated so i can think in terms of the saturation and value uh right the value it's too bright i wanted to"
9427600,9433600," like tune it to like tune it down now right now it's darker but maybe it's too dark like around nine"
9433600,9440880," should be fine but maybe i feel like now it should be like slightly more saturated yeah"
9440880,9448800," so i can basically tune this kind of holes right so i can finally tune them so maybe here i can actually"
9448800,9455600," keep it like maybe 90 90 or something uh right so but they could be actually"
9455600,9462480," maybe complementary calls and as far as i know complementary calls differ in uh 180 degrees"
9462480,9468320," right so that's what makes them complementary yeah this is a complementary colors right so the green and"
9468320,9474800," purple are complementary so uh something like red i think if i keep it"
9475760,9483040," red so zero is red the complementary power for the red is cyan if i'm not mistaken yeah it is cyan look at"
9483040,9493840," that so that's pretty cool so um sounds like 13 maybe we can have like a hue like a base hue"
9494800,9501680," uh which is uh which is going to be like 30 and we can put the base hue in here and then the base hue"
9501680,9507920," plus 180 right so i'm actually showing you like the color theory right this is the basics of the color"
9507920,9517760," theory for example this is the orange and this is the blue guess why the sega picked the colors for sonic and"
9517760,9526560," tails like that guess why they picked blue for sonic and orange for tails because they're complementary colors"
9526560,9532320," when the two characters stand together they just look nice because they're like mathematically complementary"
9532320,9539280," colors uh right i just thought contrast no no there's a notion of complementary colors yeah"
9539280,9556880," so there's a little bit more uh complex sort of palettes based on complementary colors uh but there's"
9556880,9564240," a lot of tutorials on youtube from like actual artists that explain that so there are some palettes where you"
9564240,9575520," have a hue uh right just a second where is mine uh okay just a sec right so imagine you have a hue"
9575520,9581040," wheel right and complementary colors are just basically on the opposite sides right and you basically have a"
9581040,9587840," palette of two colors that like look nice together there's also some palettes that kind of divide in three"
9587840,9594160," parts right and palettes just picks kind of these three colors right and there's also like maybe"
9594160,9599520," division by five and so on and so forth and there's like different use cases for different strategies"
9599520,9604720," of picking a palette for different situations and stuff like that so uh yeah i really recommend"
9604720,9610960," to just like look up uh different tutorials on color theory right it's actually really interesting"
9610960,9617120," it's not really complicated right but anyway so in this case we're going to be just doing"
9617120,9623600," something like this um so maybe i'm going to keep it slightly more saturated right let's actually"
9624080,9634720," have amateur so if i keep it seven and bring it back to one would look good i think that's fine i would"
9634720,9647920," also like to maybe in the css right where is my css so this is a public uh index html so down there"
9649360,9651040," let's let's do body"
9651040,9659920," um background 80 80 80 80 all right that didn't work huh"
9659920,9667360," ah i know why wait what the bro bro what the bro what the bro"
9671360,9680640," background background background background okay so i guess that's fine yeah oh finally that looks"
9680640,9686560," better right so i think the problem the problem was that uh the background was too dark and"
9686560,9692080," they just didn't look good i mean too too bright so that was the main problem i suppose and because"
9692080,9697600," of that i can kind of saturate them a little bit more i think i think i can saturate them a little bit more"
9697600,9708000," bigger now i think saturation of seven was just perfect yeah okay that's fine uh might as well tweak"
9708000,9713280," the base here a little bit oh that's actually getting closer"
9713280,9724480," um so now you know why the flag of ukraine is the way it is because again complementary colors uh all right so"
9725280,9731200," maybe some something like 17. uh a lot of like color decisions are actually based on complementary colors"
9731200,9732640," um"
9732640,9745200," okay yeah i think i kind of like 13 sonic details let's actually keep saying good days yeah all right so um"
9745200,9754400," kind of also when i have um a function that creates an opposite opposite player right color maybe"
9754400,9762400," uh opposite player so we can accept the player like so and just return the player uh so in here"
9762400,9770720," i can even copy paste this kind of thing uh and we're going to return uh two right and"
9770720,9778480," one so we'll need that when we're rendering actual like circles uh right when we actually render"
9778480,9786320," the circle uh circles uh because the circle of one player the circle um that is going to be here has to"
9786320,9793120," be blue right and circle that will be here has to be orange uh right so that's how it has to go i think"
9793120,9799920," um so now we need to kind of keep track of the positions so what if we just introduce vector two"
9800480,9806560," maybe by the way maybe we can use uh some definitions from the map right so let me take a look at the"
9806560,9814800," math so do you have vector okay we already have vectors so we can just straight up like use positions"
9814800,9824240," for the players and stuff like that um so now oh and this time by the way uh i would like to actually"
9824240,9832960," you know map uh the index to as like the the enumeration to a specific element of an array"
9832960,9841760," right so maybe we can have like players and this is the player count uh count something like that but it's"
9841760,9850800," actually vector two could all right so something like that right so let me see if it's going to compile"
9850800,9859040," it doesn't compile uh right here is the definition of the memory is not a member uh-huh yeah so we can"
9859040,9867120," introduce counts it's not that big of a deal but now it's not full right that's kind of the problem"
9867120,9875200," right it was kind of cool that it was like that but then i guess even in that case john would use"
9875200,9882000," switch case do i understand correctly that even in this case john would use switch case i really like"
9882000,9888960," the idea of enumeration being also indices for the array it's such a powerful idea uh but john doesn't"
9888960,9894080," think so right so and he's also very experienced developers like i don't really know why he doesn't"
9894080,9901200," like this idea he obviously i wouldn't say he doesn't like this idea i would say he doesn't see"
9901200,9909440," it as an important idea uh value scout we could do that right but i mean i don't know so he obviously"
9909440,9919760," doesn't see that as an important idea so i wonder why though it's lucky it feels so natural uh with the"
9919760,9924240," typing phone and stuff like that i remember in the latest q a someone asked about this problem and john"
9924240,9930320," said he didn't implement it because of the numbers that don't have continuous members oh i see i see"
9930320,9941040," i see i see that makes sense yeah um i guess it is what it is yeah so that's a legit problem i agree"
9941040,9947360," with him it's a kind of legit problem so they don't really fit that well um right so they didn't really fit"
9947360,9957440," that well but one of the things um so hello do you remember mim hafford i do remember him he's actually"
9957440,9964960," sitting quite often in my chat and he's the one who in invited me to into j betta so of course i remember"
9964960,9971120," him um so anyway what's going to be the best way to approach that i'm really not sure"
9974640,9979600," let's actually do player one it's going to be vector uh vector two and player two"
9979600,9990800," uh so we got into the beta cause of him too he is a lecturer at our union oh i see"
9990800,9996480," he's really cool actually he's very cool he was also super helpful in the chat um so yeah"
10001200,10005440," so you can still assign numeric values uh to the enormous explicit yeah i know that but"
10005440,10010240," this is not the problem that we have right now uh this is not the problem that we have right now"
10010240,10014480," and so it's a kind of a different problem it's more of like a philosophical ideological problem"
10014480,10020640," doesn't really matter that much so anyways um what i want to do we need to initialize the positions"
10020640,10027360," of player one and player two right so it's going to player one has to be i feel like it has to be at the"
10027360,10033200," center in here right so the player one has to be somewhere here so because of that it's just screen"
10033200,10041040," width right so it's a screen width divided by two um right and it probably should be something like this"
10041040,10048720," right so divided by two and then divided by four honestly right and it has to be more like"
10049840,10063280," yeah so this is x but in terms of screen height it's divided by two right two is that um but in here"
10063280,10073280," okay so and then we upset this entire thing divided by two plus something like that"
10074080,10085280," and all that has to be flows by the way all right so that kind of worked out so now after we render the"
10085280,10092240," entire board uh we probably want to render this circle we want to do full field circle um"
10092240,10101840," and this is going to be player one x player one y radius is going to be player radius and the color is going to be"
10101840,10108880," the color of the player but kind of an opposite one um right so we can do"
10108880,10122160," two or maybe we can do opposite player yeah like this so then this is going to be two two"
10124000,10132960," one all right so player radius is not defined let's define it super quick we can even define it in an"
10132960,10144800," interesting way um we can define it based on maybe height of the screen screen height and it could be"
10144800,10151600," like a tenth of the screen height i think this is how john likes to define the values that are smaller than"
10151600,10161920," one right just dot in that value so yeah and we can't see in this mist i wonder if that works it does it"
10161920,10165760," never worked okay it's very interesting so uh"
10165760,10171360," yep even though we're kind of defined"
10174960,10182560," so let's actually set the color for those things like a bright red uh xff 0 0 xff"
10182560,10196240," um and then xff 0 0 xff right so we're gonna do that uh-huh so we did a fucky walking so i suppose"
10196880,10203520," how it should be uh-huh the opposite player didn't work"
10203520,10206320," so"
10206320,10211840," ah because they already i already set them opposite because i'm gonna do okay so i'm getting tired a"
10211840,10214400," little bit that's fine that's fine that's fine so this is basically what should be"
10215520,10225680," all right so uh we got a radius uh so radius let's maybe make it even smaller let's maybe make it even"
10225680,10233760," smaller yeah something like that should work fine something like that should work fine and um"
10233760,10240720," on top of that we have player it's more like a player one position right so"
10242480,10244080," we can actually introduce something like"
10244080,10254320," player state i suppose player state uh right and it's going to be a structure and it has a position"
10254320,10263120," not positive positive position uh right so it's going back to two and it's going to have a velocity"
10263120,10270880," right and player one is going to be just a player state so that's player state player state"
10270880,10276960," the goal says completion is super quick uh right so it's 13 yeah so in here"
10276960,10284800," we only set the position so these are only the position the positive so this one is just that"
10284800,10295600," and this one is just that so that should just work cool so now we also need to set the velocities"
10295600,10302160," right all right so i suppose in terms of the velocity so this player should go down like this right so"
10302160,10309360," and maybe velocity has to be like a vector rather than yeah it has to be probably a vector uh like a"
10309360,10316160," normalized vector man yeah let's not make it normalized um so this is gonna be um"
10319120,10325600," we can make it normalized but um is there a polar"
10325600,10341120," and go we can do sine cosine stuff right so cosine has to be um yeah it's too difficult to think in terms"
10341120,10344880," of course well in that case it's going to be um"
10344880,10356160," pi is that half of a pi and so 90 degrees quarter of a pi so it's a quarter of a pie"
10356160,10367200," and in math do we have pi here so it's pi um quarter of a pie so there's a quarter of a pi cosine and"
10368080,10374960," sine uh quarter of a pi and all of that is multiplied by the player's speed"
10374960,10386080," something like that all right so yes yes yes so now let's try to do that so player speed is not particularly defined"
10386080,10393760," uh and let's define it player radius player speed uh let's say it's going to be like 100"
10396160,10401360," surprisingly it works it just works one of the things we can do now right so this is just a rendering"
10401360,10405280," but we also need to do a little bit of update so the way we're going to be updating we're going to be"
10405280,10415680," taking uh player velocity uh and multiply it by dt player one position like this we really need"
10415680,10422160," to do that for player two but we haven't defined the velocity for player two all right so it's moving"
10422880,10429600," you can see it's moving so now we have to define the velocity for the player two and in that case the"
10429600,10445040," so it's basically minus 90 so it's a minus a pi half of a pi minus half of a pi uh right minus half of a"
10445040,10450560," why which basically that but just minus i can just do it like that then"
10450560,10459680," uh-huh not really um i suppose i wanted to"
10459680,10468640," in terms of so i think it was going right in here but it was going wrong in here so i think that's what i want"
10470320,10471200," did i recompile"
10471200,10481760," so in x it's going in the wrong direction"
10481760,10489840," it doesn't change anything"
10491600,10499120," plus five maybe um i need to visualize that honestly i need to visualize that um"
10499120,10508160," so i can go into the model just like experimenting see which one works okay kind of"
10511520,10514080," i'm confused why does it even"
10514080,10518640," it it doesn't even look correct like"
10518640,10526320," that is just and i think my chromium died yeah"
10526320,10533840," um yeah yeah i know i know now i'm just tired i'm tired give me cut me some slack"
10534400,10539520," all right so um let me see let me think i think"
10539520,10548480," um so i wanted to because the the axes are flipped that's the thing it's so annoying"
10548480,10558320," uh the axes are kind of flipped so i suppose it has to be like 25 all right it has to be like 25"
10559760,10561760," um all right"
10561760,10569440," but then you add"
10569440,10572640," uh five"
10572640,10575840," all right"
10575840,10581760," oh okay all right so that that works now"
10583920,10590160," uh so we can do 75 yeah so the problem is that i can't visualize that in my head because"
10590160,10594880," it's not a mathematical axis and my mental model is within the mathematical axis so"
10594880,10602400," it's kind of it up so i i can't really imagine it yeah but it's not even that that's that's the"
10602400,10608640," problem wait a second i want it to actually go up so maybe we have to do another plus 19 let's do"
10608640,10621920," another plus 19. uh right so plus pi 5. yeah this is what i want so essentially this is what i want"
10621920,10627520," essentially uh and that thing is 125. it's 125."
10634560,10636160," yeah so that's really cool"
10636160,10648240," now here is an interesting part uh we need to check whether it hits any of the"
10648240,10656480," uh cells or anything like that so and the way we're going to be checking all of that is"
10659520,10664160," we need to have a function that checks the intersection between circle and rectangle"
10664160,10672720," um i kind of vaguely remember how to do that so my paints let's open my paint my influence"
10672720,10681120," all right so we need an intercept i accidentally press ctrl a q for sake"
10683680,10698080," one more time and now with passion right uh bro stupid ass my paint are you drunk"
10698080,10710240," okay now it works okay so you have this thing you have this thing you have this thing you have this"
10710240,10719600," thing you have this thing we can even maybe uh you know think of them as so right so we have left"
10719600,10729040," right so this is like a left value right well and you have top value and you have bottom value right"
10729600,10742080," so when you also have um you know the circle so the common strategy to check whether uh a circle intersects"
10742080,10753040," a rectangle is to find a point on the rectangle that is closest to the center of the circle"
10755120,10763440," right so as soon as as soon as you can find that point closer to the center right you can actually"
10763440,10772240," very easily check is the distance between the center and the circle uh closer than the radius or not and"
10772240,10780640," that's how you know that it intersects so how do you do that you need to know the center the x and y of"
10780640,10792400," the center cx and c y right and if i remember correctly so the way you do that so for the x you have to find"
10792400,10799120," the x of that closest point right so and y of that closest point"
10800800,10810560," so for x you have to be bigger than cx so for the intersection cx has to be bigger than left so you"
10810560,10822160," kind of do what is the maximum what is the maximum between the left of the rectangle and cx right"
10823440,10833760," and then cx for the intersection has to be uh less than the uh the right one so for that you have to"
10833760,10843360," find the minimum minimum between that value and the right one i think that's how it goes and you kind of"
10843360,10851280," repeat symmetrically for for the y as well right so for example if you have uh cx somewhere here"
10851280,10860640," the maximum between l and cx is going to be l so in terms of x this is going to be the closest point"
10860640,10866800," to the center of the circle if this thing is between those things right if this thing is between"
10866800,10872480," these things uh this is going to be bigger than l but it's going to be smaller than r so that means"
10872480,10879120," in terms of x this is going to be the biggest point if the in terms of x cx is greater than r"
10879120,10885600," right it's obviously going to be uh bigger than l but then it's going to be bigger than r so that means"
10885600,10891200," it's going to be smaller than r so that means the closest point is going to be this one"
10891200,10896720," right if you basically consider the problem in one dimension it's a problem of picking"
10896720,10901920," between these three points right here is the center of the circle and here is this uh like"
10901920,10907440," left and right so which one do you pick right which one of them do you pick and then you repeat the"
10907440,10915040," problem uh vertically essentially and that's how you basically find the closest point on the rectangle"
10915040,10919520," to the center of the circle and once you do that you can just measure the distance and if the distance"
10919520,10926400," is closer than the uh than the radius you you can decide what the intersecting on this is genius well i mean"
10926640,10932240," it's kind of difficult to come up with it with this idea you just kind of have to know that right so"
10932240,10937280," i kind of happen to remember this trick the last time i tried to implement the"
10937280,10943280," infinite pong i forgot this trick and but now i remembered it i think the last time i was a little bit tired"
10946000,10956640," it's different for cardinal directions i guess i don't know what you mean anyways um so what we need in here"
10956640,10958640," i suppose what we need"
10958640,10964240," is a function that answers the question so"
10964240,10975920," erect circle collision so here we can accept uh maybe so in terms of rectangle we only"
10975920,10981600," have let's actually accept left right and uh top and bottom right left"
10981600,10993040," left float right float top float and bottom float right so this is the rectangle that we accept and then"
10993040,11001440," we're gonna have cx and cy and r so that's the only things we accept them here so obviously it has to be"
11001440,11009040," something like this uh right and it's going to return you the basically the boolean that answers your question"
11009040,11023360," so here we have to do what is the maximum right between l and cx but meaning between this thing and r and so that is x"
11024480,11025360," and then for y"
11025360,11034800," it's top and bottom and there you go we've got the point that is closest to the center"
11034800,11039200," from that we can take the uh basically distance between them so"
11039200,11044800," dx is going to be cx minus x and then we replace x with y"
11045520,11052080," all right all right and then we can measure the distance so it has to be that plus dy that and if"
11052080,11057200," it's less or equal to the square of the radius that is true so that's how we do it"
11058240,11060240," rect circle collision um"
11060240,11062880," okay"
11062880,11072640," so and since uh we have we are on the grid essentially right we are on the grid"
11072640,11076880," we have to think in terms of the grid then"
11076880,11081280," all right we have to think in terms of the grid"
11084800,11089920," and the grid can intersect several of these things um so what we have to do we have to probably"
11089920,11098320," look at the boundary box and have these four points essentially and consider"
11098320,11102800," um the cells on basically"
11102800,11109840," yeah so basically consider all of the cells that this rectangle sort of defines"
11111120,11118080," right so we can have to consider all of them and if any of them intersect with the circle"
11118080,11121360," we're going to consider that a collision with this entire thing"
11121360,11128800," right so that's going to be our approach so when we do the collision we're going to be doing it like"
11128800,11135600," that so i kind of want to not really make a small break right so because i don't really have much time"
11135600,11140320," for that uh but i would like to go to the kitchen and pour myself a cup of water"
11140320,11156160," super quick so it's not going to be like a fishery break but it's going to be super quick no less"
11156160,11165760," okay"
11165760,11172320," i'm already back believe it or not i am already back break break exactly"
11172320,11179520," because my throat is already really dry from all of the talking and stuff like that so"
11180800,11189040," i really needed that um okay so we're going to start maybe with kalesione kalesione kalesione"
11189040,11193200," so what i'm thinking is that"
11193200,11197840," maybe we should do an update"
11197840,11201200," maybe we should do an update"
11203680,11204480," update function"
11204480,11214240," right so what if we had something like player updates uh which accepts the player and just the"
11214240,11216240," player but actually appointed to the player"
11216240,11223760," furthermore we can do a cool thing we can do using which automatically exports all of the uh fields"
11223760,11228480," of the structure into the scope in here so we can actually do things like"
11228480,11236960," like velocity velocity multiplied by dt and position uh basically plus that so this is kind of what we"
11236960,11242320," can do and in fact we're modifying the fields of the player well we obviously have to do dt float"
11242320,11249440," right so but that's what we can do in here uh and the cool part is that we can just do player updates"
11249440,11254320," a player one we take a pointer i think this is how we do that right so on the player two"
11254320,11259600," something like this right we can do it like that"
11259600,11269840," we can also uh check for the wall collisions in here right so but for wall collisions we have to do"
11269840,11275440," the separate we have to check the coordinates separately so it's going to be nx which is equal to the"
11276240,11287920," position x multiplied by dt actually velocity velocity uh and position x right so after that"
11287920,11299040," we need to check the following thing if um an x minus player radius is"
11300480,11310240," less than zero that means we collided with the left wall or an x plus player radius is greater or equal to"
11310240,11317920," the uh screen width that means we collided with the right one so in that case we're simply modifying"
11317920,11323760," the velocity so we're taking the x and we're just multiplying it by minus one right so we're just"
11323760,11333600," swapping it otherwise that means the position is okay uh we're setting it to here right we're setting it"
11333600,11343440," to here and then we can repeat the same thing for the for the y career place x with y"
11343440,11352240," okay but we also have the career place uh width with height so there's only one width but that's fine"
11352240,11358400," if we try to rebuild the entire thing it doesn't yeah it doesn't like the semicolon uh yeah and there's"
11358400,11367040," another one okay so so i forgot to put a float in here that's understandable what else do we have in"
11367040,11375200," here not enough arguments for the player updates uh player uh update and here we have to also pass"
11376000,11387360," vdt all right uh so it's a player state uh i see that's understandable so this is a player state uh"
11387360,11393440," huh what else do we have in here um a ridic oh okay so this is the radius"
11394560,11402960," yeah yeah and it collides with right yeah so let's call it radius rad maybe i want to keep it small"
11402960,11409360," i just want to keep it small all right cool everything compiled so it means now they should be colliding"
11409360,11416880," with walls and they do in fact collide perfectly okay that's very cool so um afterwards"
11418400,11430160," so update player um okay so we did the collision all right um"
11430160,11437440," um but we also need to do some other checks"
11439360,11450800," we need to here check if it collides with any opposing player right if it collides with any uh"
11450800,11456960," you know boards of the opposing player i feel like oh we need a separate function for that"
11457760,11468080," all right we need a separate function for that um so player uh i don't know how to call that collides"
11468080,11482960," opposing maybe player eats enemy cell right so we're gonna accept that but now we kind of need to know"
11483760,11492640," what cell are we what kind of player are we maybe this is something that we have to store in in here"
11492640,11500400," right so maybe this is something that we have to store in here uh so the kind and this is going to"
11500400,11508960," be just the player and by the way this is the yeah this is the player kind is that a good idea but yeah"
11511280,11522800," okay so because of that this is a player one kind this is one this one is going to be two which is two"
11522800,11528480," all right so in this thing should probably return you a boolean right"
11531760,11541840," and we multiply minus one only okay so this is rather fascinating so or player eats"
11541840,11546320," enemy cell we just provide the flavor"
11546320,11556400," not really eats but yeah let's call it eats um but what if it does both"
11560240,11562640," mm-hmm it's kind of interesting"
11562640,11568640," so and in here by the way i think i want to"
11568640,11577680," actually accept x and y right so because it's kind of unfinished uh so we have to do"
11577680,11584880," yeah that's what we have to do so x float y floats"
11585760,11591920," and the player which is which is that uh let's call the player"
11591920,11603440," so this is going to be n x and y but actually position y"
11605200,11609120," it killed this thing so it killed this thing so it's clear let's call it kind"
11609120,11618080," so this is basically what i want um"
11618080,11626880," we can do another interesting thing uh player hits wall"
11628640,11633760," also going to be just just this i think it's too much"
11633760,11637040," yeah i guess that's fine"
11637040,11643040," so and then here i'm going to do it like that"
11643040,11647360," or but this time it's going to be position x"
11648560,11651760," and y right that's what we're going to have in here"
11651760,11655840," i don't mean obviously we have to fix that because that's kind of weird"
11655840,11662880," all right so now we boil down to just implementing this thing"
11662880,11670160," right so now we have x and y that we need to check and we need to check if the player hitting any"
11670880,11678000," of the opposing cells right so we boil down to a very simple thing um right so maybe we can call it cx"
11678000,11686240," and c y but anyway so we need to find the left upper corner right so we do that cx minus player radius"
11686240,11692640," right so but on top of that we have to floor this entire thing right so we're flooring this entire"
11692640,11700560," thing and that gives us basically the bx right so the this is the bottom x all right and it's going"
11700560,11710160," to be an integer uh and we do the same thing for y uh the same thing is going to be for the for the top"
11710160,11719040," one so maybe upper one so yeah and this one is going to be basically plus and this is the cells that we"
11719040,11726080," essentially have to check right so we have to check those specific cells uh how we're going to be checking"
11726080,11739840," all of them uh right it's going to be x going from bx to tx then y going from by to ty right and for all of"
11739840,11748560," them we have to construct a rectangle right so we have to do left right up and uh top and bottom so left"
11748560,11760240," is going to be basically x multiplied by cell size right so right is going to be that but plus cell size"
11760240,11768880," but in this case we can just do something like plus one uh right top is going to be y multiplied by cell size"
11768880,11778160," and bottom is going to be the same thing but y plus one y plus one so we have left right top and bottom and now we can"
11778160,11786480," probably try to use this function specifically um right so here is the it has to be flowed though"
11786480,11798160," but i mean we can fix that so cx c y uh player radius and if this thing collides that's instantly true"
11798160,11804400," otherwise this is false right so it's not probably going to be it's not going to work right away well"
11805200,11812320," so one of the things we'll probably have to do is to just to float uh xx like this"
11812320,11817520," um right so all of that will become a float"
11817520,11821600," so try to compile that and see if you look around"
11821600,11825200," uh okay so that should be it that should be the implementation"
11825200,11832480," uh analytically so we implemented all of these things in here i wonder if i can just do some some stuff like"
11832480,11839920," this doesn't look good unfortunately it doesn't look good anyways uh let's go"
11839920,11846880," ah you know what i forgot i forgot to actually also"
11846880,11856400," like update corresponding x and y in here all right well yeah first of all i forgot to check that it's"
11856400,11867120," opposing all right um so we have a collision we've got a collision on top of that the collision that we got"
11867120,11881760," board y x is equal to opposite player of the kind and in that case we set board y x to our kind and then return"
11881760,11889680," so this is what i forgot to do uh all right so we compile boom uh and it should probably do this ah"
11889680,11894640," maybe i should make it faster"
11894640,11899920," there's no collision in here that's bizarre"
11905040,11912240," that is bush eyes my new friend what the fuck is this bush eyes i can't believe what i'm seeing what the"
11912240,11914800," fuck um"
11914800,11919600," i don't see any errors this might be something stupid"
11919600,11928880," so it's one of that player eats enemy cell"
11931760,11934000," i do call as you can see"
11934000,11943360," player eats enemy cell um so bx by"
11943360,11949040," so the player radius so this is what we have and we also do"
11949040,11952800," i see what's going on i have to"
11953680,11959840," divide by the cell size i forgot to divide by cell size okay"
11959840,11970000," all right so we yeah so i forgot to convert world coordinates to the grid coordinates that's what i"
11970000,11977440," forgot to do that that happens happens all right so let me make the player a tiny bit faster because i"
11977440,11980640," think it's a little bit too slow right now to test things"
11980640,11984240," it works"
11984240,11987520," so"
11987520,11993040," um let's fucking go let's fucking go indeed"
11993040,11999600," it's kind of the even though the complementary colors there's something off about them"
12001280,12004480," i think they have the same brightness is what puts me off"
12004480,12015280," um so color of uh player so let's actually do the thing uh where actually we're taking an opposite"
12015280,12021600," value for one of them so one of them is going to be much darker that is too much honestly but maybe"
12024400,12031440," maybe half of the darkness right so that just gives a little bit of more contrast but that looks horrible"
12031440,12033120," um"
12033120,12037200," twice of that yeah"
12037200,12042640," yeah it's kind of but"
12042640,12051680," i don't know how to to make them look better"
12053280,12057760," maybe because they're too bright let's keep them a little bit darker"
12057760,12061920," but that means they have to be saturated a little bit more"
12061920,12070960," ikea colors yeah i don't know how to make them look better maybe because i'm also a little bit sleepy"
12070960,12074960," but that's something like this right"
12082000,12088880," and i suppose also speed we can make it much faster even"
12088880,12091840," because right now it's a little bit too slow"
12091840,12097120," oh and they tunnel a little bit"
12101040,12106240," maybe they should have been simulated on like on a different fps but"
12106240,12115520," if you want to choose in color choose black yeah maybe that's one of the things i could do"
12117600,12122880," so yeah so yeah one of them is"
12122880,12129120," so saturation is one value one"
12129120,12140960," but i mean saturation is zero zero and one is something like that so that's yeah that's probably much"
12140960,12150240," better um so okay they're gonna go like that forever and none of them are gonna win right none of them are gonna win"
12150240,12171520," use yellow and black from grabber darker that doesn't sound that that bad of an idea so that kind of makes the hsv function useless but that's kind of the point of software development you try things they don't work out you go a different route"
12171520,12178400," uh right so uh right so this is gonna use that one and in a grabber darker let me go into here"
12178400,12192400," uh so alpa grabber darker so where is the thingy in here uh yeah open it up and yellow so that's the yellow that we have in here chat"
12193840,12204720," so i'm gonna put it in here so i'm gonna put it in here uh huh like so ff uh like this like this ff"
12204720,12214720," all right and i'm gonna rebuild this entire thing and yep so ah that's not bad"
12214720,12219280," all right"
12223840,12228320," i don't think about that"
12228320,12234800," so yeah there we go anarcho-capitalistic ping pong"
12234800,12239360," yeah"
12239360,12246560," how about that oh it it it it unbalanced itself"
12246560,12246960," ff"
12246960,12250960," mm-mm"
12254640,12258960," all right that's pretty cool that's funny uh kill bill the game"
12258960,12266000," uh so jay is still fun jay is in fact still fun"
12266000,12273200," so i really hope one day it will come out publicly right and i can finally switch to jay from c"
12273200,12280480," honestly if jay comes out i will stop using c pretty much for anything probably"
12281920,12285360," um i think it's a very good replacement for c plus plus as it is"
12285360,12293280," um jay feels better said yeah definitely it's better than c3 but the huge advantage of c3 is"
12293280,12297520," that c3 already publicly available um"
12297520,12309920," so that's that's the main advantage of c3 it's publicly available but jack can already do more than c3"
12309920,12317760," that's the thing it's already more powerful than c3 so i don't know i don't know what john is waiting"
12317760,12325280," for he's trying to make a perfect language um but that's kind of his style right he works on"
12325280,12332480," on projects for a very long time right so he worked on witness like for seven years or something like that"
12332480,12337520," right so it's completely normal for him to have like a very long project like long-term project"
12337520,12343200," and then just release it to the public so and they usually like masterpieces or whatever"
12343200,12349120," have you tried carbon no i haven't tried it it's just like the google's rust is that what this"
12350880,12356720," he said he said he has financial problems right now did he say that uh the only thing i remember he said"
12356720,12367040," publicly is that a braid anniversary didn't sell as well as he expected but he didn't say that it flopped"
12367040,12374720," right it's just it simply didn't sell as well as he expected right could have been better but i mean it's fine"
12375840,12384720," uh right that's the only thing brett university did terribly like again if you look at his official"
12384720,12391040," statement that he did on twitter at some point i think is that the only thing he said is just it didn't"
12391040,12401280," do as well as they expected right it still uh earned more than they spend on making it but it didn't do"
12401280,12408240," as well as they expected so that's about it saying that it's just like they're in a bad financial situation"
12408240,12414240," i don't know i haven't heard that personally maybe they are right now but the only thing i heard is that"
12414240,12418880," it's just bright university didn't do as well as they expected but it wasn't complete fairly"
12420800,12428400," um uh he said in one of the streams that there is financial hardship okay"
12428400,12430640," okay okay so i can see them"
12430640,12436720," he's finding he just can't afford to hire as much people as he would like to"
12436720,12442320," well i suppose generally is the situation in uh game industry is a little bit"
12442320,12448320," meh and to be fair like you know economic situation in the entirety of the world is kind of"
12448320,12454880," it's kind of difficult because the world is kind of in a in an economical transition so to speak i would"
12454880,12461200," say there is a lot of things going on in the world and the world is trying to adapt so"
12461920,12469680," we kind of have to get through that kind of get through that but anyway uh so it was a fun stream"
12469680,12477680," you guys stay safe thanks everyone who is watching right now i really appreciate it have a good one and"
12477680,12486480," uh thank you so much uh thank you so much uh core quarter and keanu thank you so much for all the subs"
12486480,12491520," uh so yeah i love you"
