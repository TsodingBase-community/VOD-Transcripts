start,end,text
0,6180," Hello everyone and welcome to yet another recreation programming session with Mr. Zozin."
6180,11760," So today we're going to continue developing Coil, the game that we've been developing for some time,"
11760,16780," but we actually paused the development because I was in the middle of rewriting that game"
16780,24740," from TypeScript to C3 compiled to WebAssembly. And you know what? I actually succeeded."
25120,31320," It's pretty much rewritten in C3, right? So not everything is completely rewritten in C3,"
31320,37640," but majority of the game is actually in C3. So we can actually take a look at all of the MTS files."
37640,42340," MTS files are the TypeScript files, but they're modules, right? So they're run in the module mode."
42340,48000," And if we concatenate all of them and we count the amount of lines, this is how many lines of TypeScript"
48000,53940," we have in the entirety of the game. It's not too much actually, right? So it's just below 500."
54280,66280," How many lines of C3 code do we have in this game? 2,000. 2,000 lines of C3 and 500 lines of TypeScript"
66280,73480," to sort of glue all of that together. That's basically the idea. That's basically the entirety of the game."
73480,91480," So, and the game actually consists of two WASM binaries. The client WASM, right? And the server WASM. So the client WASM is compiled from client C3, right? And correspondingly, the server WASM is compiled from server C3."
91480,103480," They share the logic of updating the world, right? Because client should be able to update the world on its own, and the server should be able to update the world."
103480,114480," And sometimes they basically synchronize and agree whether the world is in correct state, right? To be able to agree that the world is in a correct state, they need to be able to simulate the world in a similar fashion."
114480,122480," Because of that, all of the logic related to the simulating of the world that is shareable between client and the server is located in a common C3."
122480,133480," So basically, this is module include into the client C3 when we compile client WASM. And this, the same module common C3 is included into server C3 when we compile server WASM."
133480,142480," So that's how it works. So then we have a client MTS, which is a TypeScript program, which is then compiled to JavaScript, but that's besides the point."
142480,146480," In the future, I suppose, all of the JavaScript is going to be TypeScript, right?"
146480,157480," So if I understand correctly, everything moves towards just ECMAScript supporting the types of TypeScript and the runtimes simply stripping everything off, right?"
157480,162480," So everything goes towards that. A lot of JavaScript runtimes already kind of do that."
162480,167480," And so there is like an experimental browser extension that also does that as well."
167480,173480," So TypeScript is basically the future JavaScript anyway. So it's just like an intermediate step that we compile into JavaScript."
173480,180480," But I feel like in the future, we're going to have even less JavaScript. At some point, the server part is going to be completely native."
180480,186480," That's my ultimate goal, that the server part is not going to have any JavaScript at all, right?"
186480,195480," It's going to be like a native executable that you just run. And the client is going to be like primarily WASM that just connects to that native executable on the other machine."
195480,204480," Right, so in any case, client_mgs, right? So this entire thing, what this entire thing does, one of the things it does, it instantiates the WASM client, right?"
204480,212480," So it fetches the WASM client, that client.wasm file, right? And instantiates WASM blob."
212480,221480," It provides a bunch of the functions that this WASM blob needs, a bunch of functions from the standard C library, math functions and stuff like that, right?"
221480,227480," So it just expects them to be there, so I provide them. And a bunch of platform stuff, right?"
227480,231480," So essentially, right now, it can play sounds and stuff like that."
231480,236480," So basically, some sort of interface to the platform where the client is running, right?"
236480,242480," And this is the function that the client, the WASM blob, can call to do something in the browser."
242480,248480," So the blob itself, on the other hand, has a bunch of interesting functions, right?"
248480,251480," So that we periodically call, right?"
251480,257480," So essentially, the most important function that we periodically call is probably a renderGame, right?"
257480,263480," So a renderGame function, we just tell the game to render a single frame, right?"
263480,270480," So we're organizing a loop, so requestAnimationFrame, so here is the loop that we're organizing."
270480,274480," And within that loop, we're just constantly calling renderGame."
274480,276480," So you have this WASM blob."
276480,282480," It has a function renderGame, which renders a single frame, and we're just calling it on each frame."
282480,286480," Okay, render the next frame, render the next frame, render the next frame, right?"
286480,290480," And we also give it the data time, how much time has passed, right?"
290480,297480," And internally, this entire blob maintains its own state, its own state of the game, and then just renders the frames."
297480,307480," Then, after you render a single frame of the game, what we're doing, we are extracting that frame and putting it on the canvas, right?"
307480,314480," So we have a special function, displaySwapBackImageData, whatever."
314480,318480," So historically, it was called like that, but that doesn't really matter that much."
318480,325480," So essentially, through a function pixelsOfDisplay, we extract a pointer in the WASM memory where the pixels of the frame are located,"
325480,330480," and we just create that data image, image data out of that, and we just put that on the canvas."
330480,331480," So that's how it works."
331480,334480," We constantly say, okay, render the next frame, give me the pixels."
334480,339480," Render the next frame, give me the pixels, and so on and so forth, right?"
339480,342480," So, and here comes the interesting part."
342480,345480," How does this blob accept input?"
345480,349480," Right, so the blob has functions keyUp and keyDown, right?"
349480,356480," When the key is pressed, these corresponding events are sent into that blob, and it modifies its state,"
356480,362480," so then next time you call renderGame, that input is going to be taken into account, right?"
362480,366480," So now we are thinking about the game as sort of like this black box, right,"
366480,373480," into which we need to feed the data and get frames out, and it's completely abstracted away from what the game is actually doing there."
373480,375480," We don't freaking know."
375480,379480," What we do is just we're feeding the inputs, the user inputs into that blob,"
379480,383480," and we're getting out the pixels that we just put on the screen, right?"
383480,385480," So we don't give a shit anymore, right?"
385480,389480," So the only thing we need to do, we just need to provide some capabilities for that blob to do something, right?"
389480,394480," So to play sounds, for instance, by itself it cannot play sounds."
394480,398480," So, yeah, so when we, when the keys are pressed, right?"
398480,402480," So keyUp or keyDown, we're just feeding that information into the blob."
402480,406480," And the most interesting thing, sometimes we're receiving messages,"
406480,411480," sometimes we're receiving messages from the network, from the server."
411480,413480," How do we feed them into the blob?"
413480,425480," So there's a special function that takes array buffer and then allocates a temporary buffer, a temporary buffer within the blob's memory,"
425480,435480," copies the entire bytes of the message into that buffer, and then we feed that pointer into the process message function of the blob."
435480,442480," So when we receive bytes from the network, when we receive bytes from the network, we just put them into the wasm memory."
442480,444480," We don't try to interpret them at all."
444480,446480," Like we don't fucking know, we receive some garbage."
446480,453480," Like we put that into the wasm memory, into the temporary wasm memory, and we just give the pointer to the process message of that blob,"
453480,457480," and blob already parses it and decides what to fucking do with that."
457480,464480," And through this mechanism, blob receives information about new players connected, some player position is updated, and so on and so forth."
464480,468480," So this is basically how the blob itself communicates with the server, right?"
468480,474480," But the glue code outside of the game doesn't know anything about how the game works and all."
474480,477480," So the process message, as you can see, it returns a boolean."
477480,483480," And essentially, if it returns false, that means something bad happened within process message."
483480,486480," For example, message was incorrect, right?"
486480,494480," And in that case, it's an indication for the platform for the platform where the game is running to just close that specific connection to the server, right?"
494480,497480," So it's just like the blob telling it something went wrong."
497480,500480," There is no point in communicating with that server anymore."
500480,504480," Just drop the connection and go into the offline mode, right?"
504480,506480," So that's that's basically how it works."
506480,507480," And that's it."
507480,511480," So in the entire thing in the tagline is like 236 lines of code."
511480,514480," And as you can see, there's a lot of comments in here, right?"
514480,515480," For to do's and stuff like that."
515480,521480," But I mean, it's just 300 lines of code, just like, you know, facilitates the game itself."
521480,532480," The game, the blob itself is, in fact, almost 1000 lines of code of C3, right?"
532480,534480," So you see how it all abstracted away, right?"
534480,537480," So now we're thinking in terms of this wasm blob."
537480,541480," And we're just feeding shit into that wasm blob, receiving the pixels."
541480,543480," And the wasm blob itself is here."
543480,545480," It's a pretty big and complicated thing."
545480,547480," And it does the actual game and stuff like that."
547480,553480," So interestingly, server is implemented in a similar fashion."
553480,562480," the only reason kind of why server still has JavaScript part is because it needs WebAssembly connections, right?"
562480,566480," So we don't really have a C3 WebAssembly library yet, right?"
566480,572480," One of the ideas that I have is to eventually make a session where implement my own C3 WebAssembly library."
572480,577480," And once I do that, we'll be able to completely get rid of the JavaScript on the back end."
577480,584480," So WebSocket, yeah, so all the communication with the game is happening within the WebSocket, right?"
584480,587480," So we'll need to support WebSockets at some point."
587480,597480," So, but anyway, interestingly, not everything is moved into the blob at the client."
597480,600480," Not everything is moved into the blob at the client."
600480,603480," So we have a little bit of a problem with assets, right?"
603480,609480," So we take a look at the function that is called on each frame to render the next frame, which is called the render game."
609480,610480," All right."
610480,615480," So I even put it to do here so that this render game should be probably called tick, right?"
615480,621480," So, but anyway, so what it accepts, it accepts too many images, right?"
621480,629480," As you can see, it accepts a lot of like image assets for keys, for the bombs, for particles, for walls, for the player."
629480,632480," And so on and so forth, right?"
632480,636480," And the way those things are created, right?"
636480,638480," So let's actually find the call to this thing."
638480,639480," They are within the asset manager, right?"
639480,641480," So here's the key image pointer."
641480,646480," And the way it is created, it is created through load wasm image."
646480,657480," Load wasm image just received the image, then takes its pixels, put them into the WebAssembly module and WebAssembly memory, and returns you the pointer where that location is."
657480,661480," So essentially, to just load all of the images up, right?"
661480,670480," So we have to go through these loops of first being in JavaScript, querying the image, then giving that to the blob, the pointers and stuff."
670480,672480," It's just kind of weird."
672480,680480," And to be fair, this is a place with a huge amount of complexity that should not be even there."
680480,687480," So the solution to this problem with managing the assets and stuff like that is rather simple."
687480,692480," And this is something that I already employed in OliveC demos, right?"
692480,695480," So we can take a look at OliveC if anyone is interested, right?"
695480,697480," So I am OliveC."
697480,702480," I'm going to put that thing in the chat and also in the description for anyone who's interested."
702480,705480," So we have the description."
705480,707480," So here it is."
707480,709480," So here is OliveC."
709480,714480," And this thing has kind of a similar approach, right?"
714480,717480," So it uses some resources to render things."
717480,723480," But these kind of images, they are not fetched from the server at all."
723480,728480," They are literally baked into the wasm blob."
728480,730480," Especially things like 3D, right?"
730480,731480," So let's actually find some 3D."
731480,734480," So all of that stuff is baked into the wasm."
734480,736480," And especially this kind of stuff."
736480,739480," So this entire teapot is part of the wasm module."
739480,743480," So you never have to retrieve that data from anywhere."
743480,745480," So it's just there."
745480,747480," So you need to bake it."
747480,752480," So interestingly enough, the way I bake it in C, right?"
752480,760480," The way I bake binary data in C is that I usually write some sort of a program that takes the binary data"
760480,761480," and converts it into C array."
761480,765480," I can actually show you how it looks like in OliveC specifically."
765480,768480," So I think so here is the build."
768480,770480," And here are some of the compiled assets, right?"
770480,772480," So for example, lava stone, right?"
772480,773480," So some sort of image."
773480,778480," And as you can see, I automatically generated this array of pixels for that specific image."
778480,785480," So then in the C code, I can just grab this array and treat it as already loaded image."
785480,800480," So what I want to do in today's session is essentially take all of these assets that I feed into the render game and just bake them into the wasm executable and just remove all of that shit already."
800480,808480," Just like I don't want the, you know, the glue code, the JavaScript glue code to be even concerned with this kind of stuff."
808480,826480," Ultimately, I want all of the assets of the game be either part of the wasm, like everything is just like put into the wasm blob or being a separate blob that can be fetched with a single fetch and then given to the wasm blob."
826480,830480," Right. So I think that simplifies the asset management, the management dramatically."
830480,835480," And this is how the serious old school game developers do that anyway."
835480,840480," Right. So when they're managing their assets, they just like basically concatenate them into a single blob."
840480,845480," They have a little bit of a meta information with the offsets where files are located and stuff like that."
845480,847480," And there you go. So that's basically it."
847480,849480," That's the simplest way to manage it."
849480,850480," And it's actually very effective."
850480,852480," Coil what?"
852480,854480," Yeah. So something like coil."
854480,863480," To be fair, I don't think it has to be zipping has to be done on the level of the game."
863480,869480," If we're going to be serving it over web server, it's the responsibility of the web server to do zipping honestly."
869480,874480," Right. So I don't think we are the ones who should actually zip anything."
874480,881480," So it should be the zips already. Exactly. Exactly."
881480,883480," So I don't think it's that much of a concern."
883480,889480," So, but what's interesting is that we're not programming in C, by the way."
889480,894480," We're not programming in some stinky old language from a 70s."
894480,898480," We're programming in the evolution of C, which is called C3."
898480,910480," And obviously, C3, being an evolution of C, must provide some sort of a mechanism of simplifying this kind of scheiße, meine Freunde."
910480,913480," It must provide some kind of scheiße."
913480,915480," And in fact, it fucking does."
915480,916480," So let's actually take a look at that."
916480,918480," I don't remember how it's called."
918480,920480," So it's kind of similar to C3 embed."
920480,922480," Yeah. Yeah. So not C3, C embed."
922480,929480," C recently got a thing called embed, which nobody implements except Clang recently."
929480,933480," So I don't know."
933480,941480," I think it's not in like a stable release of any of the compilers, but we have something like that in C3."
941480,944480," So let me see. Is it embed? I forgot the name of this thing."
944480,946480," Yeah, it's literally embed."
946480,951480," It's literally called embed and embeds binary data from a file."
951480,953480," So let's take a look at it."
953480,955480," Yeah."
955480,956480," What is it?"
956480,959480," Why did you put me constant expressions?"
959480,962480," Oh, here it is. Look at that. Look at that. Look at that."
962480,970480," So essentially, you can just take an image and embed it and assign it into an array of characters of unknown size."
970480,974480," Right. So this star just means that we don't know the size of this array,"
974480,977480," but it's going to be known at compile time anyway."
977480,978480," Right."
978480,981480," We as programmers don't know the size of the array,"
981480,986480," but the compiler will know at compile time the size of this array because of the embed,"
986480,988480," because it's going to be the size of the file."
988480,990480," Right. So that's basically what star means."
990480,992480," Programmer doesn't know the size of the array."
992480,993480," the size of the array."
993480,994480," The compiler does know."
994480,995480," Right."
995480,999480," So without the star means nobody knows the size of the array."
999480,1001480," Now the compiler know the programmer."
1001480,1002480," Right."
1002480,1003480," But it can be known at the runtime."
1003480,1007480," Only computer, running computer of the program knows the size of that array."
1007480,1010480," So that's basically the meaning."
1010480,1011480," Right."
1011480,1014480," And so this is essentially what we can do."
1014480,1016480," So it sounds pretty simple."
1016480,1017480," Right."
1017480,1023480," Just like basically take all of the PNG images and just like create global variables of that stuff and you're good to go."
1023480,1029480," Here we're including PNG."
1029480,1035480," And PNG is not straight up a row array of pixels."
1035480,1038480," It's a format that you have to parse."
1038480,1042480," And also uncompressed because it contains a little bit of a compression."
1042480,1045480," So you're not just taking the pixels of the image."
1045480,1051480," You're taking the contents of the PNG file that then inside of the wasm blob,"
1051480,1053480," you will still have to parse."
1053480,1058480," The cool thing of the approach that we have in here is that the parsing of the PNG is done by the browser."
1058480,1061480," You don't have to think about that."
1061480,1062480," Like it's already parsed by the browser."
1062480,1068480," But here, if you just just include it, if you just take the bytes of the PNG, you're on your own."
1068480,1071480," Do whatever the fuck you want."
1071480,1074480," So the adventure doesn't really stop here."
1074480,1078480," Honestly, the advantage doesn't stop at just including PNGs."
1078480,1080480," You need to parse them somehow."
1081480,1083480," Luckily, we kind of have a solution for that."
1083480,1088480," So which is the STB image header on the libraries, right?"
1088480,1097480," So the cool thing about nothing's STB libraries is that they are so minimalistic and so detached from the C runtime."
1097480,1105480," They still use libc a little bit, but they usually have some sort of flags and macros that allow you to not use libc."
1105480,1107480," So it is possible."
1107480,1109480," People even use that in embedded."
1109480,1114480," And because of that, they are compilable to WebAssembly."
1114480,1119480," These libraries work literally anywhere, including in a browser."
1119480,1121480," Isn't that the same?"
1121480,1122480," It's actually kind of cool."
1122480,1127480," So we can probably use this thing."
1127480,1129480," And how can we use that?"
1129480,1132480," So there's two ways we can go about that, right?"
1132480,1135480," So I already see people suggesting some things."
1135480,1136480," Image row."
1136480,1142480," So essentially what we can do, we need to take the images and convert them into their row state."
1142480,1150480," And in that case, we'll be able to just include them into the game and that's it."
1150480,1151480," Right."
1151480,1153480," That's one of the things we can do."
1153480,1154480," Right."
1154480,1160480," But that means we'll have to create a third party tool."
1160480,1161480," Right."
1161480,1165480," So that complicates the building process."
1165480,1177480," So now the building process should first build the tool, then run the tool on all of the assets, collect them into the blobs and then only compile the main application."
1177480,1182480," So it's an additional step in the entire thing."
1182480,1185480," And what that tool is going to be written in?"
1185480,1195480," That tool is probably going to be written in C because it's easier to interact with the STB image."
1195480,1196480," Right."
1196480,1197480," It's probably going to be written in C."
1197480,1198480," So that means we need a C compiler now."
1198480,1206480," So to build this entire project, you will need NPM, Node, C3 compiler and C compiler."
1206480,1211480," To be fair, you will probably need a C compiler anyway."
1211480,1212480," Right."
1212480,1218480," Even if you're going to be using this to be image as part of the wasn't blob and doing the parsing in the runtime."
1218480,1227480," So I feel like the complexity is rising in this case, regardless of what you do, unless you implement your own PNG parser."
1227480,1228480," Unless you do that."
1228480,1233480," And PNG parser in C3 and just embed it in there."
1233480,1237480," But we're definitely not going to be doing that because it's like too time consuming."
1237480,1238480," It will be kind of cool."
1238480,1239480," Right."
1239480,1240480," So to just like have that."
1240480,1243480," But I mean, we're definitely not going to be doing that."
1243480,1248480," So it boils down to what's bigger, the STB image code or all uncompressed images."
1248480,1249480," Yeah, basically."
1249480,1250480," So we'll see."
1250480,1251480," We'll see."
1251480,1260480," And what's interesting is that there will be a little bit of a problem with memory allocation in C3."
1260480,1267480," because STB image uses its own memory allocator."
1267480,1268480," Right."
1268480,1270480," And it's customized through macros."
1270480,1278480," So one of the things we want to be able to do, we want to be able to replace the allocator that STB image uses with the C3 allocator."
1278480,1285480," And I don't really know how to do that outside of the macro system of STB3."
1285480,1287480," So let me actually see."
1287480,1288480," So STB."
1288480,1290480," I think it's alloc."
1290480,1291480," STBI malloc."
1291480,1293480," Yeah, there we go."
1293480,1296480," So this is what you have to redefine in here."
1296480,1298480," On the one hand."
1298480,1300480," On the other hand."
1300480,1302480," So what they're doing."
1302480,1307480," They are referring specifically to the classical standard C functions."
1307480,1308480," Right."
1308480,1310480," Malloc, realloc and free."
1310480,1315480," Which we can maybe just say we can compile it to object file."
1315480,1317480," We can just compile it to object file."
1317480,1325480," And then just, you know, create versions in C3 and link with them or something like that."
1325480,1328480," So that could be an idea."
1328480,1331480," That could be an idea that we could have."
1331480,1335480," So in any case, that's basically everything I have right now."
1335480,1336480," Right."
1336480,1339480," So let's just jump into the implementation of this entire show."
1339480,1344480," So let's actually try to find an approach that will work for us."
1344480,1347480," And yeah, so we'll go ahead and do that."
1347480,1349480," So the first thing I probably will need to do."
1349480,1351480," I'll need to download STB image."
1351480,1352480," Right."
1352480,1353480," First prerequisite."
1353480,1356480," Is that how you pronounce this word?"
1356480,1357480," I don't really know."
1357480,1358480," I don't speak English."
1358480,1359480," I'm sorry."
1359480,1360480," I'm German."
1360480,1363480," I don't speak English."
1363480,1365480," So STB image."
1365480,1375480," I kind of want to try the idea of linking STB image with the wasm blob and parsing PNG at the runtime."
1375480,1376480," I want to try this idea."
1376480,1379480," I want to see how well it's going to work."
1379480,1384480," So one of the things we'll have to do, we'll have to compile STB image."
1384480,1385480," Right."
1385480,1386480," So into the object file."
1386480,1387480," Right."
1387480,1388480," So this is going to be STB image."
1388480,1394480," So minus C means that I'm compiling it into STB file, into object file."
1394480,1395480," So STB image."
1395480,1402480," And also I need to put the language B and C because because of the H it will recognize it as a different language."
1402480,1404480," Why does it keep killing my entire mini buffer?"
1404480,1405480," Excuse me."
1405480,1406480," Right."
1406480,1410480," C X C STB image dot H."
1410480,1411480," Right."
1411480,1413480," So let's go and just run this entire thing."
1413480,1414480," Okay."
1414480,1416480," So it compiled STB image."
1416480,1425480," But the problem here is that I won't be able to even link this entire object file with my wasm because this is an object file for elephant stuff."
1425480,1426480," Right."
1426480,1427480," Right."
1427480,1428480," You see what I'm talking about?"
1428480,1429480," Right."
1429480,1430480," So I won't be able to link it."
1430480,1432480," And furthermore, it doesn't contain the implementation of the library."
1432480,1433480," Right."
1433480,1438480," Because one of the things we have to do in here is to do D STB image implementation."
1438480,1439480," Right."
1439480,1441480," So that's the first thing we have to do, probably."
1441480,1442480," Let's go."
1442480,1443480," And does it."
1443480,1444480," Yeah."
1444480,1446480," It contains the entire of the implementation."
1446480,1449480," So if I try to in the build.js."
1449480,1453480," So I'm using JavaScript as a shell script for building things."
1453480,1454480," Yes."
1454480,1458480," I do that to simplify, to reduce the amount of moving parts you need."
1458480,1459480," Right."
1459480,1465480," So because if I'm going to start using shell, that means you need another language interpreter, essentially."
1465480,1468480," So, all right."
1468480,1480480," So, for example, if I try to build client, and as far as I know, even if the object file was compatible with C3, I won't be able to do that yet."
1480480,1483480," So let's disable the server and let's disable the type script."
1483480,1485480," And I'm going to try to do npm run build."
1485480,1486480," And let's see what's going to happen."
1486480,1487480," So this is what we're building."
1487480,1490480," And as you can see, it failed a known file that is to be image."
1490480,1491480," Oh, right."
1491480,1496480," It doesn't accept object files through the usual file command lines."
1496480,1498480," You have to pass them, I think, through the linker."
1498480,1501480," To pass the shell through the linker, you have to put -Z."
1501480,1502480," Right."
1502480,1505480," So when you put -Z, that means the next flag goes into the linker."
1505480,1508480," So we're actually linking this thing with all of that stuff."
1508480,1511480," So even if we do it like that, it's not going to work."
1511480,1515480," The linker will probably complain also with the known type."
1515480,1516480," Right."
1516480,1518480," So fail to create an executable, blah, blah, blah."
1518480,1519480," It doesn't really matter."
1519480,1524480," So the reason is that we're trying to compile to Wasm platform."
1524480,1525480," Right."
1525480,1531480," So, but this thing was just compiled to Linux x86-64, blah, blah, blah, blah, blah, blah."
1531480,1532480," Right."
1532480,1534480," So that's basically the problem."
1534480,1539480," One of the things we can try to do, we can try to build this thing with Wasm."
1539480,1540480," Right."
1540480,1542480," So let me actually see."
1542480,1547480," So maybe we can just straight up take this target flag."
1547480,1548480," Right."
1548480,1549480," And put it in here."
1549480,1550480," Right."
1550480,1553480," So let's actually tell Clang to use the same thing."
1553480,1557480," Since C3 uses LLVM, it's basically like Clang."
1557480,1558480," Right."
1558480,1559480," It's basically like Clang."
1559480,1561480," Object files and command line should be fixed in main."
1561480,1564480," I open an issue about it and it's completed."
1564480,1568480," In main, but I'm using the latest C3 version."
1568480,1569480," So I didn't really know."
1569480,1571480," I just compile it and it doesn't work."
1571480,1576480," So maybe I didn't compile the latest version."
1576480,1577480," Okay."
1577480,1578480," So the target."
1578480,1579480," Oh yeah."
1579480,1580480," It's, it's not that."
1580480,1581480," Okay."
1581480,1582480," All right."
1582480,1586480," So we're getting a pretty interesting start."
1586480,1587480," No such file."
1587480,1588480," Okay."
1588480,1590480," So I'm compiling it in a, in a wrong place."
1590480,1591480," Okay."
1591480,1592480," So that's fair."
1592480,1594480," Let's compile it in here."
1594480,1595480," Okay."
1595480,1599480," So yeah, since we're compiling it for Wasm, we don't have STD IO."
1599480,1602480," So one of the things we can do, we can just straight up disable it."
1602480,1605480," This is the cool thing about STB libraries is that."
1605480,1607480," This stuff is disableable."
1607480,1608480," Right."
1608480,1610480," So like, you don't want to use this thing."
1610480,1613480," Like you're working with an environment where you don't have the standard library."
1613480,1615480," Just, just disable it."
1615480,1616480," Right."
1616480,1617480," Just freaking disable it."
1617480,1618480," So let's go ahead and do that."
1618480,1620480," So I'm going to say, okay, disable that."
1620480,1622480," And STB leap."
1622480,1624480," And this is where it breaks down."
1624480,1628480," I didn't think it is disable that easily, specifically STD leap."
1628480,1633480," So I don't know, like you, you can't disable it."
1633480,1634480," Right."
1634480,1637480," So we post to this environment to bypass."
1637480,1639480," I think one of the things we can do."
1639480,1640480," Okay."
1640480,1641480," So let's do the following stuff."
1641480,1643480," I'm not going to disable that."
1643480,1644480," Right."
1644480,1645480," I'm going to just allow that."
1645480,1649480," But I think we should just allow undefined."
1649480,1650480," Right."
1650480,1655480," So there's one linker flag that just enables you to allow some of the undefined functions."
1655480,1660480," And the wasm module is going to basically expect them from the environment."
1660480,1660480," Right."
1660480,1662480," So that's what is going to happen."
1662480,1663480," So I don't remember."
1663480,1668480," I think if you just pass this flag in here, it will not work because it's a linker flag."
1668480,1670480," So one of the things we have to do, we have to say that it's a linker flag."
1670480,1671480," It's a linker flag."
1671480,1672480," This is how you define them."
1672480,1673480," Right."
1673480,1676480," So it's WL and comma and shit like that."
1676480,1677480," Okay."
1677480,1679480," It still complains about STD dot H."
1679480,1680480," Right."
1680480,1687480," So even though we allowed undefined, and we never really said that no standard library."
1687480,1690480," So that's a bit bizarre."
1690480,1692480," That's a bit bizarre."
1692480,1700480," How can I say that just like include everything, assume the standard library, but just allow undefined functions."
1700480,1703480," I'm not really sure because that worked before."
1703480,1705480," That worked before."
1705480,1707480," That worked at least in olive C."
1707480,1709480," So let me see how we do that in olive C."
1709480,1713480," So, because like, I don't know, it's kind of bizarre."
1713480,1715480," So allow undefined."
1715480,1720480," So that's basically the stuff we have."
1720480,1721480," Well, yeah."
1721480,1729480," So we just do an F no built in, no standard libraries, but this is because the code does not include any of that stuff anyway."
1729480,1738480," What if we have a situation when the code does include some functions from the standard library, but we going to provide our own."
1738480,1740480," functions anyway."
1740480,1744480," Is there any way to do that somehow?"
1744480,1746480," Is there any way to do that somehow?"
1746480,1748480," Clang flags war."
1748480,1749480," It drives me insane each time."
1749480,1750480," Yeah, exactly."
1750480,1752480," Especially if we want to do something about WebAssembly."
1752480,1754480," It's just like, it's always a pain in the ass."
1754480,1757480," Just like with any web technologies."
1757480,1758480," Right?"
1758480,1762480," So as soon as you start, start including web technologies anywhere."
1762480,1765480," So it just turns into shit."
1765480,1770480," Custom is to delete age in a cool directory."
1770480,1771480," Probably."
1771480,1772480," That's one of the things we can do."
1772480,1774480," But here's the interesting thing."
1774480,1777480," we have a copy of cb image."
1777480,1782480," We're going to be committing that copy into the repo."
1782480,1785480," That means we can do whatever the fuck we want with it anyway."
1785480,1786480," We can modify that."
1786480,1788480," We can just comment out some things."
1788480,1789480," We can just like hack it together."
1789480,1795480," It's not like we're like downloading it from third-party repo or whatever."
1795480,1797480," It's part of our source code."
1797480,1799480," We are responsible for that code now."
1799480,1801480," We can modify it however we want."
1801480,1804480," So that's kind of the beauty of these simple libraries."
1804480,1806480," Because you can modify them."
1806480,1807480," Right."
1807480,1811480," So let's go ahead and freaking do that."
1811480,1814480," So where is the thing?"
1814480,1815480," I'm going to try to compile it."
1815480,1816480," So it complains about that."
1816480,1821480," I'm going to disable the stbi."
1821480,1823480," No stdio."
1823480,1824480," All right."
1824480,1828480," And what if I just literally disable it?"
1828480,1829480," Okay."
1829480,1831480," So it includes it twice."
1831480,1832480," Nice."
1832480,1835480," Well, what's funny is that it finds stdarch and stddev."
1835480,1838480," But stdlib is out of the question."
1838480,1839480," Okay."
1839480,1840480," String is also out of the question."
1840480,1841480," Okay."
1841480,1842480," That's cool."
1842480,1846480," And math, I suppose, is also out of the question."
1846480,1847480," Right."
1847480,1849480," So assert is also out of the question."
1849480,1856480," So we can probably define our own assert to actually circumvent that."
1856480,1861480," So stbi assert is going to be actually empty."
1861480,1864480," And now it wants to have malloc."
1864480,1865480," Right."
1865480,1866480," So and now it complains."
1866480,1867480," Okay."
1867480,1869480," So it complains about missing functions."
1869480,1872480," And this is exactly where we want to allow undefined."
1872480,1874480," And didn't we allow undefined?"
1874480,1877480," I think we allowed undefined."
1877480,1878480," Right."
1878480,1882480," So implicit declaration calls and declare function malloc with the type void."
1882480,1883480," ISO C99."
1883480,1885480," But we're not using..."
1885480,1887480," This is not a pedantic shit."
1887480,1890480," Like why are you acting so pedantically about this kind of stuff?"
1890480,1891480," Just allow that."
1891480,1892480," Why is that narrow?"
1892480,1895480," That's kind of bizarre."
1895480,1900480," So what if I do std C11?"
1900480,1901480," Right."
1901480,1903480," I mean, it's like ISO."
1903480,1904480," Why is it so pedantic?"
1904480,1905480," I don't understand."
1905480,1908480," Bruh."
1908480,1909480," Stop being so pedantic."
1910480,1916480," Maybe if we try to do something like this."
1916480,1919480," And we'll be able to get rid of XC."
1919480,1922480," And this is just going to be C."
1922480,1923480," All right."
1923480,1925480," Forward declare."
1925480,1930480," But I mean, C usually just allows you to use undefined functions."
1930480,1934480," But maybe this is the latest Clang that doesn't allow you to do that."
1934480,1936480," It could be just the latest Clang."
1936480,1937480," All right."
1937480,1938480," You know, I've got an idea."
1938480,1944480," What if I just enable all of these things as Siphon actually suggested."
1944480,1945480," All right."
1945480,1947480," So let's actually do that."
1947480,1949480," And it's not going to compile."
1949480,1952480," But let's actually include our own versions of these things."
1952480,1953480," Like literally."
1953480,1955480," All right."
1955480,1956480," So it cannot find them."
1956480,1962480," But then I'm going to say, okay, just look for these things in the current path."
1962480,1963480," All right."
1963480,1965480," So now it cannot find a string."
1966480,1967480," Okay."
1967480,1969480," So let's actually open string.h."
1969480,1970480," Uh-huh."
1970480,1971480," Now it cannot find math."
1971480,1973480," Let's actually create math.h."
1973480,1975480," I think I already did that before."
1975480,1975480," Yeah."
1975480,1976480," Okay."
1976480,1977480," That's cool."
1977480,1978480," So, and now."
1978480,1982480," Funnily enough, it complains about malloc."
1982480,1984480," We can forward declare malloc stuff now."
1984480,1986480," For instance, in stdlib."
1986480,1988480," Right."
1988480,1989480," Void malloc."
1989480,1994480," And what's the signature of malloc specifically in terms of like arguments and stuff like that."
1994480,1995480," So let's actually see."
1995480,1996480," So manual."
1996480,1997480," This is the malloc."
1997480,1999480," So it accepts this stuff."
1999480,2000480," Right."
2000480,2001480," So that's the thing we have."
2001480,2002480," Uh-huh."
2002480,2004480," So what else do we have in here?"
2004480,2006480," Uh, it doesn't know a size t."
2006480,2007480," Right."
2007480,2012480," But isn't it coming from the definition in the std def?"
2012480,2014480," Uh, it's not defined."
2014480,2015480," It's actually include."
2015480,2018480," And to be fair, we need to have inclusion guard."
2018480,2023480," Because stdlib, stdlib, stdlib is included two times."
2023480,2024480," Right."
2024480,2025480," So it's a two timer."
2025480,2027480," So that means we need to guard it."
2027480,2029480," stdlib.h."
2029480,2030480," Right."
2030480,2032480," So I'm going to also define this thing."
2032480,2034480," And this is the end if."
2034480,2035480," Like that."
2035480,2036480," All right."
2036480,2037480," What else do we have in here?"
2037480,2038480," So stb3."
2038480,2039480," Uh, all right."
2039480,2040480," So, yeah."
2040480,2043480," So we're implementing our own stdlib again."
2043480,2045480," So this is going to be a pointer."
2045480,2047480," Uh, what else do we have in here?"
2047480,2048480," Memset."
2048480,2049480," Okay."
2049480,2052480," So I suppose it's part of the string, if I'm not mistaken."
2052480,2053480," Right."
2053480,2054480," So this is going to be memset."
2054480,2055480," We can even."
2055480,2056480," Yeah."
2056480,2061480," So we have to go through this weird process of just taking all of these standard functions"
2061480,2065480," and just like declaring them and maybe even potentially implementing them."
2065480,2068480," Because who said we can't just implement them at some point?"
2068480,2071480," We can't implement them on this link."
2071480,2072480," Uh, we can actually."
2072480,2075480," What is this syntax?"
2075480,2076480," Damn."
2076480,2077480," This is a cool syntax."
2077480,2085480," It just means that you pass a pointer, pass an array of the size n, but it's coming from"
2085480,2086480," man."
2086480,2088480," Is that a C syntax?"
2088480,2091480," Does anybody know if that's some sort of a GNU extension or something?"
2091480,2092480," This is actually super cool."
2092480,2094480," Uh, now it's a, okay."
2094480,2101480," It would be kind of cool that if like a compiler, if compiler knows the size of the n, it can check"
2101480,2102480," that at compile time."
2102480,2105480," Uh, you only seen this syntax in my pages."
2105480,2110480," I suppose this is like, um, for documentation purposes, like in Win API, uh, there's like markers"
2110480,2114480," of input, output parameters, but they are just macros."
2114480,2115480," They don't mean anything."
2115480,2116480," Um, right."
2116480,2118480," So this is actually kind of cool."
2118480,2119480," Right."
2119480,2122480," So it would be interesting if like C just supported all of that stuff."
2122480,2129480," Uh, but anyway, so mem copying, uh, so it's going to be 11."
2129480,2133480," And so, and also has restrict and stuff like that."
2133480,2134480," Yeah."
2134480,2137480," So some restrict stuff."
2137480,2138480," Mm."
2138480,2139480," Okay."
2139480,2141480," So what else do we have in here?"
2141480,2144480," So assert, it doesn't know anything about assert."
2144480,2150480," Uh, so in std lib, we can actually maybe define stbi assert."
2150480,2154480," It accepts like something and just replace it with nothing."
2154480,2159480," Uh, what else do we have in, uh, macro redefined."
2159480,2160480," Hmm."
2160480,2163480," It's actually defined before."
2163480,2167480," Uh, how are we going to be doing all of that?"
2167480,2172480," So, um, it needs to be defined before anything else."
2172480,2176480," How do you define function macros from the command line arguments?"
2176480,2177480," Mm."
2177480,2178480," Mm."
2178480,2179480," Mm."
2179480,2179480," Mm."
2179480,2180480," Mm."
2180480,2184480," I suppose I can wrap around stb image."
2184480,2185480," Right."
2185480,2196480," With std image top, which is also C, which just includes, uh, stb image, image C, right."
2196480,2202480," And just defines, uh, stbi asserts nothing like that."
2202480,2203480," Right."
2203480,2204480," So it just defines that."
2204480,2205480," Right."
2205480,2209480," So I suppose, and we also have to, uh, properly compile it."
2209480,2210480," So it's a top."
2210480,2211480," All right."
2211480,2212480," So what is it saying here?"
2212480,2215480," It's redefined, but it has to be, uh, stb image."
2215480,2217480," Let's remove that in here."
2217480,2219480," Uh, still doesn't like that."
2219480,2224480," Um, so macro re, how is that redefined bro?"
2224480,2225480," Previous definition."
2225480,2226480," What?"
2226480,2227480," Oh, stbi assert."
2227480,2228480," Ah, I define it in command line argument."
2228480,2229480," Okay."
2229480,2230480," Okay."
2230480,2231480," Okay."
2231480,2232480," I'm sorry."
2232480,2233480," So that's basically the reason."
2233480,2234480," Okay."
2234480,2235480," Okay."
2235480,2236480," That explains it."
2236480,2237480," Pow."
2237480,2238480," Pow."
2238480,2239480," So it needs the math."
2239480,2241480," Um, so can we get rid of the math?"
2241480,2248480," Can we get rid of the math?"
2248480,2249480," Can we get rid of the math?"
2249480,2250480," You know what?"
2250480,2254480," I think this is a good indicator that this is not the path we want to go."
2254480,2255480," Right."
2255480,2260480," So the path we're going, by the way, the path we're going is, uh, essentially, let's bake"
2260480,2262480," the library into the game."
2262480,2263480," Right."
2263480,2266480," And parse the PNG on the game."
2266480,2269480," This is probably not a good way to do that."
2269480,2275480," So if this is the stuff we have to go through to do all of that, just to get the image into"
2275480,2277480," the game, maybe fuck that."
2277480,2282480," So the other approach is to have a third-party separate tool, which is going to be, by the"
2282480,2286480," way, native, which is going to have an access to libc and so on and so forth."
2286480,2287480," Right."
2287480,2288480," So we're not going to have any problems."
2288480,2294480," First, prepare the binary block and then include it into the game."
2294480,2298480," So, yeah, I guess this is a good indication of that."
2298480,2301480," So, and we didn't really fail with this entire thing."
2301480,2302480," We just gathered the information."
2302480,2303480," Right."
2303480,2309480," So this is how you, by the way, assess, uh, whether it's worth doing that by literally"
2309480,2313480," doing that and seeing if it's worth of doing that or not."
2313480,2320480," So before I went into like this implementation, I didn't know that I'm going to encounter all"
2320480,2321480," these problems."
2321480,2322480," problems."
2322480,2324480," I think I kind of encountered them before, but I already forgot about that."
2324480,2324480," Right."
2324480,2327480," So what I just did, I just gathered a little bit of information."
2327480,2331480," I estimated whether it's worth doing this thing and decided it's probably not worth doing"
2331480,2332480," that."
2332480,2334480," There's nothing wrong with that."
2334480,2335480," Honestly."
2335480,2336480," Right."
2336480,2342480," So a lot of web developers like quite often feel ashamed when they commit to a certain"
2342480,2343480," way of doing that."
2343480,2347480," And that way turns out not to be the way, not the good way to do that."
2347480,2353480," Since they're already committed doing it this way, they're kind of ashamed to like backtrace"
2353480,2356480," their, their thoughts and try something else."
2356480,2357480," Right."
2357480,2358480," So, because that, that feels like they failed."
2358480,2359480," Right."
2359480,2362480," So, but, but in that case, I think you should not be ashamed of that."
2362480,2363480," Right."
2363480,2370480," So, because you didn't fail, you estimated whether it, it's worth doing a certain thing."
2370480,2371480," Right."
2371480,2373480," It is what it is."
2373480,2376480," And we came to a conclusion that it's, it's not worth it."
2376480,2378480," Honestly, it's just not worth it."
2378480,2384480," So let's build a separate tool, maybe in C3, by the way, we can actually build it in C3."
2384480,2385480," Let's build a separate tool."
2385480,2390480," Um, and which is going to process the, uh, you know, the assets and turn them into the"
2390480,2391480," binary blob."
2391480,2393480," And then we're going to feed that binary blob into the game."
2393480,2394480," Right."
2394480,2398480," I'm already 100% sure that this is what we want to do, but I'm already streaming for like"
2398480,2399480," one hour almost."
2399480,2400480," Right."
2400480,2403480," So on Twitch, and I think I, I want to make a small break."
2403480,2404480," Right."
2404480,2406480," I want to make a cup of tea and all that just."
2406480,2407480," So, um, all right."
2407480,2408480," All right."
2408480,2409480," We're back."
2409480,2414480," So let's go ahead and just implement the tool that is going to facilitate the preparation"
2414480,2416480," of the assets for our game."
2416480,2417480," Holy shit."
2417480,2418480," I didn't know."
2418480,2419480," I knew such words."
2419480,2422480," So how should we actually call a such thing?"
2422480,2424480," So maybe we'll call it Packer."
2424480,2425480," Uh, so it's going to be C3."
2425480,2428480," We're going to write it in C3, by the way, it's going to be called Packer."
2428480,2429480," Uh, right."
2429480,2434480," So it's going to be a main like so, and it's going to be a native application."
2434480,2435480," Native application."
2435480,2436480," Native application."
2436480,2437480," Native application."
2437480,2440480," I'm going to import stdio."
2440480,2441480," IO."
2441480,2444480," And I'm going to say print and hello."
2444480,2445480," Hello."
2445480,2446480," Right."
2446480,2449480," Because we're in Germany right now."
2449480,2454480," Um, so C3C compile run Packer C3."
2454480,2455480," Let's go."
2455480,2456480," So that seems to be working."
2456480,2457480," Okay."
2457480,2458480," That's pretty cool."
2458480,2462480," And it's also automatically, uh, just created, uh, this identity."
2462480,2468480," Um, like I don't like how many moving parts this will create in the build process."
2468480,2475480," And all of these building parts, moving parts will be, have to be glued together with something."
2475480,2477480," I suppose for now, it's going to be JavaScript."
2477480,2482480," Maybe as soon as we get rid of the JavaScript, we're going to use C3 to build C3 in an op style."
2482480,2483480," We'll see."
2483480,2484480," We'll see."
2484480,2489480," But I really don't want to overcomplicate the building process."
2489480,2495480," in terms of the amount of, you know, different languages I have to use to just build a thing."
2495480,2496480," Um, right."
2496480,2500480," But anyway, so we need to link with, uh, stb image, right?"
2500480,2502480," So we need to link with stb image."
2502480,2505480," So we have a build.js."
2505480,2508480," Uh, this is where we're doing all of that."
2508480,2515480," Interestingly, there is a little bit of a problem with CMD, uh, function that we use in build.js."
2515480,2522480," And the problem here is that it is asynchronous, right?"
2522480,2529480," In the sense that, yeah, it just, it just returns you a process, but it runs this process synchronously."
2529480,2534480," Sometimes we'll need to make the processes wait for a little bit."
2534480,2536480," And I'm not 100% sure."
2536480,2540480," Uh, so for now it's not written in TypeScript or anything."
2540480,2545480," So I want to find documentation for node.js child process and see what child process can do."
2545480,2546480," Right."
2546480,2549480," So when I do, how do I spawn?"
2549480,2552480," So there is a function spawn, right?"
2552480,2555480," So that's the function we're talking about."
2555480,2557480," Um, yep."
2557480,2561480," So prepare a child to run independently of its parent process."
2561480,2562480," Okay."
2562480,2568480," So in what it returns, it returns a thing called child process and child process itself."
2568480,2570480," Uh, all right."
2570480,2576480," So yeah, you can, we can actually specify different kinds of dependencies, right?"
2576480,2579480," So, because it has events, if I'm not mistaken, right?"
2579480,2587480," So close, the close event is emitted after process has ended and the STDIO of the child process has been closed."
2587480,2595480," This is one of the things we can do, which is rather interesting in my opinion, which is we can just call a CMD."
2595480,2596480," All right."
2596480,2601480," So, and I'm trying to just build the clang or build a STB image."
2601480,2602480," Right."
2602480,2603480," So how are we going to be building this to the image?"
2603480,2604480," So do we have, yeah."
2604480,2606480," So this is what we want to do in here."
2606480,2607480," We're not going to be building for the target."
2607480,2610480," We're not going to be doing any of that choice."
2610480,2611480," Uh, right."
2611480,2613480," So we're going to be just building it the normal way."
2613480,2622480," Um, so, and it's going to be probably just H X C and just the implementation."
2622480,2626480," So in terms of the STB image itself, I think I want to actually start over."
2626480,2627480," Right."
2627480,2630480," So, because I made modifications to that thing and I don't remember what modifications I did."
2630480,2635480," So just in case, uh, I want to redownload the whole thing."
2635480,2636480," All right."
2636480,2639480," So just to be 100% sure, cause you never know."
2639480,2640480," Uh, right."
2640480,2643480," So yeah, this is how we're going to be building all of that stuff."
2643480,2646480," And I wonder if I can do a little bit about Emacs magic."
2646480,2647480," Right."
2647480,2649480," So I'm going to say anything that is not space."
2649480,2650480," It's not really good way to do that."
2650480,2656480," But anyway, anything that is not space, capture that shit, capture that shit and just replace"
2656480,2658480," it with that shit, but rubbed in quotes."
2658480,2660480," Can your beam do that?"
2660480,2661480," It can, I know."
2661480,2668480," Uh, so essentially, uh, it's very fucking easy."
2668480,2671480," No, very fucking easy."
2671480,2673480," So let's do CMD."
2673480,2678480," Um, and one of the things we can do, since it returns the child process."
2678480,2686480," We can do something like on close, on close and, uh, close accepts."
2686480,2687480," Yeah."
2687480,2688480," Function."
2688480,2690480," So it's, it's data, but we're going to ignore this entire thing."
2690480,2693480," And we're going to rub this entire shit into that."
2693480,2696480," And essentially this creates a very interesting thing."
2696480,2703480," All of the commands below are called only after this command is done."
2703480,2704480," Okay."
2704480,2709480," It's even syntactically creates an interesting structure, isn't it?"
2709480,2710480," Though."
2710480,2711480," Yeah."
2711480,2713480," I'm not sure if that's a good idea, but, but I want to try that."
2713480,2714480," It's kind of an interesting idea."
2714480,2715480," Right."
2715480,2716480," Yeah."
2716480,2717480," Right."
2717480,2718480," So you can kind of like create dependencies."
2718480,2719480," Right."
2719480,2720480," Uh, in here."
2720480,2721480," Right."
2721480,2725480," So first you, you build that thing because the consequent things depend on that thing."
2725480,2731480," But within a single thing in here, these two commands can be run simultaneously because they're independent."
2731480,2736480," So you, you kind of decide yourself what kind of like structure of independent things you have in there."
2736480,2737480," Uh, it's not like a callback."
2737480,2738480," Hell."
2738480,2739480," Eh, not really."
2739480,2740480," Actually."
2740480,2741480," Not really."
2741480,2744480," So it's basically turns into a tree."
2744480,2745480," Right."
2745480,2747480," It's a tree of dependencies, so to speak."
2747480,2749480," But I mean, the dependencies usually build dependencies."
2749480,2750480," They're not tree."
2750480,2753480," They're usually a cyclic, cyclic graphs."
2753480,2759480," So, and this is where the problem may start, arrive, organizing all that stuff."
2759480,2761480," And because of that, make file this thing."
2761480,2764480," But for now, for now, I'm going to do it like that."
2764480,2769480," As soon as the complexity starts exploding, I will try to come up with a better approach."
2769480,2772480," It's just right now, this is the easiest thing to do."
2772480,2777480," So just say, it's just the easiest thing to do."
2777480,2778480," So, all right."
2778480,2780480," Let me see if we can, we can do that."
2780480,2782480," By the way, why am I commenting now?"
2782480,2784480," I've specifically created this sort of thing in here."
2784480,2789480," So the reason why I'm doing it like that is because now building TypeScript is enabled."
2789480,2793480," I can disable it by removing a commission mark."
2793480,2796480," And then I can enable it again by adding it."
2796480,2801480," So I can take a whole block and easily enable, disable."
2801480,2802480," It's the other way around."
2802480,2806480," Enable, disable, enable, disable, enable, enable, enable."
2806480,2810480," For instance, in here, there is an entire block of 32 lines of code."
2810480,2813480," And you can also disable the entire thing."
2813480,2815480," We enable it again."
2815480,2816480," It's pretty cool."
2816480,2817480," It's pretty cool."
2817480,2821480," So, just for tasting purposes."
2821480,2823480," Can your ass do that?"
2823480,2825480," Can your ass do that?"
2825480,2826480," Can your ass do that?"
2826480,2828480," Can your ass do that?"
2828480,2829480," Can your ass do that?"
2829480,2832480," Okay, I'm going to tell you one secret."
2832480,2833480," Okay."
2833480,2837480," It's not the language that can't do things."
2837480,2841480," It's, you know who?"
2841480,2842480," The programmer."
2842480,2843480," So anyway."
2843480,2844480," Philosophy."
2844480,2857480," It's not about the language, right?"
2857480,2860480," You can do anything in any language."
2860480,2861480," Right?"
2861480,2864480," So, when somebody said, oh, it's impossible to do that."
2864480,2866480," And I'm like, no, it's not about the language."
2866480,2868480," That means that they can't do that."
2868480,2870480," And that's already a skill issue, my friend."
2870480,2872480," That's already a skill issue."
2872480,2877480," If I saw one, oh, ho, ho, ho, ho, ho, ho."
2877480,2879480," Sorry."
2879480,2882480," What the fuck is that in this T?"
2882480,2887480," Anyways."
2887480,2889480," And this shit doesn't even fucking work."
2889480,2891480," Missing script build.js."
2891480,2892480," How is that missing script?"
2892480,2893480," Oh, because it's like that."
2893480,2894480," Okay."
2894480,2895480," All right."
2895480,2896480," Okay."
2896480,2898480," That worked kind of."
2898480,2899480," Honestly."
2899480,2900480," Yeah."
2900480,2902480," So, essentially."
2902480,2905480," So, where we were building."
2905480,2908480," So, we built these two things, but I don't fucking see."
2908480,2909480," Aha."
2909480,2911480," So, here's the clang."
2911480,2913480," And then it kind of failed."
2913480,2917480," Can we actually see why it failed?"
2917480,2918480," All right."
2918480,2921480," So, let me comment out this entire thing."
2921480,2925480," And I want to just take the data of this stuff."
2925480,2927480," And I want to just consolidate that data."
2927480,2930480," Consolid that data."
2930480,2932480," It's zero."
2932480,2934480," So, it actually successfully compiled."
2934480,2935480," That's what it means."
2935480,2936480," That's pretty cool."
2936480,2937480," So, what if I."
2937480,2938480," What if I."
2938480,2939480," What if I."
2939480,2940480," Put something like that in here."
2940480,2941480," And say."
2941480,2942480," Okay."
2942480,2943480," It doesn't compile."
2943480,2944480," It returns one."
2944480,2945480," So, essentially."
2945480,2946480," What that means."
2946480,2947480," That means."
2947480,2948480," We can do."
2948480,2949480," If data equal to zero."
2949480,2950480," Only then."
2950480,2951480," Do this kind of thing."
2951480,2952480," You can do."
2952480,2953480," Okay."
2953480,2956480," But that probably means we'll have to maybe create an additional thing in here."
2956480,2957480," Like so."
2957480,2958480," All right."
2958480,2964480," And maybe it would be easier to just do something like this."
2964480,2965480," Uh-huh."
2965480,2966480," So."
2966480,2967480," Yeah."
2967480,2975480," If there is any error, the consequent things are not going to be run at all."
2975480,2976480," Look at that."
2976480,2978480," So, the dependency has failed."
2978480,2979480," The dependency has failed."
2979480,2981480," None of these things were run."
2981480,2987480," As soon as the dependency did not fail, the consequent commands do in fact run."
2987480,2992480," So, as of right now, I know that this is a stupid solution which smells like a callback hell."
2992480,2995480," But it kind of works for what I'm trying to do in here, honestly."
2995480,2996480," So, it's kind of cool."
2996480,3000480," In the future, probably, we're going to have problems with this kind of thing."
3000480,3004480," And honestly, it would be better if all of that was like promises and stuff like that."
3004480,3012480," Is there any spawn that returns a promise instead of the process or whatever?"
3012480,3014480," That would have been cool."
3014480,3018480," So, they probably have to use some promissify or whatever the fuck it is."
3018480,3021480," And I'm just not in the mood of, you know, exploring that right now."
3021480,3022480," Right?"
3022480,3024480," So, I'm not in the mood of doing too much JavaScript."
3024480,3027480," If you know what I'm talking about, my friend."
3027480,3028480," If you know what I'm talking about."
3028480,3029480," Anyway."
3029480,3031480," So, the next thing we need to do."
3031480,3034480," We need to do the backer."
3034480,3036480," We need to do the backer."
3036480,3039480," So, it's going to be cmd."
3039480,3041480," It's going to be c3c."
3041480,3048480," Might as well, actually, not only do compile, but also compile run."
3048480,3050480," So, that's one of the things we can do."
3050480,3051480," Compile run."
3051480,3056480," And when I'm compiling, I'm going to be doing packer c3."
3056480,3059480," And in here, I'm also going to be doing z."
3059480,3060480," Okay."
3060480,3065480," So, people say that in the latest one, the problem with OBG has been solved."
3065480,3069480," So, that means I should be able to do something like this."
3069480,3070480," OBG."
3070480,3071480," Oh."
3071480,3072480," Right."
3072480,3073480," I should be able to do something like this."
3073480,3074480," So, let's figure it out."
3074480,3076480," Let's see if it's going to work."
3076480,3078480," People told me that it's supposed to work."
3078480,3079480," It is working."
3079480,3080480," Okay."
3080480,3081480," So, Sifon was right."
3081480,3084480," But it was not fixed for target WASM."
3084480,3086480," It was not fixed for target WASM."
3086480,3088480," Damn."
3088480,3091480," So, if I really put..."
3091480,3095480," But I mean, it was failing because it was not WASM nonetheless."
3095480,3096480," Okay."
3096480,3097480," So, whatever."
3097480,3098480," All right."
3098480,3099480," So, that's actually pretty cool."
3101480,3102480," Okay."
3102480,3103480," So, I suppose this is..."
3103480,3105480," They fixed it because of..."
3105480,3108480," Yeah, because Sifon Altea actually submitted an issue."
3108480,3109480," Okay."
3109480,3114480," Like, it's super cool that some people finally started to use this language."
3114480,3117480," Because this language has pretty interesting potential."
3117480,3118480," It's a pretty interesting language."
3118480,3120480," But it's very fucking unpolished."
3120480,3122480," And it's unpolished because nobody uses it."
3122480,3125480," And nobody uses it because it's unpolished."
3125480,3126480," Right."
3126480,3130480," It's sort of like a, you know, like a deadlock that is very difficult to get out of."
3130480,3131480," Right."
3131480,3134480," So, I'm glad that we started to use it a little bit."
3134480,3136480," And started to contribute back the feedback."
3136480,3139480," So, finally, it can go in some direction."
3139480,3140480," Right."
3140480,3145480," Unpolished?"
3145480,3146480," Kurwa mać!"
3146480,3147480," Ya!"
3147480,3148480," Perdol!"
3148480,3149480," Sorry."
3149480,3150480," Anyways."
3150480,3152480," So, we compiled this entire thing."
3152480,3153480," And..."
3153480,3156480," So, people are submitting gifts and shit."
3156480,3157480," I need to acknowledge that."
3157480,3158480," Holy fuck."
3158480,3159480," Fuck."
3159480,3160480," Thank you so much, XcarDix, for..."
3160480,3161480," For..."
3161480,3162480," For Twitch Prime is a Christian."
3162480,3163480," Thank you."
3163480,3163480," Thank you."
3163480,3164480," Thank you."
3164480,3165480," Thank you."
3165480,3166480," And Malak, all things."
3166480,3167480," Thank you so much for gifting subs."
3167480,3168480," Thank you."
3168480,3169480," Thank you."
3169480,3170480," Thank you."
3170480,3171480," Thank you."
3171480,3172480," Thank you so much for joining us."
3172480,3172480," Thank you so much for joining us."
3172480,3173480," Thank you so much for joining us."
3173480,3174480," Thank you so much for joining us."
3174480,3175480," Thank you so much for joining us."
3175480,3176480," Thank you so much for joining us."
3176480,3177480," Thank you so much for joining us."
3177480,3177480," Thank you so much for joining us."
3177480,3178480," Thank you so much for joining us."
3178480,3179480," Thank you so much for joining us."
3179480,3180480," Thank you so much for joining us."
3180480,3181480," Thank you so much for joining us."
3181480,3182480," Thank you so much for joining us."
3182480,3183480," Thank you so much for joining us."
3183480,3184480," Thank you so much for joining us."
3184480,3185480," Thank you so much for joining us."
3185480,3186480," Thank you so much for joining us."
3186480,3187480," Thank you so much for joining us."
3187480,3188480," Thank you so much for joining us."
3188480,3189480," Thank you so much for joining us."
3189480,3190480," Thank you so much for joining us."
3190480,3191480," Thank you so much for joining us."
3191480,3192480," Thank you so much for joining us."
3192480,3193480," Thank you so much for joining us."
3193480,3194480," Thank you so much for joining us."
3194480,3195480," Thank you so much for joining us."
3195480,3196480," Thank you so much for joining us."
3196480,3197480," Thank you so much for joining us."
3197480,3198480," Thank you so much for joining us."
3198480,3199480," Thank you so much for joining us."
3199480,3200480," Thank you so much for joining us."
3200480,3201480," Thank you so much for joining us."
3201480,3205480," Okay, so what if I actually do that without L?"
3205480,3212480," So then I can grub this thing and maybe turn it into some sort of a list."
3212480,3213480," Boom."
3213480,3214480," Yes, please."
3214480,3215480," Thank you very much."
3215480,3220480," Then let's take this entire stuff and just push it in here."
3220480,3224480," And then I'm going to do it like that."
3224480,3225480," Okay."
3225480,3230480," So here we're going to have files, images, image files."
3230480,3234480," I think that's a good name for this, I think."
3234480,3241480," And I suppose one of the things we'll have to do in here is to specify that it's this thing."
3241480,3242480," Uh-huh."
3242480,3243480," So let's do for each."
3243480,3251480," And this is going to be file, image files and IO, print and file."
3251480,3252480," Let's go."
3252480,3254480," So let's do build."
3254480,3255480," Uh-huh."
3255480,3259480," And it failed because we didn't put a new line in here."
3259480,3260480," of a semicolon."
3260480,3260480," Okay."
3260480,3263480," So as you can see, we have files in here, which is nice."
3263480,3270480," Uh, what we can do now is, um, you know, load each individual file with STB image."
3270480,3275480," To be able to load it with STB image, what we have to do, we have to use STBI load."
3275480,3276480," Uh, where is that?"
3276480,3280480," Uh, not really load from memory, but just STBI load."
3280480,3283480," I'm trying to find the definition."
3283480,3284480," Okay."
3284480,3286480," So here is the definition of this function."
3286480,3289480," I think we just need to forward declare this entire step."
3289480,3290480," So this is UC."
3290480,3294480," Um, so if I understand correctly, this is just unsigned char."
3294480,3296480," Let's assume that this is just a chart."
3296480,3297480," It's going to be pointed to the chart."
3297480,3299480," So this is going to be file name."
3299480,3304480," As far as I know in C3, you have Z string, which is just like a zero terminated string, uh,"
3304480,3305480," pointers to this stuff."
3305480,3306480," And that's about it."
3306480,3307480," Right."
3307480,3308480," So we have this kind of thing."
3308480,3314480," So, and after that we can just do STBI load, uh, file name."
3314480,3318480," So here's the file name, uh, in here, we're going to have X and Y."
3318480,3321480," So we're going to pass pointers to X and Y."
3321480,3324480," So then we want to have amount of components."
3324480,3327480," So we don't really care about the amount of components in here."
3327480,3330480," Uh, and the amount of required components is going to be four specifically."
3330480,3331480," Right."
3331480,3335480," So, and this gives me the pixels, right?"
3335480,3337480," So this is essentially the pixels."
3337480,3343480," And if pixels is equal to no, uh, that means we couldn't load that file specifically."
3343480,3350480," We want to say something like, uh, error could not load file S with a new line."
3350480,3353480," Of course, uh, it's going to be file name."
3353480,3357480," So, and we're going to continue actually going through the files."
3357480,3366480," And if we can load the file, we're going to say something like, uh, print F S D D, uh,"
3366480,3368480," uh, file name X and Y."
3368480,3372480," So we're printing the file name and the size of the file simultaneously."
3372480,3372480," All right."
3372480,3375480," So something didn't compile because this looks like a beginning of a file."
3375480,3376480," Oh yeah."
3376480,3377480," Yeah."
3377480,3378480," You're supposed to put F M in here."
3378480,3379480," Uh, okay."
3379480,3380480," STB load."
3380480,3383480," Uh, so this thing has to be external function."
3383480,3388480," Uh, implicitly casting C string to the string is not permitted."
3388480,3389480," Uh, implicitly."
3389480,3394480," So do we have, can I just do this string?"
3394480,3396480," Is it going to work correctly?"
3396480,3398480," I feel like it might not work correctly, but it did."
3398480,3400480," It, in fact, it did work correctly."
3400480,3407480," As you can see, we managed to actually, uh, like load all of these things pretty easily."
3407480,3408480," So yeah."
3408480,3409480," Isn't that poggers?"
3409480,3410480," It's not poggers."
3410480,3413480," I think it's pretty freaking poggers."
3413480,3415480," So it was easy, right?"
3415480,3418480," So compiling this to be image is easy when you just have a standard library."
3418480,3426480," So whatever I said about this to be, being not too much dependent on standard library, I lied to myself."
3426480,3428480," But I mean, it's kind of true."
3428480,3429480," All right."
3429480,3437480," If you spend a little bit of time, you can kind of strip off all of the, um, lip seedness of this library and it's going to work fine."
3437480,3439480," And it's just like, I didn't feel like doing that."
3439480,3441480," So, so I didn't."
3441480,3442480," That's it."
3442480,3445480," Uh, it is what it is."
3445480,3447480," Um, so how are we going to be doing all of that?"
3447480,3459480," I think we need to maybe create, uh, a buffer into which we're going to be appending the, the files, uh, or maybe images and not even images, but bytes."
3459480,3463480," Uh, what would be better to do?"
3463480,3464480," I don't freaking know."
3464480,3471480," Maybe, um, first collect all of that into the buffer or stream it into the file."
3471480,3476480," To be fair, we don't really have that many assets for this to become a problem."
3476480,3481480," So we can just first append everything into the memory buffer."
3481480,3482480," Right."
3482480,3486480," We have 16 gigabytes, by the way, speaking of, uh, we have 60."
3486480,3487480," Can you see that?"
3487480,3488480," Yeah."
3488480,3489480," There we go."
3489480,3490480," Look at that."
3490480,3491480," Look, look, look how much memory we have."
3491480,3492480," It says 15."
3492480,3493480," Oh, I remember."
3493480,3495480," There is a way to actually show it in here."
3495480,3496480," It says 14."
3496480,3498480," Did it get scammed?"
3498480,3504480," Or is that again, Gibby bytes and gigabytes or whatever the fuck it is?"
3504480,3507480," I think it's, yes, I think it's Gibby bytes."
3507480,3508480," Uh, right."
3508480,3513480," So scammed, um, 14."
3513480,3514480," And it's not that much."
3514480,3515480," Right."
3515480,3525480," So, um, but I mean, wait, so if you multiply that, it's going to be megabytes, kilobytes, bytes."
3525480,3526480," Right."
3526480,3527480," Right."
3527480,3530480," And then you start dividing it by a thousand thousand thousand back."
3530480,3534480," Eh, scammed, actually fucking scammed anyway, whatever."
3534480,3536480," So we, we have a lot of memory, right?"
3536480,3537480," So we have a lot of memory."
3537480,3538480," Oh yeah."
3538480,3539480," Yeah."
3539480,3540480," I remember."
3540480,3541480," Yeah."
3541480,3545480," Even the manager, even the manager who actually sold that laptop to me, told me that, yeah,"
3545480,3549480," I forgot that one gig is just will go straight to the RAM because it's iGPU."
3549480,3550480," Yeah."
3550480,3551480," I didn't get scammed."
3551480,3552480," I just forgot."
3552480,3553480," Yeah."
3553480,3565480," Anyway, but I mean, to be fair, eight gigabytes, even on old laptop was enough for me."
3565480,3570480," Um, so 15 gigabytes is just like a pretty much overkill."
3570480,3574480," Um, so I don't know what to fill that memory with."
3574480,3576480," Uh, pictures of panger."
3576480,3579480," Uh, so let me go."
3579480,3582480," Do we have some sort of like a dynamic array?"
3582480,3585480," Uh, dynamic string, I would even say."
3585480,3586480," Dynamic string over there."
3586480,3590480," So is there something like a core string?"
3590480,3591480," There was a D string."
3591480,3592480," Yeah, boy."
3592480,3595480," Dick string."
3595480,3602480," So, and in a dick string, you can do, you can create a new one with a certain capacity."
3602480,3603480," All right."
3603480,3604480," Uh, or just a new one."
3604480,3605480," Or just a new one."
3605480,3606480," Wait."
3606480,3608480," C3 has default arguments?"
3608480,3612480," Yo, that changes everything."
3612480,3614480," I needed that when it was, I, okay."
3614480,3615480," That's actually pretty cool."
3615480,3618480," So, uh, I will be using that."
3618480,3620480," Uh, so how do we append?"
3620480,3621480," So we can do new concat."
3621480,3623480," So we can do new concat."
3623480,3624480," Mm-hmm."
3624480,3626480," So there is a capacity."
3626480,3627480," Okay."
3627480,3630480," So you can append some UTF 32."
3630480,3631480," Uh, okay."
3631480,3633480," Ooh, you can append the repeat, right?"
3633480,3636480," So we can repeatedly append some things in here."
3636480,3639480," Uh, what kind of things you can, can you just append?"
3639480,3641480," You can append this string."
3641480,3642480," That's actually super cool."
3642480,3645480," Um, append chars."
3645480,3647480," Where is the append chars?"
3647480,3649480," There was a function append chars."
3649480,3650480," Yeah."
3650480,3652480," So it's a string."
3652480,3658480," Um, but it's a, it's a shame that it's literally a string."
3658480,3668480," How can I construct a string out of something out of, for instance, out of the pointer and aside?"
3668480,3670480," Is there any way to do that?"
3670480,3671480," Does anybody know?"
3671480,3673480," So we have a string module, right?"
3673480,3674480," So let's take a look at the string module."
3674480,3677480," Um, so there should be a way to do that."
3677480,3678480," So maybe there is."
3678480,3679480," Okay."
3679480,3680480," There's new."
3680480,3682480," There's a lot of new functions, new format."
3682480,3687480," Z join new, new split."
3687480,3690480," There must be a way to construct a new string."
3690480,3692480," So, and also, okay."
3692480,3694480," So, oh, it's just a, okay."
3694480,3697480," So it's basically a slice of character."
3697480,3701480," If you think about that, it's basically a slice of character."
3701480,3706480," Uh, how can I can, can create a slice out of just a pointer?"
3706480,3707480," Yeah."
3707480,3708480," From raw parts."
3708480,3709480," Exactly."
3709480,3710480," We have the Rust developers in the chat."
3710480,3712480," The Rust developers know what I'm talking about."
3712480,3713480," Yeah."
3713480,3719480," So in Rust usually this pattern from raw parts where you have a pointer, like usually like a safe pointer, right?"
3719480,3723480," And the size, and you can make a safe slice out of it from raw parts."
3723480,3725480," Is there something like that in C3?"
3725480,3727480," Because that's what I want actually."
3727480,3729480," So let's actually see slices, right?"
3729480,3731480," So how do I construct a slice?"
3731480,3732480," Uh, cool."
3732480,3733480," Slicing arrays."
3733480,3734480," Um."
3734480,3735480," And."
3735480,3737480," Do, do, do, do, do, do, do, do."
3737480,3738480," And I already see."
3738480,3739480," Right."
3739480,3740480," So we have a pointer."
3740480,3741480," Slicing intervals."
3741480,3754480," It's not really obvious how to create a slice out of the raw parts."
3754480,3755480," I didn't see that."
3755480,3758480," There should be a way to do that, but I just don't see that."
3758480,3759480," That's a shame."
3759480,3762480," Straight up a shame."
3762480,3764480," And in a section of slices."
3764480,3765480," Okay."
3765480,3768480," So here is a slice."
3768480,3770480," Uh huh."
3770480,3775480," Is that enough?"
3775480,3776480," Wait."
3776480,3780480," So you have a pointer."
3780480,3781480," Right."
3781480,3782480," Which is just a number."
3782480,3783480," Right."
3783480,3784480," So which is an address."
3784480,3788480," You can slice a pointer in C3."
3788480,3797480," And by slicing a pointer in C3, you create a slice, which is a structure of pointer inside."
3797480,3808480," Do I understand correctly that on a syntactical level, if you try to slice a pointer, what compiler does, it creates basically a slice out of this raw part."
3808480,3810480," Is that what's going on?"
3810480,3814480," Because that's kind of based honestly, if you think about it."
3814480,3815480," Right."
3815480,3817480," So, yeah."
3817480,3819480," That is kind of based."
3819480,3821480," What the fuck?"
3821480,3822480," Yeah."
3822480,3823480," Let's fuck around."
3823480,3824480," Sure."
3824480,3825480," Let's fuck around."
3825480,3826480," Sure."
3826480,3829480," Um, let's go ahead and do that."
3829480,3830480," Ah, let's go."
3830480,3832480," Let's fucking go, mate."
3832480,3833480," Let's fucking go."
3833480,3835480," Uh, so essentially pixels."
3835480,3837480," And, uh, what we can do."
3837480,3839480," So probably we can do something like size."
3839480,3840480," Right."
3840480,3844480," And size is going to be X multiplied by, uh, Y multiplied by four."
3844480,3849480," And to be fair, I could actually say we have like four components in here."
3849480,3852480," So this is the components and multiply by the components."
3852480,3857480," So, and what that means, I can do something like size and it has to be a minus one."
3857480,3859480," And then I can construct the string out of that."
3859480,3865480," Uh, and in here, let's create D string, uh, which is basically a buffer."
3865480,3866480," Uh, right."
3866480,3867480," So pack, let's call it a pack."
3867480,3868480," Right."
3868480,3869480," So this is a pack."
3869480,3875480," Uh, and we're going to, uh, append the, um, charts."
3875480,3878480," We're just appending the charts."
3878480,3882480," Let's see if this entire sheet compiles."
3882480,3883480," Okay."
3883480,3889480," Uh, so print N."
3889480,3892480," Uh, you print F."
3892480,3902480," Uh, so can collect it D bytes and we can do pack len, I suppose."
3902480,3913480," It's probably len or it's probably size or it's probably count."
3913480,3915480," Okay."
3915480,3920480," Um, so first of all, it's a void."
3920480,3921480," Len."
3921480,3926480," I suppose it's a function."
3926480,3929480," I think it's a function."
3929480,3930480," Let's go."
3930480,3934480," Sounds about right."
3934480,3935480," Sounds about right."
3935480,3941480," Uh, to be fair, that's a pretty huge pack of things."
3941480,3943480," It's pretty huge."
3943480,3949480," Are we really going to be really going to be baking that into, into wasm?"
3949480,3951480," Maybe we could."
3951480,3952480," Uh, right."
3952480,3953480," So apparently it is true."
3953480,3955480," So we just fucked around and we found out, I suppose."
3955480,3956480," Right."
3956480,3958480," So yeah, it worked."
3958480,3968480," Uh, it actually, we can go ahead and verify that by grabbing this entire thing and maybe putting that into a separate folder in here."
3968480,3974480," So then we can just take, boom, like that."
3974480,3981480," So now, um, we can just query replace x with multiplication."
3981480,3982480," Right."
3982480,3983480," There we go."
3983480,3984480," So this is an x with multiplication."
3984480,3987480," And then we multiply all of that by four."
3987480,3988480," Right."
3988480,3991480," So then we want to sum all of that up."
3991480,3993480," We sum all of that up."
3993480,3997480," And in the Python, uh, we just, uh, can I, yeah, there we go."
3997480,3998480," Thank you so much."
3998480,4001480," So that's exactly how many bytes we got."
4001480,4003480," So it is correct."
4003480,4008480," Yeah."
4008480,4009480," So you can even compare that."
4009480,4012480," Totally correct."
4012480,4013480," Okay."
4013480,4014480," That's pretty cool."
4014480,4015480," Uh, 100 kilobytes."
4015480,4025480," That's a little bit too much, but on the other hand, the server, when it's going to serve wasm module, it's going to zip it anyway."
4025480,4028480," So it's kind of like, it doesn't matter."
4028480,4029480," Mm-mm."
4029480,4033480," Worse than Lisp interpreter prefers to open Python and stuff."
4033480,4036480," I'm sorry."
4036480,4037480," I'm not a good Emaccer."
4037480,4039480," I don't really like Emacs that much."
4039480,4040480," Honestly."
4040480,4042480," Uh, hmm."
4042480,4044480," I think Emacs is a pretty good file manager."
4044480,4047480," Not sure about the text editor."
4047480,4051480," Not sure about Lisp interpreter, but it's a pretty good file manager."
4052480,4057480," Um, so anyways, what we now need to, we, we just need to dump the pack."
4057480,4058480," Right."
4058480,4059480," So that's what we need to do."
4059480,4063480," Uh, let me go to somewhere here and, uh, I, yo."
4063480,4065480," So here's the file."
4065480,4068480," Can I just write, I can just write byte."
4068480,4070480," Thank you, learner."
4070480,4072480," Very cool."
4072480,4074480," Oh, you want to write in the file?"
4074480,4075480," Here's a write byte for you."
4075480,4076480," Have fun."
4076480,4077480," Uh, so is there just write?"
4077480,4078480," Okay."
4078480,4079480," So here it is."
4079480,4080480," So there is just write."
4080480,4082480," Um, that's pretty cool."
4082480,4084480," Mm-mm."
4084480,4085480," But it's no."
4085480,4086480," Can I?"
4086480,4090480," So there is a read new or whatever."
4090480,4093480," There was a way to just, yeah."
4093480,4094480," So load temp."
4094480,4095480," Uh-huh."
4095480,4097480," So this is a function that just loads everything."
4097480,4099480," Is there something like save?"
4099480,4101480," Like an opposite of load."
4101480,4107480," Because I want to dump this entire big."
4107480,4109480," Just, just dump it."
4109480,4111480," Does anybody know?"
4111480,4113480," Just like write new."
4113480,4116480," Save."
4116480,4117480," Maybe it's dump."
4117480,4118480," No."
4118480,4120480," I think there's nothing in here."
4120480,4123480," I think like we literally have to open the file."
4124480,4125480," Yeah."
4125480,4126480," That sucks."
4126480,4127480," That kind of sucks, mate."
4127480,4128480," That kind of fucking sucks."
4128480,4130480," I don't want to open files."
4130480,4132480," Uh, and slurp entire file."
4132480,4133480," Yeah, yeah, yeah."
4133480,4135480," Let's go ahead and fucking do that."
4135480,4136480," Like, I don't know."
4136480,4137480," I don't know, man."
4137480,4138480," I don't fucking know."
4138480,4140480," Um, so if it's a file."
4140480,4141480," Okay."
4141480,4142480," So this is just like IO."
4142480,4144480," Uh, right."
4144480,4145480," Open."
4145480,4147480," And we're going to be opening the,"
4147480,4151480," you know, pack bin."
4151480,4152480," Right."
4152480,4153480," So that's what we have in here."
4153480,4155480," And it returns an exception."
4155480,4156480," Right."
4156480,4157480," So as you can see,"
4157480,4158480," it may fail."
4158480,4159480," Right."
4159480,4160480," So it may fail."
4160480,4161480," So the way we deal with that,"
4161480,4164480," we just try to open the file like this."
4164480,4165480," Right."
4165480,4166480," So we're trying to open it."
4166480,4168480," And in here is going to,"
4168480,4169480," is going to open."
4169480,4171480," So another interesting thing we can do in here,"
4171480,4172480," actually,"
4172480,4175480," is we can just open it in here."
4175480,4176480," Right."
4176480,4177480," right."
4177480,4178480," Like so,"
4178480,4182480," and then try to catch file."
4182480,4183480," Right."
4183480,4184480," And if it fails,"
4184480,4186480," we can say print n,"
4186480,4187480," um,"
4187480,4190480," could not load file."
4190480,4191480," Uh,"
4191480,4193480," so let's actually do something like,"
4193480,4193480," um,"
4193480,4194480," string,"
4194480,4195480," pack,"
4195480,4196480," path."
4196480,4197480," Right."
4197480,4198480," right."
4198480,4200480," So I want to move this entire thing to here."
4200480,4201480," Like,"
4201480,4203480," so could not load file as,"
4203480,4208480," and I feel like you can actually do something like this."
4208480,4209480," Right."
4209480,4210480," So you can unpack an error,"
4210480,4211480," uh,"
4211480,4212480," and put it in here."
4212480,4213480," this is the,"
4213480,4213480," uh,"
4213480,4215480," pack path and an error,"
4215480,4216480," and then you can quit."
4216480,4217480," Right."
4217480,4218480," So as you can see in here,"
4218480,4220480," we don't return any code,"
4220480,4222480," so we can return one like this."
4222480,4224480," So this is how it works in,"
4224480,4225480," uh,"
4225480,4226480," in C3."
4226480,4227480," When you have exceptions,"
4227480,4228480," and it's not really exceptions."
4228480,4229480," That's,"
4229480,4230480," these are optional values."
4230480,4231480," All right."
4231480,4232480," So we just loaded this thing."
4232480,4234480," This file still contains,"
4234480,4235480," um,"
4235480,4236480," the error."
4236480,4237480," We catch that error."
4237480,4238480," If there is an error,"
4238480,4239480," we report it."
4239480,4241480," But what's funny is that this also performs out of,"
4241480,4243480," auto unwrap,"
4243480,4244480," unwrap."
4244480,4245480," So that means after that,"
4245480,4246480," the file,"
4246480,4249480," the variable file contains the file without exclamation mark,"
4249480,4251480," which is unwrapped already."
4251480,4253480," So it does that automatically after this kind of thing."
4253480,4255480," This is one of the things I really like in C3."
4255480,4258480," There is a lot of really weird shit in C3."
4258480,4260480," When you look at it and thinking,"
4260480,4263480," what the fuck was the creator of C3 smoking?"
4263480,4264480," I want some of that shit,"
4264480,4265480," please."
4265480,4268480," Like when you're trying to for each a hash map,"
4268480,4269480," for instance,"
4269480,4271480," what the fuck?"
4271480,4272480," Bro,"
4272480,4274480," what the fuck?"
4274480,4277480," When you try to for each like a hash map in C3,"
4277480,4278480," it's just like,"
4278480,4279480," holy shit,"
4279480,4281480," Rust has better syntax than this."
4281480,4286480," But some of the parts of C3 are pretty cool."
4286480,4287480," Some of them are pretty cool."
4287480,4288480," Right."
4288480,4289480," So it's,"
4289480,4290480," it's kind of an uneven language,"
4290480,4290480," right?"
4290480,4291480," It's kind of an uneven language,"
4291480,4292480," but I mean,"
4292480,4293480," it's getting there."
4293480,4294480," It's getting there."
4294480,4295480," all right."
4295480,4296480," So show us,"
4296480,4297480," you want to see how you are."
4297480,4298480," It's a right hash map."
4298480,4299480," Really?"
4299480,4300480," You want?"
4300480,4301480," Okay."
4301480,4302480," So you do each."
4302480,4303480," This is how we do that."
4303480,4304480," So you have a hash map."
4304480,4305480," So,"
4305480,4310480," and you put dot at each entry,"
4310480,4312480," open parent."
4312480,4313480," parent."
4313480,4317480," Don't forget the fucking semicolon."
4317480,4319480," Don't forget the fucking semicolon."
4319480,4321480," Only then the entry,"
4321480,4323480," then close that and the body."
4323480,4327480," And don't fucking forget to put a semicolon in the head of this thing."
4327480,4330480," What the fuck is that?"
4330480,4331480," Like,"
4331480,4332480," I'm serious."
4332480,4334480," What the fuck is that?"
4334480,4336480," I have no idea."
4336480,4337480," So again,"
4337480,4339480," there are some cool parts,"
4339480,4340480," right?"
4340480,4342480," But sometimes there are parts like this,"
4342480,4342480," right?"
4342480,4343480," So,"
4343480,4344480," and it's just like,"
4344480,4345480," eh,"
4345480,4348480," I don't understand."
4348480,4351480," What's interesting is that from the syntactical point of view,"
4351480,4356480," C3 already has a nice syntactical way to do that."
4356480,4359480," a syntactical way to facilitate the for each iteration,"
4359480,4360480," right?"
4360480,4362480," Because there is a for each,"
4362480,4364480," which works on arrays."
4364480,4365480," When you iterate an array,"
4365480,4366480," like axis,"
4366480,4367480," you say,"
4367480,4367480," okay,"
4367480,4370480," each element for each X in axis,"
4370480,4370480," right?"
4370480,4371480," And here,"
4371480,4374480," X refers to the element by value."
4374480,4376480," If you want to iterate it by a reference,"
4376480,4377480," you just do that."
4377480,4378480," Makes sense."
4378480,4379480," Pretty nice."
4379480,4380480," Right?"
4380480,4380480," So,"
4380480,4383480," and then if you want to have an access to the indices,"
4383480,4384480," what you do,"
4384480,4385480," you just put I in here."
4385480,4386480," there you go."
4386480,4387480," You iterate an access,"
4387480,4389480," you know the index of the X you iterate in,"
4389480,4390480," and you know the X itself."
4390480,4394480," Just apply the same syntax on hash tables."
4394480,4400480," Like you already have a syntactical thing to do this kind of stuff."
4400480,4403480," And this is what majority of the people who use the language would expect."
4403480,4406480," This is what Rust does."
4406480,4407480," Like any of the modern languages,"
4407480,4408480," as far as I know,"
4408480,4409480," right?"
4409480,4410480," Jai,"
4410480,4411480," by the way,"
4411480,4412480," hash tables and Jai also do this kind of stuff."
4412480,4416480," So I suspect that this part of C3 is just simply unfinished."
4416480,4417480," Right?"
4417480,4418480," It's sort of kind of experimental."
4418480,4422480," And I feel like the ultimate goal is to eventually to get to this point."
4422480,4423480," This is just my hypothesis."
4423480,4427480," This is what I would do at least if I were making this language."
4427480,4428480," Right?"
4428480,4429480," So again,"
4429480,4431480," the language is kind of rough around the edges because again,"
4431480,4433480," nobody really uses that actively."
4433480,4434480," Now we use it actively,"
4434480,4435480," by the way."
4435480,4437480," So it's getting better and better and better."
4437480,4442480," So the C3 and a notion of iterators to do that."
4442480,4448480," I think the way C3 handles that is through macros rather."
4448480,4451480," So there is a dynamic array."
4451480,4453480," So I don't know for sure."
4453480,4454480," So I don't know why."
4454480,4457480," So we have collections and there is a list,"
4457480,4458480," which is not really a list,"
4458480,4460480," which is a dynamic array."
4460480,4466480," And I think there is like operator overloading that enables you to,"
4466480,4469480," to just iterate things."
4469480,4472480," Maybe it's some sort of operator."
4472480,4476480," Isn't it this kind of stuff?"
4476480,4485480," I think it's item adds."
4485480,4486480," Right."
4486480,4487480," I think it's item add."
4487480,4491480," And basically the for each automatically picks up this kind of thing."
4495480,4499480," maybe they did that because hash map are not built in and they haven't added"
4499480,4500480," iterator overall."
4500480,4500480," Yeah."
4500480,4501480," Again,"
4501480,4502480," it feels a little bit unfinished."
4502480,4503480," Right."
4503480,4504480," So it feels a little bit unfinished."
4504480,4507480," But my point is that as of right now,"
4507480,4508480," it looks kind of silly,"
4508480,4511480," but I also has a hope that it's in intermediate state."
4511480,4514480," And in the future is going to be just like a proper thing."
4514480,4515480," right."
4515480,4516480," Right."
4516480,4521480," So essentially,"
4521480,4523480," if you want to start learning C3,"
4523480,4524480," like honestly,"
4524480,4527480," I would not recommend C3 to people"
4527480,4530480," who are only starting to do programming."
4530480,4532480," It's not a really good starting language because again,"
4532480,4533480," it's sort of like an alpha language."
4533480,4534480," Right."
4534480,4539480," So essentially I can only recommend this language for people who are willing"
4539480,4542480," to alpha test a programming language,"
4542480,4546480," which is something interesting that people like to do."
4546480,4547480," For instance,"
4547480,4549480," I'm up to alpha test this language."
4549480,4550480," It's kind of interesting."
4550480,4552480," So I'm kind of enjoying it so far."
4552480,4553480," Toyscript language."
4553480,4554480," Toyscript language."
4554480,4555480," This is not a Toyscript language,"
4555480,4555480," by the way."
4555480,4556480," This is a series,"
4556480,4557480," you know,"
4557480,4558480," statically typed language."
4558480,4561480," Start with the last."
4561480,4564480," What would be the good first language today?"
4564480,4565480," Honestly,"
4565480,4570480," I have a feeling that the first language doesn't really matter that much."
4570480,4571480," Honestly,"
4571480,4573480," it doesn't really matter that much."
4573480,4580480," It doesn't matter if you are planning to become a serious software developer."
4582480,4583480," Right."
4583480,4588480," If you plan to become like a Jonathan Blow software developer,"
4588480,4593480," I feel like the first language doesn't really matter because you're going to end up learning a lot of shit anyway."
4593480,4598480," So it's all going to blur into like a single blob of programming knowledge anyways."
4598480,4599480," Like it doesn't matter."
4599480,4609480," If you want to just make a quick money by capitalizing on the current trend in tech industry,"
4609480,4610480," maybe it matters."
4610480,4611480," But in that case,"
4611480,4614480," you're going to be replaced by ChatGPT in a couple of years anyway."
4614480,4615480," So what's the point?"
4615480,4618480," So I don't know."
4618480,4619480," It's kind of difficult to say at this point."
4619480,4621480," Pascal is a good one."
4621480,4622480," But again,"
4622480,4622480," yes,"
4622480,4626480," if you're planning to become like a serious software developer,"
4626480,4627480," like a software developer,"
4628480,4630480," not just a framework Andy,"
4630480,4631480," right?"
4631480,4634480," Who again is going to be replaced by ChatGPT anyway."
4634480,4641480," If you want to become the person who creates the framework for those framework Andy's,"
4641480,4642480," well,"
4642480,4644480," that's a different kind of topic."
4644480,4645480," I think"
4645480,4647480," remembers that much."
4647480,4655480," What's interesting is that I feel like"
4655480,4659480," the first language,"
4659480,4661480," programmers don't choose first language."
4663480,4668480," the first language chooses programmer."
4668480,4674480," A lot of people who got into programming themselves,"
4674480,4675480," right?"
4675480,4678480," They didn't do that intentionally."
4678480,4685480," A lot of people who are serious programmers and who are passionate programmers didn't intentionally go into programming."
4686480,4688480," Usually what they were doing,"
4688480,4690480," they were fucking around."
4690480,4692480," They were fucking around with,"
4692480,4693480," you know,"
4693480,4695480," Minecraft modes,"
4695480,4697480," some other modes,"
4697480,4701480," some Lua scripts for their favorite game and stuff like that."
4701480,4704480," They were just fucking around with some sort of a game."
4704480,4708480," And modding for that game used a very specific language."
4708480,4713480," And they kind of had to learn that language to actually do something with it."
4714480,4716480," they didn't even have a choice."
4716480,4719480," They didn't choose a language."
4719480,4721480," The language chose them."
4721480,4725480," That's how it usually goes."
4725480,4726480," Right."
4726480,4730480," So people keep asking what's the good first programming language."
4730480,4732480," It's not even about the language."
4732480,4734480," It's about mindset."
4734480,4740480," People with a certain mindset that just likes to experiment and fuck around"
4741480,4744480," stumble upon a language that will just choose them."
4744480,4748480," Because they will have no choice but learn that specific language to do the thing they want."
4748480,4750480," You know what I'm talking about?"
4750480,4752480," Or action script, by the way."
4752480,4754480," So Flash was a huge thing back in the day."
4754480,4757480," So people were kind of forced to do action scripts."
4757480,4759480," So you know what I'm talking about."
4759480,4762480," It's not like you choose the language usually."
4763480,4767480," some kind of language just chooses you because you were just fucking around."
4767480,4770480," It's not an interesting thought."
4770480,4772480," It never really occurred to me before."
4772480,4776480," It's just like what's the good first language is not really the right thing to ask."
4776480,4777480," Right."
4777480,4784480," Because if your mindset is fit for programming, the language will find you and you will have no fucking choice."
4785480,4789480," So that's pretty interesting."
4789480,4791480," Anyways."
4791480,4798480," Oh, I fucked up the today command."
4798480,4800480," I'm really sorry, guys."
4800480,4802480," I forgot to update the today command."
4802480,4806480," Anyways, let's continue."
4807480,4808480," What we were doing."
4808480,4810480," We need to check if this entire thing still compiles."
4810480,4815480," So open doesn't even open thing."
4815480,4817480," That's very interesting."
4817480,4821480," So is that all because it's module file."
4821480,4822480," I apologize."
4822480,4825480," So it's actually file."
4825480,4828480," I made a severe lapse of judgments."
4828480,4830480," Okay, let's go."
4830480,4833480," And this is not the place where I want to be."
4833480,4835480," Okay."
4836480,4837480," Yes."
4837480,4838480," You didn't like my pack path."
4838480,4840480," Big."
4840480,4842480," Packer."
4842480,4844480," What am I doing?"
4844480,4847480," It's 31."
4847480,4850480," So what you don't fucking like."
4850480,4853480," Expected one more argument."
4853480,4855480," Are you for real?"
4855480,4857480," What other argument do you want?"
4857480,4859480," Mode."
4859480,4865480," I'm going to assume that native F mode just redirects."
4866480,4868480," Just redirects to the lib C F mode."
4868480,4869480," Right."
4869480,4870480," So I think that's what it does."
4870480,4872480," So we're going to just assume right binary in here."
4872480,4874480," Right."
4874480,4875480," Just like right binary."
4875480,4875480," Okay."
4875480,4876480," That's cool."
4876480,4878480," So what's the next error?"
4878480,4882480," This argument would be exceeded the number of parameters."
4883480,4884480," that's what we're going to assume."
4884480,4884480," Yeah, I see."
4884480,4885480," I see what's going on."
4885480,4886480," So yeah, I forgot that it has to be F."
4886480,4887480," All right."
4887480,4888480," So missing return at the end."
4888480,4889480," We're almost there, guys."
4889480,4890480," I almost compiled this piece of code."
4890480,4891480," Let's go."
4891480,4892480," Let's fucking go."
4892480,4893480," Let's fucking go."
4893480,4895480," And I suppose it created somewhere."
4895480,4896480," Right."
4896480,4897480," So pack."
4897480,4898480," Yeah, there we go."
4898480,4899480," Pack bin."
4899480,4900480," And it's actually zero."
4900480,4902480," Right."
4902480,4903480," So it's actually zero in here."
4903480,4904480," So because we never actually wrote the bytes."
4904480,4905480," We never actually wrote the bytes."
4905480,4906480," We never actually wrote the bytes."
4906480,4908480," And what we want to do, we want to write the bytes."
4908480,4909480," Right."
4909480,4910480," So write charts or bytes."
4910480,4911480," I don't remember."
4911480,4912480," So this is file."
4912480,4912480," Right."
4912480,4913480," Right."
4913480,4914480," Right."
4914480,4915480," So this is file."
4915480,4916480," Right."
4916480,4917480," Right."
4917480,4918480," So this is file."
4918480,4919480," Right."
4919480,4920480," So what do you write?"
4920480,4921480," I forgot what you can write."
4921480,4922480," I think it's just to write."
4922480,4923480," Yeah, it's just a buffer."
4923480,4924480," Okay."
4924480,4926480," The question is, I won't be able to just take the pack and write it because I don't know what"
4926480,4927480," it is."
4927480,4928480," I don't know what it is."
4928480,4929480," I don't know what it is."
4929480,4930480," I don't know what it is."
4930480,4931480," I don't know what it is."
4931480,4932480," I don't know what it is."
4932480,4933480," I don't know what it is."
4933480,4934480," I don't know what it is."
4934480,4935480," I don't know what it is."
4935480,4936480," I don't know what it is."
4936480,4937480," I don't know what it is."
4937480,4938480," I don't know what it is."
4938480,4939480," I don't know what it is."
4939480,4940480," I don't know what it is."
4940480,4941480," I don't know what it is."
4941480,4942480," Yeah, it's just a buffer."
4942480,4943480," Okay."
4943480,4950480," The question is, I won't be able to just take the pack and write it because it's a D string."
4950480,4951480," Right."
4951480,4953480," So you can't just do that."
4953480,4956480," You need to convert D string to a string."
4956480,4959480," So is there something that returns you a string?"
4959480,4960480," Okay."
4960480,4961480," So string view."
4961480,4962480," This is exactly what we want."
4962480,4963480," Right."
4963480,4964480," This is actually kind of perfect."
4964480,4967480," So then we can do str view."
4967480,4968480," Damn."
4968480,4969480," Look at that."
4969480,4970480," Nice code."
4970480,4973480," So it's not right choice."
4973480,4974480," It's just right."
4974480,4975480," Uh huh."
4975480,4978480," Oh, and this thing can actually fail."
4978480,4979480," Right."
4979480,4982480," So in that case, we can, we can just do something like if catch."
4982480,4983480," All right."
4983480,4986480," So we can just say something like IO printf."
4986480,4990480," Could not write."
4990480,4995480," Could not open."
4995480,5001480," Could not write file s because of, we don't really know the reason."
5001480,5006480," We can just take the error like so, and just put it in here."
5006480,5007480," So it's going to pack path."
5007480,5008480," Error."
5008480,5009480," Return one."
5009480,5010480," Uh huh."
5010480,5012480," So it's not error, but it's error."
5012480,5013480," Damn."
5013480,5014480," Look at that."
5014480,5015480," Sexy, sexy code."
5015480,5016480," Who needs rust?"
5016480,5017480," Who needs?"
5017480,5017480," Look at that shit, bro."
5017480,5018480," Look at that shit, bro."
5018480,5019480," Look at that shit, bro."
5019480,5020480," Look at that shit, bro."
5020480,5021480," Has printfn for really?"
5021480,5022480," Wait, wait, wait, wait, wait, wait, wait, wait, wait."
5022480,5023480," So did they fix that?"
5023480,5024480," Damn."
5024480,5025480," This language getting better and better and better with the each release."
5025480,5026480," I really like that."
5026480,5027480," So yeah."
5027480,5032480," So you want to make something better, just start using it."
5032480,5033480," Right."
5033480,5034480," And start contributing the feedback and shit."
5034480,5035480," Holy fuck."
5035480,5036480," Fn."
5036480,5037480," Yo."
5037480,5038480," That's perfect."
5038480,5039480," So using particular stuff, formatting, appending."
5039480,5040480," That's perfect."
5040480,5041480," Thank you so much."
5041480,5042480," Thank you so much."
5042480,5043480," Thank you."
5043480,5044480," Thank you so much."
5044480,5045480," Yeah."
5045480,5046480," Thank you so much."
5046480,5047480," Yeah."
5047480,5049480," Thank you so much."
5049480,5050480," Yeah."
5050480,5051480," Yeah."
5051480,5052480," Yeah."
5052480,5053480," Yeah."
5053480,5054480," Yeah."
5054480,5055480," Appending."
5055480,5056480," That's perfect."
5056480,5057480," Thank you so much."
5057480,5058480," Okay."
5058480,5059480," Okay."
5059480,5060480," Okay."
5060480,5061480," Okay."
5061480,5062480," Okay."
5062480,5063480," That's one of the annoying things of all these formatters and especially in Go."
5063480,5064480," All right."
5064480,5065480," So there's a println."
5065480,5068480," So you keep forgetting about this stuff."
5068480,5069480," Uh huh."
5069480,5071480," So let's get rid of that stuff."
5071480,5073480," Uh huh."
5073480,5080480," And honestly, I would like to maybe append like an error in there, indicating that's oopsie"
5080480,5081480," doopsie."
5081480,5082480," Focky walky."
5082480,5083480," Mm hmm."
5083480,5085480," That's what I want to indicate."
5085480,5088480," Um, mm hmm."
5088480,5091480," So, uh, that's pretty cool."
5091480,5097480," Um, we can take a look at the file itself and see if it contains Z bytes."
5097480,5099480," So here are Z bytes."
5099480,5105480," The encoding is probably fucking, uh, obnoxious, abysmal."
5105480,5108480," That's, that's the word I'm looking for."
5108480,5111480," Uh, the problem here is that we don't really know the offsets."
5111480,5115480," Uh, honestly, we have no idea about the offsets."
5115480,5118480," We kind of need to collect the offsets."
5118480,5121480," So let's actually introduce something like offsets."
5121480,5127480," Uh, and here we're going to have, um, file name and maybe the offset."
5127480,5129480," Maybe the value of the offsets."
5129480,5130480," Okay."
5130480,5133480," And let's maybe create a collections list."
5133480,5134480," Right."
5134480,5136480," So we're going to have a dynamic array."
5136480,5142480," So I'm going to define, uh, offsets, which is going to be just a list of offsets."
5142480,5147480," Uh, offsets, offsets, cool."
5147480,5154480," Uh, and every time, every time we are about to then append the file, we're going to do something"
5154480,5155480," like push."
5155480,5161480," So, uh, file name, pushing the file name and the current size of the pack."
5161480,5162480," Right."
5162480,5165480," Because that is going to be the offset within the thing."
5165480,5170480," So afterwards, afterwards, after we successfully did everything, we want to actually print all"
5170480,5171480," of that stuff."
5171480,5176480," So offset of offsets, uh, it's actually for each, uh, right."
5176480,5180480," And then IO print FN, uh, right."
5180480,5184480," So we're going to be S and this is the offset."
5184480,5190480," Well, you have to put N in here, uh, offset file name, offset value."
5190480,5191480," Right."
5191480,5196480," And now if I try to print that, I forgot a little bit over a semicolon."
5196480,5197480," What's the next error?"
5197480,5198480," There we go."
5198480,5199480," There we go."
5199480,5201480," So here are all the offsets."
5201480,5207480," So by these offsets, you can find the actual data of the things."
5207480,5209480," So that's pretty cool."
5209480,5213480," We need to somehow save those offsets somewhere."
5213480,5215480," We can print them somewhere."
5215480,5223480," Actually, we can actually print them somewhere, but where should we print them?"
5223480,5224480," Uh, I'm not sure."
5224480,5226480," We can maybe create pack C3."
5226480,5227480," You need size."
5227480,5228480," That's true."
5228480,5229480," Actually, that is actually kind of true."
5229480,5230480," Um, hmm."
5230480,5231480," So maybe because of that, I should call it, uh, maybe asset."
5231480,5232480," Yeah."
5232480,5233480," So let's call it asset."
5233480,5234480," Yeah."
5234480,5235480," So let's call it asset."
5235480,5239480," So I'm going to query replace offset with asset."
5239480,5240480," Can your Vim do that?"
5240480,5252480," I already bragged about this feature, but there is a very based feature in Emacs is that when you're trying to basically replace offset with asset."
5252480,5271480," If Emacs sees offset, it will detect it automatically and replace it with asset, preserving the case."
5271480,5272480," This is what it can do."
5272480,5273480," Right."
5273480,5281480," And this is how I quickly just rename asset to offset, also preserving all the cases, all the things."
5281480,5284480," Can your Vim do that?"
5284480,5285480," It probably can."
5285480,5289480," There's probably some sort of a mode that you can enable, but I mean, it's actually kind of cool."
5289480,5292480," Um, a plugin can probably do that."
5292480,5293480," Yeah."
5293480,5294480," I can see that."
5294480,5299480," Um, it's, uh, by default, it's on by default."
5299480,5303480," They added that to VS code recently."
5303480,5316480," Well, it's, it's actually a very useful feature for programming specifically, for programming specifically, because in programming, you usually duplicate names of types and variables, but at a different case."
5316480,5323480," So programmers like to encode whether the kind of the object with the casing."
5323480,5324480," Right."
5324480,5327480," So you guys know what is a kind, right?"
5327480,5332480," So when programmers say kind, they mean the kind of the thing."
5332480,5336480," So you have a variable, the variable has a type."
5336480,5337480," Right."
5337480,5343480," And then you have a kind, a kind is type or variable."
5343480,5344480," Right."
5344480,5345480," Right."
5345480,5347480," So kind is sort of a type that is higher level."
5347480,5350480," It's, it's my internal Haskell or speaking right now."
5350480,5350480," I'm sorry."
5350480,5360480," Uh, so anyway, so programmers like to encode different kinds of entities within the code with different cases."
5360480,5365480," The kind, the type is usually capitalized and the kind variable is usually not capitalized."
5365480,5368480," That's what I'm saying."
5368480,5370480," Um, kind is the types father."
5370480,5371480," Yeah, exactly."
5371480,5376480," So by, by kind functional programmers usually mean the type of the type."
5376480,5377480," Right."
5377480,5380480," So what's interesting is that compiler developers know that."
5380480,5381480," Right."
5381480,5382480," Right."
5382480,5389480," And in the source code of the compiler, quite often you can notice that like in AST node, there is a type."
5389480,5392480," And sometimes there is a kind type of a type."
5392480,5393480," Right."
5393480,5399480," So, uh, as far as I know in functional programming in Haskell, people also like to talk about sorts."
5399480,5400480," Right."
5400480,5402480," So type of a kind."
5402480,5403480," Right."
5403480,5406480," So if you have like a high level type of a kind, it's a sort."
5406480,5407480," Right."
5407480,5410480," So you have types, kinds, sorts."
5410480,5414480," So that's the hierarchy."
5414480,5417480," And that's why Haskell is don't have any job."
5417480,5422480," Anyways."
5422480,5425480," Uh, let's continue."
5425480,5430480," Uh, we need to print these choices somewhere."
5430480,5431480," Where are we going to be printing?"
5431480,5436480," So what I want to do is, um, just format it somehow."
5436480,5437480," Right."
5437480,5438480," So we probably want to just format it."
5438480,5440480," So if I introduce."
5440480,5441480," Yeah."
5441480,5442480," So this is the asset."
5442480,5444480," So this becomes offset."
5444480,5445480," Uh, right."
5445480,5447480," And this becomes the size."
5447480,5448480," Right."
5448480,5449480," That's what it becomes."
5449480,5452480," Becomes the size."
5452480,5460480," And let's go to the compilationers."
5461480,5462480," Error."
5462480,5463480," Error."
5463480,5464480," Uh, 33."
5464480,5467480," So the, we're pushing this kind of stuff."
5467480,5470480," So this is the offsets."
5470480,5471480," All right."
5471480,5474480," And this is the, we already kind of have sizes."
5474480,5477480," So the only thing we need to do, we need to introduce offsets."
5477480,5479480," Uh huh."
5479480,5480480," Let's go."
5481480,5482480," Okay."
5482480,5484480," So that is cool."
5484480,5486480," So pack length."
5486480,5489480," Uh, it doesn't like that I'm explicitly."
5489480,5490480," Okay."
5490480,5491480," So let's call it use size then."
5491480,5492480," Are you okay now?"
5492480,5493480," Okay."
5493480,5494480," 54."
5494480,5496480," This is offset."
5496480,5502480," Uh, and then asset, uh, asset size."
5502480,5509480," So, and if we want to turn it into C3, what we want to do essentially is just something like this."
5509480,5512480," So it's going to be S then D D."
5512480,5514480," S."
5514480,5516480," Yeah."
5517480,5520480," So that's essentially what we want to have in here."
5520480,5531480," Uh, we can put a comma in here and then pad it a little bit like so, and then print FN new, and then close this entire thing."
5531480,5532480," Right."
5532480,5535480," So as you can see at the end, this is what we got."
5535480,5536480," Right."
5536480,5543480," And you can always do some, some stuff like, I don't know, assets, uh, asset, asset, asset, asset."
5543480,5546480," So, and this is going to be just assets."
5546480,5555480," You know, what's interesting is that you can always take this thing and move it into common."
5555480,5564480," Common module that is shared between client and server and potentially packer."
5564480,5565480," Right."
5565480,5572480," So this code that we automatically generated is going to be included into the client."
5572480,5578480," And the client is going to, uh, use common and asset is defined in there."
5578480,5579480," So it's synchronized."
5579480,5586480," The asset type is synchronized between the actual user of this thing and the producer of this thing."
5586480,5591480," So yeah, because the common module is going to be included in all of them."
5591480,5592480," Okay."
5592480,5593480," So this is actually kind of cool."
5593480,5601480," So our architecture now consists of client, um, server and the packer, and they share a common thing."
5601480,5604480," This is kind of cool."
5604480,5604480," Right."
5604480,5605480," So, yeah."
5605480,5613480," So the packer may use the same types as the client and the server, so they can agree on the format of the things the packer is producing."
5613480,5614480," That is kind of based, isn't it?"
5614480,5619480," That is, yo, what the fuck?"
5619480,5621480," That's so fucking cool, mate."
5621480,5622480," That's so, okay."
5622480,5623480," So let's actually try to do that."
5623480,5624480," And what does it say?"
5624480,5625480," It doesn't."
5625480,5626480," Ah, yeah."
5626480,5631480," So to be able to compile this entire thing, of course, what you have to do, you have to put a common, uh, C3 in here."
5631480,5632480," Let's go."
5632480,5632480," Let's go."
5632480,5633480," Okay."
5633480,5637480," So you need to provide a list in a common C3."
5637480,5638480," That's understandable."
5638480,5640480," So it's going to be collections list."
5640480,5641480," Let's go."
5641480,5642480," Let's go."
5642480,5643480," Oh, right."
5643480,5644480," We're almost there."
5644480,5645480," So it doesn't like something."
5645480,5646480," Items count."
5646480,5647480," You long cannot be implicitly."
5647480,5648480," Ah."
5648480,5649480," Fuck."
5649480,5650480," Bitch."
5650480,5651480," Shit."
5651480,5652480," Damn."
5652480,5653480," Heck."
5653480,5654480," Okay."
5654480,5655480," So here's the thing."
5655480,5666480," Common is usually compiled for WASM32."
5666480,5673480," And we are trying to compile common for x86, 64."
5673480,5682480," So the sizes of some types are completely fucking different now, which is kind of fucking dangerous."
5682480,5687480," So, because we're using very specific types for binary protocol."
5687480,5698480," So that means if we compile server natively to a native type, to a native executable, some of these things in the native protocol are going to shift."
5698480,5699480," But that's besides the point."
5699480,5702480," This is something that I have to be careful about."
5702480,5703480," This."
5703480,5711480," So since I was only compiling to WASM32, u long and int always had the same size 32 bits."
5711480,5714480," But now I compile it on x86, 64."
5714480,5716480," And now they have different sizes."
5716480,5718480," And the compiler warns about that."
5718480,5721480," Which is actually means that this is a good compiler."
5721480,5721480," Right?"
5721480,5724480," So because bad compiler wouldn't warn me about this kind of situation."
5724480,5725480," And C3 does."
5725480,5727480," Which is fucking based."
5727480,5728480," Um."
5728480,5731480," So face this problem now or in the future."
5731480,5732480," This is the always."
5732480,5733480," Exactly."
5733480,5734480," You know it."
5734480,5736480," You freaking know it, dude."
5736480,5737480," Uh, yeah."
5737480,5738480," So, yeah."
5738480,5739480," So, anyway."
5739480,5740480," So, essentially what I probably need to do in here."
5740480,5745480," I have to go through all these errors and just like cast things to int."
5745480,5746480," Which is not that bad."
5746480,5747480," I mean."
5747480,5750480," So, it's not that bad."
5750480,5751480," Um."
5751480,5752480," So, it's just."
5752480,5754480," I can just rename it to use size."
5754480,5755480," Can I?"
5755480,5756480," So, how is size is used?"
5756480,5757480," Size is used like this."
5757480,5760480," And then we pass it in here."
5760480,5761480," And message."
5761480,5762480," Yeah."
5762480,5763480," Understandable."
5763480,5764480," Yeah."
5764480,5766480," So, it just has a different type."
5766480,5768480," So, this is a use size."
5768480,5769480," This is a use size."
5769480,5771480," And this is a use size."
5771480,5772480," But here."
5772480,5773480," Uh."
5773480,5775480," It becomes smaller."
5775480,5779480," And the reason it becomes smaller is because we then assign it to message size."
5779480,5780480," And message."
5780480,5781480," Uh."
5781480,5783480," Where is the bigger message?"
5783480,5784480," There was a bigger message."
5784480,5785480," Remember."
5785480,5786480," Struct to message."
5786480,5787480," Yeah."
5787480,5788480," It's int."
5788480,5789480," It's specifically for bytes."
5789480,5791480," It has to be for bytes actually."
5791480,5792480," So, which is rather interesting."
5792480,5793480," So, we have to be careful."
5793480,5794480," So, I suppose one of the."
5794480,5795480," Yeah."
5795480,5796480," I think."
5796480,5797480," The only type that changes its size."
5797480,5798480," The only type that changes its size."
5798480,5799480," Uh."
5799480,5800480," Depending on the platform."
5800480,5801480," Is use size."
5801480,5802480," So, basically the policy could be."
5802480,5804480," Don't use use size in the protocol."
5804480,5805480," Right."
5805480,5806480," So, use int."
5806480,5807480," You int."
5807480,5808480," Char."
5808480,5809480," Short."
5809480,5810480," All of those types."
5810480,5811480," They preserve the size."
5811480,5812480," Why does it have to be for bytes?"
5812480,5813480," Because that's the convention we established."
5813480,5814480," Because the client expects for bytes."
5814480,5815480," Uh."
5815480,5816480," And why client expects for bytes?"
5816480,5817480," Uh."
5817480,5818480," Because server sends for bytes."
5818480,5820480," So, that's usually justification of anything in software."
5820480,5821480," Right."
5821480,5822480," So, basically the policy could be."
5822480,5823480," Don't use use size in the protocol."
5823480,5824480," Right."
5824480,5825480," So, use int."
5825480,5826480," You int."
5826480,5827480," Char."
5827480,5828480," Short."
5828480,5829480," All of those types, they preserve the size."
5829480,5830480," Why does it have to be for bytes?"
5830480,5831480," Because that's the convention we established."
5831480,5832480," Because the client expects for bytes."
5832480,5833480," Uh."
5833480,5834480," And why client expects for bytes?"
5834480,5835480," Because server sends for bytes."
5835480,5840480," So, that's usually justification of anything in software."
5840480,5841480," development."
5841480,5842480," Like, why do things the way they."
5842480,5843480," Because the."
5843480,5844480," It happened."
5844480,5845480," Sorry."
5845480,5846480," Uh."
5846480,5847480," Uh."
5847480,5848480," Uh."
5848480,5849480," Uh."
5849480,5850480," Uh."
5850480,5851480," Uh."
5851480,5853480," People say discord is banned."
5853480,5854480," Uh."
5854480,5859480," I don't know what you're talking about."
5859480,5864480," So, I honestly don't understand what you're talking about."
5864480,5865480," It's working."
5865480,5866480," It's working."
5866480,5867480," It's working."
5867480,5868480," It's working."
5868480,5869480," It's working."
5869480,5870480," It's working."
5870480,5871480," It's working."
5871480,5872480," It's working."
5872480,5873480," It's working."
5873480,5874480," It's working."
5874480,5875480," I think this is a."
5875480,5876480," I think this is a."
5876480,5880480," I think this is a Russian disinformation."
5880480,5881480," More like."
5881480,5882480," Diz nuts formation."
5882480,5883480," Oh."
5883480,5884480," Sorry."
5884480,5885480," Uh."
5885480,5886480," So."
5886480,5887480," Uh."
5887480,5889480," So, let's take a look at the rest of the things."
5889480,5890480," So, 202."
5890480,5891480," And."
5891480,5892480," Yeah."
5892480,5893480," This one is interesting."
5893480,5894480," So, I suppose."
5894480,5896480," I want to explicitly put int in here."
5896480,5897480," Yeah."
5897480,5898480," Yeah."
5898480,5899480," So, that makes sense."
5899480,5901480," Diz nuts formation."
5901480,5902480," Uh."
5902480,5903480," It's in the news."
5903480,5904480," Dude."
5904480,5908480," You think I don't know that this chorus band?"
5908480,5919480," I swear to god people."
5919480,5921480," I swear to god."
5921480,5922480," Anyways."
5922480,5945900," anyways imagine using Russian internet without VPN imagine that German streamer"
5952480,5965980," oh two banned in Russia breathing through VPN unironically breathing through VPN"
5965980,5981400," so basically assume that everything is going to be banned just assume that"
5981400,5987640," and continue living your normal life so just be ready"
5987640,5996140," all right so yep seems to be working seems to be twerking"
5996140,6002460," we probably want to save this thing to a separate file"
6007920,6018160," what's interesting is that c3 has a very cool feature called exec"
6018160,6030400," this is where fun begins my friend this is where fun begins execute script at compile time and include the result in the source code"
6030400,6048160," it's so fucking over for Zeke I'm telling you it's fucking over for Zeke it's just like"
6048160,6056400," anyways compile time script injection time dude like I hear this weird argument all the time is that when people see languages like Jai or Zeke or whatever and that they can do arbitrary things at compile time the first impulse is just like wait"
6056400,6062640," isn't that insecure just like you can inject some shit in there and we'll execute on your computer compile time"
6062640,6066640," but think about that when you're downloading the source code the first thing you do"
6066640,6076880," you're downloading the first thing you do you literally executing a configured bash script"
6076880,6078880," and that is safe right"
6078880,6089120," like think about that for a second how is that different from just executing configured bash script"
6089120,6109860," That is safe, right? Right. Like, think about that for a second. How is that different from just executing configured bash script? Curl SH and stuff. It isn't. It's the same shitty security."
6111860,6133660," The same people who say pipe rust up into SHF. So it's like, it doesn't matter. It's like, it's already, we're already cooked. We're already fucking cooked. Just relax and try to enjoy it. So I still the configure to be extra safe. Nice one."
6134600,6145160," Anyways. Anyways, anyways, anyways. So I'm thinking, how can I incorporate this idea to my flow? If you know what I mean?"
6145600,6164740," How can I incorporate? Because I can basically just, I can call a packer through exec. It will generate, yeah, it will generate the assets, the asset of sets and the pack bin."
6164740,6175120," And then later I can include this thing into the final stuff. That is kind of cool. So, but to do that, to do that, we need to get rid of this output, right?"
6175120,6188080," So we should not have any extra output. We should not have any extra output. So let me try to do that. Right. And honestly, if there's some sort of error, we probably have to exit with error."
6188080,6205220," So we suppose exec fails if the script fails as well. Right. If the script fails as well. So if there's any error, so there should be no warnings or anything like that. Just like output the thing. Just output the thing. And another thing is probably this one. Right."
6207380,6220620," Okay. So I want to try to do a test, right? So it's going to be test C3. We're going to be importing common and we're also going to be importing STD IEO."
6223920,6248580," And what I'm going to be doing. I'm going to just do exec, exec, uh, packer. So just packer, just packer. And then I'm going to do for each asset, um, assets. Right. And then it's going to be, well, I can, I can just print them."
6248580,6272040," Um, yeah, print FN file name as, uh, offset D size D asset file name, asset offset asset size. All right. And now I'm going to do C3C compile, run, test C3."
6272040,6283580," Okay. So asset, because it's for each. Fair. Common, because you also have to include common in here. Uh, exec, not permitted, trust the."
6283580,6294020," We just talked about."
6299180,6306740," I'm sorry. I'm sorry if it's slow. Um, we just fucking talked about prewatched."
6306740,6321320," Okay. Ah, all right. Ooh. All right. So as set, okay. And understandable and sustainable. Uh, so let's remove that."
6321320,6325720," Yeah. Uh, assets. Okay. I think I'm doing something with it."
6328120,6335000," Fucking works. It fucking works. So it literally called the packer."
6335000,6342260," It generated the code that we included. And yeah, let's just do that."
6342260,6352140," That is so fucking cool. So, and after that, we actually want to do something like, um, pack."
6352360,6358820," All right. So, and it's just going to be embed, um, you know, pack, bin."
6358820,6364040," So let's go ahead and try to do that. All right."
6364040,6369860," Uh, so after that, I probably want to do printfn."
6373460,6382900," And then, um, we can print the size of the pack, printfn, sizeofpack, d, packlen."
6382900,6385660," Uh-huh. Okay."
6385660,6388460," Is this correct?"
6388460,6390640," It is correct."
6390640,6398020," So, at compile time, we simultaneously generated the pack."
6398020,6401280," And then, but here's an interesting thing, honestly."
6401280,6404160," The pack was already there."
6404160,6406700," The pack was already there."
6406700,6409060," So it probably, it just included it."
6409060,6413380," What if you have a situation when you have a packer binary, but don't have a pack.bin?"
6413380,6415560," What if you have that?"
6417940,6422500," So, in which order these directives are executed?"
6422500,6428260," I would assume that they're executed exactly in this order."
6428260,6434620," Because the consequent lines might depend on whatever happened in here."
6434620,6439220," So, let me try."
6439220,6442540," So there is no file pack bin in here."
6442540,6444400," So we cannot open the file."
6444400,6446260," Let's try to compile this entire thing."
6446700,6447240," It compiles."
6447240,6448700," So, first it executed that."
6448700,6450040," That generated bin."
6450040,6453120," And then we actually included bin."
6453120,6455340," But, here's another interesting thing."
6455340,6462300," Exec supports not only shell scripts."
6462300,6465400," It's actually even cooler than you think."
6465400,6467500," Exec."
6467500,6469460," Let's actually see modules."
6469460,6474960," Exec scripting."
6474960,6475400," Yeah."
6476400,6480820," Compile foo c3 and bar c3 in the scripts directory."
6480820,6483360," Invoke the resulting binary with the argument test."
6483360,6487820," You don't need to have the binary packer."
6487820,6491480," You can just pass c3 source code."
6491480,6494700," And it will compile it, execute it, and just run it."
6494700,6496640," And then you can include that stuff in there."
6496640,6500060," So, let's give it a fucking try."
6500060,6501580," I'm actually curious how it's going to do that."
6505000,6510540," So, packer c3 is obviously not going to work because it depends on stb image and stuff."
6510540,6511040," All right."
6511040,6513060," So, this is one of the things we'll have to do."
6513060,6515280," But let's try to run it and see how it fails."
6515280,6516020," Okay."
6516020,6518340," Yeah."
6518340,6519560," It failed with the..."
6519560,6519780," Okay."
6519780,6521260," So, it has to be common c3."
6521260,6521940," All right."
6521940,6523640," All right."
6523640,6524360," That's understandable."
6524360,6528000," The question is, can I put O file in there?"
6529880,6531380," stb image, oh."
6531380,6536080," You can't."
6536080,6539300," That is a shame."
6539300,6540780," Honestly."
6540780,6546900," So, wait, wait, wait."
6546900,6549540," So, did I do fucky-wacky?"
6549540,6550320," What did I put?"
6550320,6552840," So, this file does exist, right?"
6552840,6555340," This file does exist."
6556180,6557280," No, it doesn't."
6557280,6559500," What the fuck?"
6559500,6562580," Where is the stb?"
6562580,6564640," It doesn't exist."
6564640,6567980," Ah, because it cleans the depth afterwards?"
6567980,6568800," Is that what's going on?"
6568800,6570180," Yeah, I think that's what's going on."
6570180,6574580," Build.js."
6576980,6587360," So, we need to first build it like this, and only then."
6587360,6595100," And so, one of the things that c3, I suppose, does, it removes the object files that..."
6595100,6595600," Separator?"
6595600,6596840," So, what's up with separator?"
6596840,6597460," I don't understand."
6597460,6599360," Separator is fine."
6599360,6600660," Okay."
6600660,6601880," So, let's actually grab this thing."
6605440,6620100," Okay, so, if I put this thing in here, it generated stb image O, understandable."
6620100,6629900," So, now in here, I just put this thing in here, and if I try to run the test, it still cannot find that."
6630900,6638900," So, that probably means..."
6638900,6642900," It's kind of funny how..."
6642900,6650900," I have a feeling that it tries to detect that something..."
6652360,6654320," Compile, time, define, and include."
6654320,6656180," Ah, people are talking in the chat."
6656180,6656680," I'm sorry."
6656680,6659120," How exactly..."
6659120,6659420," Okay."
6659420,6662340," Guys, you know what the fuck that means?"
6662340,6664880," You know what the fuck that means?"
6664880,6667620," Let's go into the source code of c3."
6667620,6670720," And just figure out how the fuck this shit works."
6672400,6673220," Ah, all right."
6673220,6679860," So, I think you can find this thing with..."
6679860,6680620," Oh, my God."
6680620,6682580," Oof."
6682580,6684760," Oof, oof, oof, oof."
6684760,6688600," Yeah."
6688600,6689960," Okay."
6689960,6693600," So, we have a function."
6696060,6697060," Oh, it's a tokenizer."
6697060,6697320," Okay."
6697320,6700400," So, this creates a very specific token."
6700400,6701400," All right."
6701400,6702060," So, token..."
6702060,6705060," If you have a token..."
6705060,6706500," What was the..."
6706500,6707580," Token name, I suppose."
6707580,6708160," Yeah."
6708160,6709360," Token type to string."
6709360,6710880," You can convert it to a string."
6710880,6714160," So, and then st declaration."
6714160,6715700," Aha."
6715700,6717800," St exec."
6717800,6719500," So, this is the declaration."
6719500,6721600," So, probably want to look for these things."
6721600,6722920," Aha."
6722920,6724100," So, there's different cases."
6724100,6725640," I think it's a SEMA expert."
6725640,6728260," I remember when I was hacking C3 compiler,"
6728260,6732720," everything related to this meta language of C3,"
6732720,6735640," which is usually starts with dollar,"
6735640,6738580," is located in modules called SEMA."
6738580,6739740," Right."
6739740,6742480," Maybe it's kind of related to the name of that language."
6742480,6744620," Because C3 actually consists of two languages."
6744620,6744940," Right."
6744940,6747440," So, the main C3 language, which is closer to C,"
6747440,6749500," and kind of a second language,"
6749500,6750640," which is kind of preprocessor."
6750640,6752660," But it's a preprocessor that is also aware"
6752660,6755600," of the internals of the language it's preprocessing."
6755600,6755840," Right."
6755840,6757740," So, the problem with C is that the preprocessor"
6757740,6759500," doesn't know shit about C itself."
6759500,6759760," Right."
6759760,6761080," It just transforms the text."
6761080,6763600," So, here it's actually aware."
6763600,6766480," So, I think that maybe that's the name of that language."
6766480,6768420," So, I'm not kind of sure."
6768420,6771320," But there's a bunch of modules prefixed with SEMA."
6771320,6774360," And all of the modules prefixed with SEMA,"
6774360,6777120," they are related to that meta language of C3."
6777260,6778040," This is what I noticed."
6778040,6778980," I don't know what that means."
6778980,6780140," I'm not the author of this language."
6780140,6781820," I'm just saying my observations."
6781820,6784920," Just saying my observations."
6784920,6785220," Okay."
6785220,6788920," So, and this is where we had some stuff."
6788920,6790920," So, compilation."
6790920,6792600," All right."
6792600,6794060," So, this is probably where we want to be."
6795940,6797480," So, something is unreachable."
6797480,6799760," So, we're just checking some stuff."
6799760,6802840," And this is return CT."
6802840,6807460," Some expression on the CT name."
6807460,6809680," So, CT exec."
6809680,6812060," Uh-huh."
6812060,6813820," CT exec."
6813820,6815900," I don't really see it anywhere in here."
6815900,6816360," So, maybe."
6816360,6818500," So, what about this context?"
6818500,6819960," Decl register."
6820160,6821540," There's nothing particularly interesting."
6821540,6824260," Semodecals."
6824260,6828500," I would like to maybe."
6828500,6830820," You know what?"
6830820,6834580," I'm going to grab all of the SEMA files."
6834580,6835000," Right."
6835000,6838340," And I'm going to just grab exact in them."
6838340,6839500," Maybe with underscore."
6839500,6843780," Hoping to maybe find something related to what I need."
6843780,6844800," No, it didn't work."
6844800,6846620," What about just exact?"
6847020,6850440," What about no case insensitive?"
6850440,6850780," Okay."
6850780,6851740," So, that's weird."
6851740,6854020," Am I in the right place?"
6854020,6854720," Yes, I am."
6854720,6858080," Oh, it's in the compiler."
6858080,6858500," I assume."
6858500,6860300," And that's where we have to be."
6860300,6863220," Yeah."
6863220,6863880," Okay."
6863880,6867340," So, what I'm looking for."
6867340,6869100," I'm looking for maybe some functions."
6869100,6871140," Uh-huh."
6871140,6873500," Exec append."
6875140,6875580," Okay."
6875580,6877060," Exec decal filename."
6877060,6878560," Uh-huh."
6878560,6880200," I think that could be."
6880200,6883200," Could be something."
6883200,6887180," Exec argument append to scratch."
6887180,6889100," And this is an execution argument."
6889100,6890620," Expression is const."
6890620,6893120," Uh-huh."
6893120,6894260," Okay."
6894260,6895200," This one is interesting."
6895200,6896520," Semo run exec."
6896520,6898500," Is not permitted."
6898500,6899080," Yeah."
6899080,6900200," We even found."
6900200,6900480," Okay."
6900480,6902460," So, I should have actually started with the compilation error."
6902460,6903900," Because that would have been easier to find."
6904320,6905400," So, exec is not permitted."
6905400,6906440," Trust level must be that."
6906440,6908680," So, we found where this compilation error is happening."
6908680,6910380," Okay."
6910380,6911620," So, that's pretty cool."
6911620,6913600," So, we do the attributes."
6913600,6914740," File name."
6914740,6916860," Uh-huh."
6919500,6931480," I fucking knew it."
6931480,6934280," Like, I fucking knew that that's what's going on."
6934280,6936260," Like, I just, like, I felt it."
6936260,6937580," I fucking felt it."
6937580,6939440," Anyways."
6939440,6941960," So, let's try to rebuild this entire thing."
6942500,6945840," So, let me see."
6945840,6948180," Make J maybe 15."
6948180,6949000," Go."
6949000,6952440," Mm-mm."
6952440,6953620," Okay."
6953620,6953960," Good."
6953960,6961120," So, test C3."
6961120,6965160," And if I try to now do build."
6966540,6967440," It works."
6967440,6981100," So, essentially, you want to try to learn C3 if you are willing to go into the source code of compiler and hack the compiler to make it do what you want."
6982100,6984520," This language is for this kind of people."
6984520,6985340," Right."
6985340,6990760," If you're evaluating whether you want to learn C3, whether you want to commit into C3, are you ready to hack compiler?"
6990760,6992440," If yes, go for it."
6992440,6993100," It's actually fun."
6993100,6994300," I really recommend it, actually."
6994300,6997660," You see, the source code is actually rather readable."
6997660,7000920," Like, we just found the place and we fixed the thing that we needed to fix."
7003200,7003600," Easy."
7003600,7008400," So, yeah."
7008400,7010720," It's for this kind of people."
7010720,7014680," If you're not that kind of person, go program in Ziggo or whatever."
7014680,7020100," It's actually super fun."
7020100,7022720," So, let me see."
7022720,7024580," Yeah."
7024580,7027300," Isn't that cool?"
7027300,7029540," I think it's pretty freaking cool."
7033180,7035000," You know what would be interesting, actually?"
7035000,7038160," For a packer."
7038160,7039800," For a packer."
7039800,7042780," Wait."
7042780,7048020," Can packer also embed its own shit in here?"
7048020,7049360," Actually."
7049360,7054080," We could've, unironically,"
7054080,7057580," instead of saving that pack into a file,"
7057580,7062880," we could just generate a text with bytes and stuff."
7063160,7066060," Let me see."
7066060,7066060," Let me see."
7066060,7067480," So, packer, see."
7067480,7069280," Where is the packer?"
7069280,7070460," C3."
7070460,7072340," Right."
7072340,7074560," So, when we are rendering that,"
7074560,7077540," then what we want to render,"
7077540,7078920," we want to just render"
7078920,7081260," a character"
7081260,7082180," that"
7082180,7084300," pack"
7084300,7085500," equal"
7085500,7086520," this."
7087400,7089640," and just iterate bytes"
7089640,7090300," somehow."
7090300,7092100," I don't really know."
7092100,7093220," Let's do this."
7093220,7095100," Usize 0"
7095100,7096600," less than"
7096600,7098300," pack len."
7098300,7099700," Right."
7099700,7102800," And just simply"
7102800,7118920," ioprintfd that and what we're going to be printing is just pack i after that we want to just close it"
7118920,7126300," like this with a fan we don't even have to put a fan in here it's just like f just like don't even"
7126300,7134900," save the pack thing at all just forget about it forget about the pack literally directly generate"
7134900,7144240," this shit in here literally directly generate that shit in here isn't that cool um i think that's"
7144240,7155340," pretty fucking cool man isn't that cool i i keep repeating myself i'm sorry uh mods so who should"
7155340,7168060," we ban so who should we ban uh all right so let me see i'm gonna remove the pack bin"
7168060,7182360," uh i'm gonna remove the pack bin and let's go okay yeah this is a downside of this entire shit is that"
7182360,7187820," c3 compiler consumes all files and remove them"
7187820,7195080," it just doesn't leave them it consumes them"
7195080,7205440," uh so yeah now you have to recompile that thing one more time um yep that's what you have to do"
7205440,7213660," uh yes you see and now if i try to do something like this uh it kind of worked"
7213660,7225580," uh-huh indexing really bro bro what the fuck bro bro what the fuck this string how do i index it"
7225580,7235040," um can i get or do i have to convert it to string view"
7235040,7261620," pack view this um pack string view pack view go uh is it size it's just land i presume let's fucking go"
7261620,7275620," it works and notice how there's no pack bin because we directly generated c3 code in the packer like this"
7275620,7283140," we can run packer on its own just to see what is going well i mean it's kind of difficult to do that but"
7283140,7290900," um right so let's just run the packer on its own and this is what it does uh right so well"
7290900,7300160," you have to do damn the fact that c3 just consumes all files is annoying you have to recompile them"
7300160,7308080," why does it do that this is another another bug of c3 right so it has to be fixed i kind of understand why"
7308080,7315900," it probably has this system uh where it itself produces a lot of all files and it tries to clean"
7315900,7321600," up after itself that's why it was vomiting all files in the past remember that that's that's why"
7321600,7329840," um so uh yeah and that's the side effect of that system where your custom all files don't survive"
7329840,7337600," that it's a fix for all files explosion problem exactly oh the classical software development classical"
7337600,7345600," software development love it love it love it love it love it but who said we can't ex is there any"
7345600,7356640," way to just execute um shell command from here without including shit that would be cool actually"
7356640,7362400," so then uh then well it's probably too much but yeah"
7366160,7368320," but that is cool honestly"
7368320,7376480," another cool uh ex yeah exact uh sh blah blah blah blah blah blah blah"
7376480,7386000," uh so okay but but the problem here by the way is that it includes the output of this entire thing"
7386000,7392880," right it just includes the entire out uh so that means it will include the output of the compiler as well"
7393600,7400320," um is there anything for the clang to be silent uh redirect to null but that makes it"
7400320,7408000," not cross-platform that's the thing so we're starting to use explicit feature of shell and that is"
7408000,7413040," already not cross-platform like how am i supposed to do that on windows then so that's you're opening the"
7413040,7420480," whole like a pandora box uh so and that's kind of annoying but i mean this is not that big of an issue"
7420480,7430160," honestly it's not that big of an issue um what we can do this is why we have build js right so this is"
7430160,7440640," literally why we have that uh so yeah anyway i think we're ready to try to maybe build a client like this"
7441200,7447920," uh compile web platform why am i oh yeah so i was just thinking why do we have stb image this is"
7447920,7454080," because i was just experimenting with things uh huh so let me just do that"
7454080,7462880," and that is fine so i'm going to try to just do npm around build right so this is just npm around build"
7462880,7471120," uh uh what we're gonna do we're gonna go into the client c3 first test c3 and i'm gonna just grab this"
7471120,7478640," entire thing this is very important and in a client c3 which is gonna include that stuff somewhere just"
7478640,7485360," somewhere at the top in here just somewhere at the top and uh let's just build this entire thing so"
7485360,7492000," it doesn't compile properly oh yeah it has to be trust full all right so it has to be trust full"
7492000,7500400," um so build js and let's put that stuff in here trust full"
7500400,7511040," okay so this is the size of the client before baking all of that in the client 70 kilobytes"
7511680,7520480," uh and it still stayed 70 kilobytes because i suppose i presume um yeah it"
7520480,7527680," basically illuminated all that because it was not using any of that that's probably why"
7527680,7537120," uh even though i explicitly said just use that so one of the things we can do uh you never included pack"
7537120,7540720," bean somebody doesn't watch the stream very carefully you don't have to include it"
7540720,7550560," okay so let me see uh now i want to find a render the game and as you can see here in render the game"
7550560,7559040," we accept all sorts of images in here right so we accept all sorts of images um so that's very interesting"
7559920,7565840," and that's very interesting we can maybe now move them in here okay"
7565840,7572240," so they are not part of the arguments anymore"
7572240,7578800," the real question though how can we even"
7581040,7590640," we need to transform the images somehow we need to transform them somehow because right now images are"
7590640,7595680," uh structures with flexible arrays"
7595680,7603520," and i did that because it made the interaction with"
7605440,7615040," um javascript a little bit easier because the javascript could just allocate uh you know 264 bits"
7615040,7620720," in here or it's actually 32 right 232 bits in here and a little bit for the pixels and just put all of"
7620720,7630240," the pixels in there so that's why i did that and i still do that i still need to oh i don't need to do"
7630240,7638000," that anymore if i'm gonna be yeah the since everything is gonna be baked javascript doesn't even need to"
7638000,7644960," know about any of these things so we can actually make it sort of a slice of the pixels we're making"
7644960,7655280," it a slice of the pixels like so uh color no stride yeah no stride for now at least so if i try to compile"
7655280,7658400," listen to this entire shit now how bad is it going to be"
7658400,7667440," well if i could just worked fuck you wait i quoted it in a way it doesn't fucking matter"
7667440,7674320," hell man hell yeah all right so"
7674320,7681040," okay so i'm i'm i'm fine with that so it means i'm a good programmer i suppose"
7681680,7689040," um so now we need to extract some of those things so first of all i'm gonna make those things something"
7689040,7701840," like this um and let's go to i don't even know uh i need to i need to have a packer i suppose"
7703040,7712800," so this is going to be the image and okay i suppose i need a function that will get me um bytes by"
7712800,7721840," file name right so pack uh unpack file name and we're going to just accept string file name"
7722560,7729200," uh-huh so and in here this entire thing is going to simply um i don't know just return"
7729200,7736720," point uh actually pointed to yeah just pointed to the bytes maybe even just void right so it has to be"
7736720,7742560," void um if it cannot find we're going to just return null right we could have just thrown an exception but"
7742560,7752240," i don't want to deal with that so for uh asset assets right so for asset assets if a file name"
7752240,7762240," is equal to the file name we found it so we take the pack uh asset offset and we just return that"
7762240,7768560," interestingly we can okay so we can maybe just return the asset then"
7769680,7778400," i think it would be just easy because now you know the size uh so asset by file name so you get asset"
7778400,7785680," all right just asset and here you just return no if you couldn't find that"
7785680,7791040," if you couldn't find that um"
7792640,7804000," so asset width and height but i mean our in our case asset yeah i preemptively made assets too generic"
7804000,7812000," that's the problem chat i'm going to only store images in there but i already made it too generic"
7812000,7820080," let's actually make it very specific so i'm gonna go into the common and i'm gonna actually call it"
7821920,7828560," uh you know image assets yeah so image assets so string file name uh is going to be offset"
7828560,7831840," but then it's going to have width and height"
7831840,7839520," about that architecture is too clean exactly that's what happened architecture is too good and clean"
7839520,7851120," uh death by obstruction so yeah that's true image assets uh so let's be specific maybe okay so i'm not"
7851120,7854160," going to rename it because that will mean i have to rename too many things"
7854160,7861120," okay so let's try to rebuild the whole thing uh so it fails somewhere i'm not really sure where"
7861120,7866960," uh it fails at client uh 839"
7866960,7870160," so it doesn't have"
7871680,7873840," uh it's a for each understandable"
7873840,7885760," two few arguments okay so now it fails in packer 27 uh so we have offset size width and height x and y"
7885760,7893120," all right that's what we're gonna have in here uh-huh error there is no field type so this is in the packer"
7893120,7899840," 48. ah that's understandable so that means we're gonna have this so offset width"
7899840,7909920," asset height let's go uh-huh what's the next error it's not possible to cast acid to acid pointer that's also"
7909920,7916320," understandable uh all right all right all right 41 uh it's actually client"
7916320,7918560," what's your one"
7918560,7926960," so because it has to be pointed so though we can do something like this yeah so now"
7927680,7938240," i want to return actually pixels pixels uh pixels asset pixels now let's do let's do assets right because"
7938240,7945200," it has a size and stuff like that uh point time and just return so that should be fine now"
7945200,7957280," uh-huh uh-huh uh-huh so okay we're ready to go um what i want to do asset my file name"
7957280,7963840," so what's going to be the file name go to the packer key"
7966640,7974480," so that's what we have so we take an asset by this so asset uh key asset and we want to construct an"
7974480,7982080," image out of the key asset i want to construct an image out of the key asset so how we're going to be"
7982080,7988720," doing that so the image is width and height uh struct image okay so width and height so we take key asset"
7988720,7994560," you know what let's actually have one so because it's going to be easier for us then to work with that"
7995760,8010400," key image asset width asset uh height and pixels are pack asset offset pointer"
8010400,8012720," color"
8012720,8022720," is it going to be a problem in the future because color is a vector i didn't think so but it may become a problem"
8022720,8036480," in the future uh okay so error 849 forgot that okay what's the other error it's not possible that's fine"
8036480,8044400," so now every time we refer to key image in here we have to do something in image like this not this one"
8044400,8050080," but this one yeah so there's only one in here so now we should just compile but it will fail with some other"
8050080,8058480," things uh 857 yeah so now it fails with other things fine um so what we have to do in here now we have to take"
8058480,8072640," a bomb uh particle uh wall and player right i suppose we do have all of them yeah so because they're simple like that"
8073360,8080240," uh-huh uh-huh uh-huh and we can simply just like copy paste the whole thing"
8080240,8085200," there we go it's a little bit unreadable"
8085200,8092320," i mean uh i think we can live with that so i'm gonna go through all of the compilation errors a little bit"
8092320,8101760," but maybe i'm gonna do um no it's better to go through the compression errors uh-huh error"
8101760,8104560," 61"
8104560,8108800," client 861"
8108800,8114480," uh-huh so this is a bomb image let's go through all of the underscore images"
8116080,8119280," uh-huh uh-huh like so"
8119280,8127440," like so uh i don't see in here i think that's the basically the last one"
8127440,8132000," no way it just compiled"
8137920,8143840," all right you know what would be cool if we'd actually find all of that shared compile them"
8143840,8152800," let me try to go to client mts and the thing we're going to be doing right now by the way we're going"
8152800,8158400," to go into the render game we're going to get rid of all of the images in here right so we were"
8158400,8165280," passing all of these images into the render game because we couldn't actually get them uh right so and"
8165280,8170800," also in the asset manager in javascript we should get rid of all of these things as well"
8170800,8175600," right so that creates like a seven compilation errors but that's totally fine let's go through"
8175600,8185440," uh still all of them so what's the next error uh so we don't pass any of this stuff into"
8185440,8194320," typescript next error so this is just a warning whatever okay so we don't actually pass any information"
8194320,8201520," in here uh and that's it so when we create a game yeah we're still loading this we should not load"
8201520,8211840," yeah so all of that code goes away so that means all of that code goes away um so load wasm so loading"
8211840,8217760," images is not a needed thing right it's not something that we need anymore honestly"
8218400,8226640," it's just not something that we need anymore uh and in wasm client we had an opportunity to allocate"
8226640,8231600," image and also get the image pixels we also don't need neither of these things anymore because all of"
8231600,8237920," the images are inside of wasm module uh but we need to actually get rid of them on the level of wasm too"
8237920,8244800," so client c3 here's the function we don't allocate shit anymore and image pixels we don't need that stuff"
8244800,8250320," anymore either and they're not correct anyway right so because javascript code was assuming that those"
8250320,8255840," things were structured with flexible array members we changed them into just slice which is three numbers"
8255840,8261440," with height and pointer so the assumptions of a javascript code about the image in the wasm memory"
8261440,8267680," isn't correct anyway so we don't want to even do anything about that uh right so all these functions"
8267680,8275520," are gone so and i really like when this interface actually shrinks because that's the interface through"
8275520,8281600," which the javascript code communicates with the wasm code the smaller that interface is the smaller the"
8281600,8288320," surface area that creates a friction right because this is where all the friction happen so my goal is to"
8288320,8299440," make this thing as small as possible know what i'm talking about right smaller than my pp oh got them"
8299440,8308720," so we don't have to do that and we don't have to do that cool uh and it compiles i suppose right so it"
8308720,8314560," totally compiles um let's take a look at the client wasm so client wasm was 70 kilobytes"
8315280,8322400," and now it's 172 which is actually exactly what we would expect because the assets weigh 100 kilobytes"
8322400,8329600," so since we're now using the pack it's not that code illuminated so it's now part of the pack"
8329600,8340720," right but this is actually a cool thing because um before we were loading assets separately uh now uh we are"
8340720,8346080," loading code game game code and the assets simultaneously with a single fetch"
8346080,8350400," exhibit that's actually a cool idea so let's actually exhibit and see how small it becomes"
8350400,8356800," i exhibit the wrong thing i'm sorry i'm going to zip uh yeah so let's exhibit"
8356800,8361840," 30 kilobytes"
8364080,8368400," i think it was like that already even before the pet like it's 30 kilobytes come on"
8368400,8374240," it's just 30 kilobytes uh so and this is what these servers will do automatically if you configure them"
8374240,8380080," to do that um right so at least github when it serves the assets it actually exhibits them i don't"
8380080,8386720," know if http server that we have in here actually exhibits anything um so where is the serve"
8387760,8398560," js server j s right is there any way to say zip things http server node http server where is the"
8398560,8405280," documentation i think there was a yeah i think there was the documentation right in there so i can do"
8405280,8413280," node modules bin http server this is not what i want uh help do you have any help yeah there we go oh yeah"
8413280,8418960," you can actually exhibit i okay let's actually enable zipping on the on the test server because"
8418960,8428080," why not i think it's a good idea i think let's try the good idea so yeah oh well i mean so false goes here"
8428080,8435360," um so let's put it somewhere here on this dream so now when it's served uh it is going to exhibit all"
8435360,8440400," that stuff okay i think that is it actually"
8440400,8450480," uh okay so let me rebuild everything one more time so i think tsc is enabled uh we're using a little bit"
8450480,8458800," of a clang right to just build stb image uh right so let's also rebuild server just in case even though"
8458800,8467600," we're not we were not messing with the server in any way apparently we were okay so something with a"
8467600,8477840," client aha client c3 what ah because i removed some of the functions 24 oh okay okay so because we're"
8477840,8484800," allocating image internally for the display okay so let's bring allocate image back but this one is slightly"
8486080,8493200," it still vomits the old files but anyway uh so let me let me see so what was the"
8493200,8503360," client c3 allocate uh i think the thing i'm going to do by the way by the way um"
8506240,8514160," this has to be like this this has to be like this uh image pixels"
8514160,8519200," pixels"
8519200,8524400," um so mem calloc"
8524400,8532720," we're allocating color all right we're allocating color but we're taking the size of this thing and"
8532720,8540080," multiply it by width and by height that's that's what we're doing all right so let's try to compile"
8540080,8545520," is it compiling no it's not compiling what else do we want there's no field image pixel because there's"
8545520,8548800," several of them it's pixels let's go"
8548800,8560240," all right it's not okay so this one is rather interesting now so there's a few places where we"
8560240,8568560," have to pass literally a pointer so this is what it wants it wants it to do that by pointer that's fine"
8568560,8576080," okay the entirety of the thing finally compiles the entirety of the thing finally comes i hope it's not"
8576080,8582320," gonna trip over itself right because i did a little bit of assumption checking about the memory layout and"
8582320,8588400," it's kind of dangerous honestly i like to do this kind of shit but i kind of have to all right so"
8588400,8593040," since the code that was using this assumption is going away anyway so it was kind of fine"
8593040,8599760," kind of sort of never know but i mean let's go serve uh okay so"
8604400,8616800," yeah uh tripped over itself oh how do i how do the dark mode in here can nobody tell me settings"
8618320,8626240," deems dark okay do we have anything we have anything we don't have shit brother doesn't even"
8626240,8628960," throw an exception useless"
8628960,8634480," fucking use it's funny like what the is going on here why is it so bad"
8634480,8640400," um probably because it never refreshes or anything"
8640960,8649200," um okay it's totally fine what's funny is that i think um need directs to x11 yeah"
8649200,8656480," i feel like it might be crashing yeah it doesn't even refresh it"
8656480,8663280," that means it doesn't produce any pixels or maybe it just maybe it just produces like like a transparent"
8663280,8675760," ones maybe that's what's going on uh yeah that is totally bizarre that is totally bizarre"
8675760,8679680," and i wonder what is going on"
8679680,8691600," we can maybe assert something so assert asset to be a thing that actually exists"
8693280,8711360," right so just assert assets and i hope that when you assert it will actually do the thing"
8711360,8721120," wasm to what i don't think it's time for wasm to what yet i don't think it's time for wasn't what"
8721760,8731520," uh we need to make it at least fail all right just to see what kind of assumptions are broken in here"
8731520,8734160," something is definitely broken"
8734160,8743360," um but the player is still playing so it just it just works to some extent"
8749680,8756240," so what if i just leave a rendering of the floor for instance um"
8756240,8760480," oh yeah maybe this could be something with the display"
8760480,8769520," so resize display okay so here's the pixels i allocate new pixels of the size so these are"
8769520,8771920," the colors and stuff like that that's understandable"
8773680,8780480," and then display image width um okay i see okay"
8780480,8787840," of course"
8787840,8796240," of course of course let's go let's go mate holy it works it actually works"
8796800,8802800," so now look chat to look at the network look at the network"
8802800,8808640," do you see any images well i mean there is a favicon but apart from that"
8808640,8815600," look at that there's only uh client mgs common mgs"
8815600,8820240," client wasm and favicon which is uh featured automatically"
8822800,8830640," that's it the images that were loaded before um you know by the browser they are now baked into the"
8830640,8834560," wasm right we can even compare that with the previous situation"
8834560,8841520," so uh all right let me try to rebuild this thing with the previous stuff we are starting the whole thing"
8842240,8847840," um right so i'm gonna just do it like that as you can see here are the pngs"
8847840,8852160," so we refresh it loads all of the pngs in here"
8852160,8854400," it loads all of the pngs"
8854400,8859440," but now if we go back uh right let's pull this stash"
8864000,8865600," you understand what the f you want but"
8865600,8875840," this is a very dangerous situation let me remove uh all files just in case"
8875840,8885120," because it's kind of difficult to see what the f is going on um so let's also remove that and that"
8886560,8894320," oh i think i know what the f is going on yeah so and then uh and stash all right and then rebuild the"
8894320,8894800," whole thing"
8894800,8904320," yeah so now i'm gonna refresh there is no image files right because they're part of the wasm"
8904320,8909680," uh and the size of the wasm is 175 kilobytes does it show the compressed one though"
8909680,8915440," uh i don't really know like is there any way in firefox specifically to see the compressed one we can"
8915440,8919440," take a look at the chromium right so let's take a look at the chromium um so"
8919440,8925920," why did it put it on the side it's very inconvenient"
8925920,8931920," all right let's go"
8931920,8942480," all right now it still shows the uncompressed one"
8944320,8951200," but i mean if you compress it it goes down to 30 kilobytes but anyway we succeeded so we actually"
8951200,8958800," managed to bake this kind of stuff and we were using quite a few c3 magics right so essentially we"
8958800,8967120," created a packer that reads all of these images and just spits out the c3 code kind of similar to png2c"
8967920,8977040," but the thing is that we don't really have to save it to a separate file and then compile it separately"
8977040,8985360," because the thing that c3 can do now it can actually like do that all of that stuff for you right so we"
8985360,8991840," just say compile the packer right which is to be image and just run it and include everything it"
8991840,8999040," generates into here as this as the text and then compile it so sort of like streamlines streamlines"
8999040,9006160," the thing that i was doing in c anyway right which is kind of cool the only downside the only downside"
9006160,9014320," is that it removes that get them stb image all that is kind of mad it would be also kind of cool to be"
9014320,9022160," be able to call c compiler from here so to compile all right maybe you should just have a built-in c compiler"
9022160,9027040," like zeek so that would be actually kind of cool so maybe should the learner should think about that"
9027040,9032720," uh right so because we're competing with zeek right right we're competing i don't know probably not"
9032720,9040240," not competing with anybody just chat posting on the internet um yeah"
9041680,9048240," very cool i like that i really really like that so let's take a look at uh what we need to commit"
9048240,9055520," in here so uh math we don't need math we don't need any of that stuff uh all right so we only need"
9055520,9060080," the packer and the rest of the things okay let me try to recompile this one more time"
9062640,9064240," and let's just do a committee committee"
9064240,9075200," so back all the images into client wasm and i'm going to push that right into the repo"
9075200,9081440," uh okay so it wasn't it wasn't acknowledging subs for a little bit i really apologize for that because"
9081440,9086640," i was really busy with the code thank you so much gyozmc for twitch prime boracus linder thank you so much"
9086640,9092080," for this time and snowy api thank you so much uh dexas ttp thank you so much for tier one subscription"
9092080,9098480," thank you thank you thank you isn't that poggers mine a friend there isn't that fucking poggers i"
9098480,9104320," think it's pretty fucking poggers right so it's not perfect by any means honestly it's not perfect"
9104320,9110960," by any means uh but i think it could become better in the future i do think so i think it could become"
9110960,9117840," better all right that's it for today thanks everyone who's uh watching me right now i really"
9117840,9124720," appreciate that have a good one and i see you all on the next recreation programming session with mr azosen"
9124720,9131760," i love you this is the footnote of the session because uh i realized that i committed the code that"
9131760,9138160," is not compilable but by any of the c3 compilers in the world because i just used the feature that i just"
9138160,9147120," hacked on the stream so let's quickly fix that so i'm going to go into the uh c3 compiler and i'm"
9147120,9151040," going to revert the changes that i made i'm going to eventually try to submit them other pull requests"
9151040,9156480," because i think it's a pretty valuable feature but as far as i know learner doesn't really like"
9156480,9163520," exec macro because um he doesn't like the way people try to use it right so maybe he's not going to accept"
9163520,9169200," that but i'm going to try anyway so for now i just want my code to be compilable at least by the compiler"
9169200,9173920," that you can get from the official source code right so i think that's important so what's the changes"
9173920,9178080," let's take a look at them so that's a very simple change i'm going to stash it just for now"
9178080,9183280," and i'm going to go ahead and recompile the compiler back super quick so i'm going to use as"
9183280,9188480," many threads as possible so it goes faster it doesn't really matter because everything depends on one"
9188480,9194480," single slow dependency so we still have to wait for it uh though you know it was actually fine i think"
9194480,9200320," it was linking that was taking the most amount of time uh so let's try to reinstall the whole thing"
9200320,9208240," uh and now if i go into my project coil and try to compile the whole thing npm run build it is not"
9208240,9214640," going to compile right because it cannot run stb image it can compile stb image o from that specific"
9214640,9221440," exec micro thingy so i guess the solution for now is going to be actually compile the packer"
9221440,9227360," into the executable and then call the packer executable from the exec uh right so let's go"
9227360,9234560," into the client c3 um where is the exec so here it is instead of doing that we're going to be just calling"
9234560,9238960," the packer but we need to make sure that it is build so let's go into the build.js"
9239760,9246880," so okay here we build the stbo right after that we need to build the packer let's go ahead and do that"
9246880,9254800," uh it's going to be c3c and here come the arguments for the packer for the for the compiler rather"
9254800,9264080," so let's do compile and uh so we have to provide the packer c3 uh we also probably have to provide the"
9264080,9274640," common common common c3 and also stb image o do we need to provide anything else i don't think so so"
9274640,9281920," for now i'm going to actually disable compiling client and the server uh right now let's just see what is"
9281920,9287040," going to happen if i just try to build that so is it building the packer it is in fact building the packer"
9287040,9294160," but i don't want to build the client before the packer has built successfully so i guess i need to"
9294160,9301120," do another nested you know on close thingy uh so as far as our server right now doesn't really care about"
9301120,9308800," the packer so it's not dependent on it so let's do the following thing on close uh data like so and i'm"
9308800,9318160," going to wrap it around uh like this uh so i know it's dumb and pretty prone to uh come um callback hell"
9318160,9323280," but i'm going to fix it later right so as already said for now this is a very simple thing that is"
9323280,9328240," manageable as soon as it becomes unmanageable i'm going to try to fix that it's totally fine"
9328240,9336400," uh right so data is the exit code of that specific command and if it's not zero just return that uh right"
9336400,9342720," and after that it's going to be compilable while packer and the client are compiling we can in a"
9342720,9347440," separate thread compile the server because it doesn't depend on the packer stuff or anything like that"
9347440,9353280," in fact by the way it doesn't depend on stb uh image either so that means we can actually make"
9353280,9359760," it completely independent right so these are two separate tasks the thing about cmd is that uh it runs"
9359760,9365920," you know asynchronously right so it runs in parallel uh right so to make it sort of run sequentially we"
9365920,9373200," have to do something like this i'm pretty sure this is possible to sort of like a syncify or promissify"
9373200,9376800," or something like that but i couldn't be bothered to actually research how to do that right now so i'm"
9376800,9381840," just doing it in a dumb way um okay so let's actually go ahead and try to build the whole thing"
9381840,9389120," right is it building is it working is it i think it is working it is in fact it's working uh so that's"
9389120,9397520," pretty cool uh let me try to maybe start the server to make sure that everything is working uh right"
9397520,9410000," let's go here and uh so yeah let's do npm run surf uh and let's maybe open localhost okay everything"
9410000,9416160," seems to be working so that's fine uh so let's go ahead and commit the fixed version"
9416160,9422080," so we have some stuff in here maybe i want to get to ignore the packer actually we probably need"
9422080,9428640," to introduce some sort of a folder where all the artifacts that are not committed into the source code"
9428640,9439120," will go uh like packer and stuff like that uh all right so fix the compilation of the packer all right"
9439120,9447600," fix the compilation of the client with packer all right i'm gonna push that right into the record"
9447600,9451680," all right that's finally it thanks everyone who's watching me right now really appreciate that"
9451680,9463200," have a good one and see you on the next recreational programming session with mr zosin"
